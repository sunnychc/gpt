<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>神经网络、Transformer与GPT教学</title>
    <!-- TailwindCSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- MathJax 支持 -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- 引入现代化图表库 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- 引入高亮动画库 -->
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                fontFamily: {
                    sans: ['"Noto Sans SC"', 'system-ui', 'sans-serif'],
                    mono: ['"JetBrains Mono"', 'monospace'],
                },
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        secondary: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        },
                        accent: {
                            50: '#fdf4ff',
                            100: '#fae8ff',
                            200: '#f5d0fe',
                            300: '#f0abfc',
                            400: '#e879f9',
                            500: '#d946ef',
                            600: '#c026d3',
                            700: '#a21caf',
                            800: '#86198f',
                            900: '#701a75',
                        }
                    },
                    typography: (theme) => ({
                        DEFAULT: {
                            css: {
                                color: theme('colors.secondary.800'),
                                a: {
                                    color: theme('colors.primary.600'),
                                    '&:hover': {
                                        color: theme('colors.primary.700'),
                                    },
                                },
                            },
                        },
                        dark: {
                            css: {
                                color: theme('colors.secondary.200'),
                                a: {
                                    color: theme('colors.primary.400'),
                                    '&:hover': {
                                        color: theme('colors.primary.300'),
                                    },
                                },
                            },
                        },
                    }),
                    animation: {
                        'bounce-slow': 'bounce 3s infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'spin-slow': 'spin 8s linear infinite',
                        'ping-slow': 'ping 3s cubic-bezier(0, 0, 0.2, 1) infinite',
                    },
                    boxShadow: {
                        'soft': '0 2px 15px -3px rgba(0,0,0,0.07),0 10px 20px -2px rgba(0,0,0,0.04)',
                        'soft-xl': '0 5px 25px -5px rgba(0,0,0,0.1),0 10px 10px -5px rgba(0,0,0,0.04)',
                    }
                },
            },
        }
    </script>
    <style>
        /* 加载 Google 字体: Noto Sans SC */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap');
        /* 加载 JetBrains Mono 字体 */
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');

        /* 平滑滚动效果 */
        html {
            scroll-behavior: smooth;
        }

        /* 自定义动画 */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.7s ease-out forwards;
        }

        @keyframes gradient-bg {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .gradient-animate {
            background: linear-gradient(90deg, #0ea5e9, #6366f1, #d946ef);
            background-size: 200% 200%;
            animation: gradient-bg 8s ease infinite;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-bg {
            background-image:
                radial-gradient(circle at 20% 35%, rgba(14, 165, 233, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 10%, rgba(217, 70, 239, 0.1) 0%, transparent 50%);
        }

        /* 滚动条美化 */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background-color: rgba(156, 163, 175, 0.5);
            border-radius: 20px;
        }

        .dark ::-webkit-scrollbar-thumb {
            background-color: rgba(75, 85, 99, 0.5);
        }

        /* 图片加载淡入效果 */
        img {
            opacity: 0;
            transition: opacity 0.5s;
        }

        img.loaded {
            opacity: 1;
        }

        /* 加载效果 */
        .section-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.7s ease-out, transform 0.7s ease-out;
        }

        .section-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* 卡片悬停效果 */
        .topic-card {
            transition: all 0.35s cubic-bezier(0.165, 0.84, 0.44, 1);
            backface-visibility: hidden;
        }

        .topic-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px -5px rgba(0, 0, 0, 0.1), 0 10px 15px -5px rgba(0, 0, 0, 0.04);
        }

        .dark .topic-card:hover {
            box-shadow: 0 15px 35px -5px rgba(0, 0, 0, 0.3), 0 10px 15px -5px rgba(0, 0, 0, 0.2);
        }

        /* 代码块样式 */
        pre {
            border-radius: 6px;
            padding: 15px;
            overflow-x: auto;
        }

        .dark pre {
            background-color: #1e293b;
        }

        /* 数学公式容器样式 */
        .math-container {
            overflow-x: auto;
            padding: 1rem;
            margin: 1rem 0;
            background-color: rgba(241, 245, 249, 0.6);
            border-radius: 8px;
        }

        .dark .math-container {
            background-color: rgba(30, 41, 59, 0.6);
        }

        /* 互动演示区域 */
        .demo-container {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            background-color: #f8fafc;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .dark .demo-container {
            background-color: #1e293b;
            border-color: #334155;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1);
        }
    </style>

    <style>
        /* 隐藏浏览器自带滚动条 */
        #cardsContainer::-webkit-scrollbar {
            display: none;
        }

        /* 支持卡片对齐 */
        .snap-x {
            scroll-snap-type: x mandatory;
        }

        .snap-start {
            scroll-snap-align: start;
        }

        /* 平滑滚动效果 */
        #cardsContainer {
            scroll-behavior: smooth;
        }
    </style>
</head>

<body
    class="bg-gray-50 text-secondary-800 dark:bg-secondary-900 dark:text-secondary-200 transition-colors duration-300">
    <!-- 导航栏 -->
    <header
        class="sticky top-0 z-50 bg-white/90 dark:bg-secondary-800/90 backdrop-blur-md shadow-sm transition-colors duration-300">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <!-- Logo 和网站标题 -->
                <div class="flex items-center space-x-3">
                    <div
                        class="w-10 h-10 flex items-center justify-center bg-gradient-to-br from-primary-500 to-accent-500 text-white rounded-lg shadow-md">
                        <i class="fas fa-brain text-xl"></i>
                    </div>
                    <span class="text-xl font-bold">神经网络与GPT教学</span>
                </div>

                <!-- 导航链接 -->
                <nav class="hidden md:flex space-x-8">
                    <a href="#neural-networks"
                        class="text-secondary-600 hover:text-primary-600 dark:text-secondary-300 dark:hover:text-primary-400 transition-colors duration-200">神经网络</a>
                    <a href="#transformers"
                        class="text-secondary-600 hover:text-primary-600 dark:text-secondary-300 dark:hover:text-primary-400 transition-colors duration-200">Transformer</a>
                    <a href="#gpt"
                        class="text-secondary-600 hover:text-primary-600 dark:text-secondary-300 dark:hover:text-primary-400 transition-colors duration-200">GPT</a>
                </nav>

                <!-- 深色模式切换和移动端菜单按钮 -->
                <div class="flex items-center space-x-4">
                    <button id="theme-toggle"
                        class="p-2 rounded-full bg-secondary-100 dark:bg-secondary-700 hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500">
                        <i class="fas fa-sun text-yellow-500 dark:hidden"></i>
                        <i class="fas fa-moon text-blue-300 hidden dark:block"></i>
                    </button>

                    <button id="mobile-menu-button"
                        class="md:hidden p-2 rounded-md bg-secondary-100 dark:bg-secondary-700 hover:bg-secondary-200 dark:hover:bg-secondary-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>

            <!-- 移动端菜单 (默认隐藏) -->
            <div id="mobile-menu" class="md:hidden pb-4 hidden">
                <div class="flex flex-col space-y-3">
                    <a href="#neural-networks"
                        class="px-4 py-2 rounded-md text-secondary-600 hover:text-primary-600 hover:bg-secondary-100 dark:text-secondary-300 dark:hover:text-primary-400 dark:hover:bg-secondary-700 transition-colors duration-200">神经网络</a>
                    <a href="#transformers"
                        class="px-4 py-2 rounded-md text-secondary-600 hover:text-primary-600 hover:bg-secondary-100 dark:text-secondary-300 dark:hover:text-primary-400 dark:hover:bg-secondary-700 transition-colors duration-200">Transformer</a>
                    <a href="#gpt"
                        class="px-4 py-2 rounded-md text-secondary-600 hover:text-primary-600 hover:bg-secondary-100 dark:text-secondary-300 dark:hover:text-primary-400 dark:hover:bg-secondary-700 transition-colors duration-200">GPT</a>
                </div>
            </div>
        </div>
    </header>

    <!-- 主要内容 -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- 首页区域 -->
        <section class="py-16 md:py-24 hero-bg relative overflow-hidden fade-in">
            <div class="absolute top-0 right-0 opacity-30 dark:opacity-10 pointer-events-none">
                <svg width="450" height="450" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <path fill="#0ea5e9"
                        d="M34.7,-58.9C46.4,-53.1,58.1,-46.3,68,-35.9C77.9,-25.4,86,-11.4,84.8,1.7C83.6,14.7,73.1,26.5,63.2,37.3C53.3,48.1,44,57.9,32.7,65.1C21.4,72.2,8,76.8,-5.1,74.5C-18.2,72.2,-31,63.1,-43.9,54.2C-56.7,45.3,-69.5,36.5,-76.7,23.8C-83.9,11.1,-85.6,-5.6,-82.2,-21.3C-78.9,-37,-70.7,-51.8,-58.4,-58C-46.1,-64.3,-29.7,-62,-16.2,-57.6C-2.7,-53.3,8,-61,19.6,-63.6C31.2,-66.2,43,-64.7,34.7,-58.9Z"
                        transform="translate(100 100)" />
                </svg>
            </div>

            <div class="absolute bottom-0 left-0 opacity-30 dark:opacity-10 pointer-events-none">
                <svg width="300" height="300" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <path fill="#d946ef"
                        d="M37.9,-65.7C50.1,-59.8,61.9,-50.6,70.9,-38.3C79.9,-26,86.2,-10.6,85.8,4.6C85.4,19.9,78.4,35,68.2,46.5C58,58,44.7,65.9,30.6,71.6C16.5,77.3,1.6,80.9,-13.9,79.3C-29.5,77.7,-45.7,71,-56.4,59.3C-67.2,47.6,-72.4,31,-76.3,13.8C-80.2,-3.4,-82.8,-21.2,-77.5,-36.1C-72.2,-51,-59.1,-63,-44.6,-68.7C-30,-74.4,-14,-73.8,-0.2,-73.5C13.6,-73.2,25.7,-71.6,37.9,-65.7Z"
                        transform="translate(100 100)" />
                </svg>
            </div>

            <div class="relative z-10 text-center max-w-4xl mx-auto px-4">
                <h1 class="text-4xl md:text-6xl font-bold mb-8 leading-tight">
                    神经网络、<span class="gradient-animate">Transformer</span>与<span class="gradient-animate">GPT</span>
                </h1>
                <p
                    class="text-xl md:text-2xl text-secondary-600 dark:text-secondary-300 max-w-3xl mx-auto leading-relaxed">
                    探索人工智能的核心技术：从基础神经网络到最先进的大语言模型
                </p>
                <div class="mt-12 flex flex-wrap justify-center gap-4">
                    <a href="#neural-networks"
                        class="px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white rounded-lg shadow-lg hover:shadow-xl transition duration-300 transform hover:-translate-y-1">
                        <i class="fas fa-brain mr-2"></i>开始学习
                    </a>
                    <a href="#overview"
                        class="px-8 py-4 bg-white dark:bg-secondary-800 hover:bg-secondary-100 dark:hover:bg-secondary-700 text-secondary-800 dark:text-secondary-200 rounded-lg shadow-lg hover:shadow-xl transition duration-300 transform hover:-translate-y-1 border border-secondary-200 dark:border-secondary-700">
                        <i class="fas fa-map mr-2"></i>内容概览
                    </a>
                </div>

                <!-- 悬浮卡片效果 -->
                <div class="flex flex-wrap justify-center gap-5 md:gap-8 mt-16">
                    <div
                        class="w-28 h-28 md:w-32 md:h-32 flex items-center justify-center bg-white dark:bg-secondary-800 p-6 rounded-2xl shadow-soft-xl animate-bounce-slow hover:shadow-lg transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-network-wired text-4xl text-primary-500"></i>
                    </div>
                    <div
                        class="w-28 h-28 md:w-32 md:h-32 flex items-center justify-center bg-white dark:bg-secondary-800 p-6 rounded-2xl shadow-soft-xl animate-pulse-slow hover:shadow-lg transition-all duration-300 transform hover:scale-105 delay-100">
                        <i class="fas fa-project-diagram text-4xl text-accent-500"></i>
                    </div>
                    <div
                        class="w-28 h-28 md:w-32 md:h-32 flex items-center justify-center bg-white dark:bg-secondary-800 p-6 rounded-2xl shadow-soft-xl animate-bounce-slow hover:shadow-lg transition-all duration-300 transform hover:scale-105 delay-200">
                        <i class="fas fa-robot text-4xl text-emerald-500"></i>
                    </div>
                </div>
            </div>
        </section>

        <!-- 内容概览 -->
        <section id="overview" class="py-16 md:py-20 section-content">
            <h2 class="text-3xl md:text-4xl font-bold mb-10 text-center text-secondary-900 dark:text-white"
                data-aos="fade-up">内容概览</h2>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
                <!-- 神经网络卡片 -->
                <div class="topic-card bg-white dark:bg-secondary-800 rounded-xl shadow-soft overflow-hidden"
                    data-aos="fade-up" data-aos-delay="100">
                    <div class="h-3 bg-gradient-to-r from-primary-400 to-primary-600"></div>
                    <div class="p-6 md:p-8">
                        <div
                            class="w-16 h-16 flex items-center justify-center bg-primary-50 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 rounded-full mb-6">
                            <i class="fas fa-brain text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-4 flex items-center">
                            神经网络
                            <span
                                class="ml-2 text-xs font-normal px-2 py-1 bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300 rounded-full">基础</span>
                        </h3>
                        <ul class="space-y-3 text-secondary-600 dark:text-secondary-300">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>神经网络结构与工作原理</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>反向传播算法的可视化理解</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>常见神经网络类型与应用场景</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>互动式神经网络在线演示</span>
                            </li>
                        </ul>
                        <a href="#neural-networks"
                            class="mt-6 inline-flex items-center text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium">
                            查看详情 <i
                                class="fas fa-arrow-right ml-2 text-sm transition-transform duration-200 transform group-hover:translate-x-1"></i>
                        </a>
                    </div>
                </div>

                <!-- Transformer卡片 -->
                <div class="topic-card bg-white dark:bg-secondary-800 rounded-xl shadow-soft overflow-hidden"
                    data-aos="fade-up" data-aos-delay="200">
                    <div class="h-3 bg-gradient-to-r from-accent-400 to-accent-600"></div>
                    <div class="p-6 md:p-8">
                        <div
                            class="w-16 h-16 flex items-center justify-center bg-accent-50 dark:bg-accent-900/30 text-accent-600 dark:text-accent-400 rounded-full mb-6">
                            <i class="fas fa-project-diagram text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-4 flex items-center">
                            Transformer
                            <span
                                class="ml-2 text-xs font-normal px-2 py-1 bg-accent-100 dark:bg-accent-900/50 text-accent-700 dark:text-accent-300 rounded-full">进阶</span>
                        </h3>
                        <ul class="space-y-3 text-secondary-600 dark:text-secondary-300">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>Transformer的创新背景与架构</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>深入解析自注意力机制</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>编码器-解码器结构图解</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>Transformer主要变体与应用</span>
                            </li>
                        </ul>
                        <a href="#transformers"
                            class="mt-6 inline-flex items-center text-accent-600 dark:text-accent-400 hover:text-accent-700 dark:hover:text-accent-300 font-medium">
                            查看详情 <i
                                class="fas fa-arrow-right ml-2 text-sm transition-transform duration-200 transform group-hover:translate-x-1"></i>
                        </a>
                    </div>
                </div>

                <!-- GPT卡片 -->
                <div class="topic-card bg-white dark:bg-secondary-800 rounded-xl shadow-soft overflow-hidden"
                    data-aos="fade-up" data-aos-delay="300">
                    <div class="h-3 bg-gradient-to-r from-emerald-400 to-emerald-600"></div>
                    <div class="p-6 md:p-8">
                        <div
                            class="w-16 h-16 flex items-center justify-center bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-full mb-6">
                            <i class="fas fa-robot text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-4 flex items-center">
                            GPT
                            <span
                                class="ml-2 text-xs font-normal px-2 py-1 bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 rounded-full">前沿</span>
                        </h3>
                        <ul class="space-y-3 text-secondary-600 dark:text-secondary-300">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>从Transformer到GPT的演进历程</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>大语言模型的训练流程图解</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>GPT能力与限制的平衡视角</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-green-500 mr-2 mt-1"></i>
                                <span>Prompt工程实战技巧与示例</span>
                            </li>
                        </ul>
                        <a href="#gpt"
                            class="mt-6 inline-flex items-center text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 font-medium">
                            查看详情 <i
                                class="fas fa-arrow-right ml-2 text-sm transition-transform duration-200 transform group-hover:translate-x-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 神经网络部分 -->
        <section id="neural-networks"
            class="py-12 md:py-20 border-t border-secondary-200 dark:border-secondary-700 section-content">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold mb-10 text-center text-secondary-900 dark:text-white"
                    data-aos="fade-up">
                    <i class="fas fa-brain text-primary-500 mr-3"></i>神经网络
                </h2>

                <!-- 概览卡片 -->
                <div class="bg-gradient-to-r from-primary-600 to-primary-700 rounded-2xl p-1 mb-12 shadow-lg"
                    data-aos="zoom-in">
                    <div class="bg-white dark:bg-secondary-800 rounded-xl p-6 md:p-8">
                        <div class="flex flex-col md:flex-row items-start md:items-center gap-6">
                            <div class="md:w-1/2">
                                <h3 class="text-2xl font-bold mb-4 text-secondary-900 dark:text-white">人工智能的基石</h3>
                                <p class="text-secondary-600 dark:text-secondary-300 leading-relaxed">
                                    神经网络（Neural
                                    Networks）是一种受人脑结构启发的计算模型，能够通过学习从数据中找出模式和规律。作为深度学习的基础，它们在图像识别、自然语言处理、游戏AI等众多领域展现出非凡能力。
                                </p>
                                <div class="mt-6 flex flex-wrap gap-3">
                                    <span
                                        class="px-3 py-1 bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300 rounded-full text-sm">模式识别</span>
                                    <span
                                        class="px-3 py-1 bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300 rounded-full text-sm">数据驱动</span>
                                    <span
                                        class="px-3 py-1 bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300 rounded-full text-sm">自适应学习</span>
                                    <span
                                        class="px-3 py-1 bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300 rounded-full text-sm">非线性建模</span>
                                </div>
                            </div>
                            <div class="md:w-1/2 flex justify-center">
                                <div class="w-full max-w-md">
                                    <svg class="w-full h-auto" viewBox="0 0 400 270" xmlns="http://www.w3.org/2000/svg">
                                        <!-- 输入层 -->
                                        <circle cx="60" cy="50" r="15" fill="#38bdf8" class="animate-pulse-slow" />
                                        <circle cx="60" cy="100" r="15" fill="#38bdf8" class="animate-pulse-slow"
                                            style="animation-delay: 0.2s" />
                                        <circle cx="60" cy="150" r="15" fill="#38bdf8" class="animate-pulse-slow"
                                            style="animation-delay: 0.4s" />
                                        <circle cx="60" cy="200" r="15" fill="#38bdf8" class="animate-pulse-slow"
                                            style="animation-delay: 0.6s" />

                                        <!-- 隐藏层 -->
                                        <circle cx="200" cy="40" r="15" fill="#6366f1" class="animate-pulse-slow"
                                            style="animation-delay: 0.8s" />
                                        <circle cx="200" cy="90" r="15" fill="#6366f1" class="animate-pulse-slow"
                                            style="animation-delay: 1s" />
                                        <circle cx="200" cy="140" r="15" fill="#6366f1" class="animate-pulse-slow"
                                            style="animation-delay: 1.2s" />
                                        <circle cx="200" cy="190" r="15" fill="#6366f1" class="animate-pulse-slow"
                                            style="animation-delay: 1.4s" />
                                        <circle cx="200" cy="240" r="15" fill="#6366f1" class="animate-pulse-slow"
                                            style="animation-delay: 1.6s" />

                                        <!-- 输出层 -->
                                        <circle cx="340" cy="90" r="15" fill="#d946ef" class="animate-pulse-slow"
                                            style="animation-delay: 1.8s" />
                                        <circle cx="340" cy="160" r="15" fill="#d946ef" class="animate-pulse-slow"
                                            style="animation-delay: 2s" />

                                        <!-- 连接线 (输入层到隐藏层) -->
                                        <line x1="75" y1="50" x2="185" y2="40" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="50" x2="185" y2="90" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="50" x2="185" y2="140" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="50" x2="185" y2="190" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="50" x2="185" y2="240" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />

                                        <line x1="75" y1="100" x2="185" y2="40" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="100" x2="185" y2="90" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="100" x2="185" y2="140" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="100" x2="185" y2="190" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="100" x2="185" y2="240" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />

                                        <line x1="75" y1="150" x2="185" y2="40" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="150" x2="185" y2="90" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="150" x2="185" y2="140" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="150" x2="185" y2="190" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="150" x2="185" y2="240" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />

                                        <line x1="75" y1="200" x2="185" y2="40" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="200" x2="185" y2="90" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="200" x2="185" y2="140" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="200" x2="185" y2="190" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="75" y1="200" x2="185" y2="240" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />

                                        <!-- 连接线 (隐藏层到输出层) -->
                                        <line x1="215" y1="40" x2="325" y2="90" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="215" y1="40" x2="325" y2="160" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />

                                        <line x1="215" y1="90" x2="325" y2="90" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="215" y1="90" x2="325" y2="160" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />

                                        <line x1="215" y1="140" x2="325" y2="90" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="215" y1="140" x2="325" y2="160" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />

                                        <line x1="215" y1="190" x2="325" y2="90" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="215" y1="190" x2="325" y2="160" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />

                                        <line x1="215" y1="240" x2="325" y2="90" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />
                                        <line x1="215" y1="240" x2="325" y2="160" stroke="#cbd5e1" stroke-width="1.5"
                                            stroke-opacity="0.7" />

                                        <!-- 标签 -->
                                        <text x="60" y="240" font-size="14" text-anchor="middle" fill="#38bdf8"
                                            font-weight="bold">输入层</text>
                                        <text x="200" y="15" font-size="14" text-anchor="middle" fill="#6366f1"
                                            font-weight="bold">隐藏层</text>
                                        <text x="340" y="210" font-size="14" text-anchor="middle" fill="#d946ef"
                                            font-weight="bold">输出层</text>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 space-y-12">
                    <!-- 简介 -->
                    <div class="bg-white dark:bg-secondary-800 rounded-xl shadow-soft p-6 md:p-8" data-aos="fade-up">
                        <h3
                            class="text-2xl font-bold mb-6 pb-2 border-b border-secondary-200 dark:border-secondary-700 inline-flex items-center">
                            <i class="fas fa-star-of-life text-primary-500 mr-3"></i>简介
                        </h3>
                        <div class="text-secondary-600 dark:text-secondary-300 space-y-4">
                            <p class="leading-relaxed">
                                想象一下，你想教一台计算机识别猫的图片。你不会写死板的规则（比如"如果看到两个尖耳朵并且有胡须，那就是猫"），因为猫的姿态、品种、光线各不相同，规则很难覆盖所有情况。神经网络提供了一种不同的方法：<span
                                    class="font-semibold text-secondary-900 dark:text-white">让计算机自己从大量示例中学习识别猫的模式</span>。
                            </p>

                            <div class="flex flex-col md:flex-row gap-6 md:gap-10 my-8">
                                <div class="md:w-1/2">
                                    <p class="leading-relaxed">
                                        神经网络（Artificial Neural Networks,
                                        ANNs）是深度学习的基石，它们的设计灵感来源于人脑中神经元相互连接、传递信息的方式。我们可以把它看作一个<span
                                            class="font-semibold text-secondary-900 dark:text-white">高度灵活、能够自我调整的学习机器</span>，目标是从数据中找出隐藏的规律，用于分类（这是猫还是狗？）、预测（明天的股价是多少？）、生成（创作一首诗或一幅画）等各种任务。
                                    </p>
                                </div>
                                <div
                                    class="md:w-1/2 bg-secondary-50 dark:bg-secondary-900/50 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700">
                                    <h4 class="font-semibold text-lg mb-3 text-secondary-900 dark:text-white">💡 关键特点
                                    </h4>
                                    <ul class="space-y-2">
                                        <li class="flex items-start">
                                            <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
                                            <span><span
                                                    class="font-medium text-secondary-900 dark:text-white">数据驱动</span>：从大量实例中学习，而非依赖人工预设规则</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
                                            <span><span
                                                    class="font-medium text-secondary-900 dark:text-white">非线性建模</span>：能捕捉复杂的、非线性的模式和关系</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
                                            <span><span
                                                    class="font-medium text-secondary-900 dark:text-white">分布式表示</span>：知识分散在多个连接权重中存储</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check text-green-500 mr-2 mt-1"></i>
                                            <span><span
                                                    class="font-medium text-secondary-900 dark:text-white">自适应学习</span>：能从错误中学习并调整参数</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <!-- 人脑神经元与人工神经网络对比 -->
                            <div
                                class="bg-secondary-50 dark:bg-secondary-900/50 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700 mt-6">
                                <h4 class="font-semibold text-lg mb-4 text-secondary-900 dark:text-white">人脑神经元 vs
                                    人工神经网络</h4>
                                <div class="flex flex-col md:flex-row gap-4">
                                    <div class="md:w-1/2 p-4 bg-white dark:bg-secondary-800 rounded-lg">
                                        <h5 class="font-medium mb-2 text-center">生物神经元</h5>
                                        <img src="svg/neuron-biological.svg" alt="生物神经元" class="w-full h-auto mb-2">
                                        <ul class="text-sm mt-2">
                                            <li>• 树突：接收来自其他神经元的信号</li>
                                            <li>• 细胞体：整合信号</li>
                                            <li>• 轴突：传递信号到其他神经元</li>
                                            <li>• 突触：神经元之间的连接点</li>
                                        </ul>
                                    </div>
                                    <div class="md:w-1/2 p-4 bg-white dark:bg-secondary-800 rounded-lg">
                                        <h5 class="font-medium mb-2 text-center">人工神经元</h5>
                                        <img src="svg/neuron-artificial.svg" alt="人工神经元" class="w-full h-auto mb-2">
                                        <ul class="text-sm mt-2">
                                            <li>• 输入(x)：来自其他神经元的信号</li>
                                            <li>• 权重(w)：调整信号强度</li>
                                            <li>• 激活函数：决定是否"触发"</li>
                                            <li>• 输出：传递给下一层神经元</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 结构 -->
                    <div class="bg-white dark:bg-secondary-800 rounded-xl shadow-soft p-6 md:p-8" data-aos="fade-up">
                        <h3
                            class="text-2xl font-bold mb-6 pb-2 border-b border-secondary-200 dark:border-secondary-700 inline-flex items-center">
                            <i class="fas fa-cubes text-primary-500 mr-3"></i>神经网络结构
                        </h3>
                        <div class="text-secondary-600 dark:text-secondary-300 space-y-6">
                            <p class="leading-relaxed">
                                可以将神经网络想象成一个<span
                                    class="font-semibold text-secondary-900 dark:text-white">信息处理的"工厂"</span>，里面有不同的"工人"（神经元）和"生产线"（层），通过特定的"流程"（连接和计算）来加工原始数据，最终得到成品（预测结果）。
                            </p>

                            <!-- 交互式神经网络结构演示 -->
                            <div class="demo-container" data-aos="fade-up">
                                <h4 class="text-xl font-bold mb-3 text-secondary-900 dark:text-white">神经网络结构可视化</h4>
                                <p class="mb-4">调整下方滑块，查看不同复杂度的神经网络结构</p>

                                <div class="flex flex-col md:flex-row gap-8 my-6">
                                    <div class="md:w-2/3">
                                        <div id="nn-visualization"
                                            class="w-full h-64 md:h-80 bg-white dark:bg-secondary-800 rounded-lg border border-secondary-200 dark:border-secondary-700 p-4 flex items-center justify-center">
                                            <canvas id="neural-network-canvas" width="500" height="300"></canvas>
                                        </div>
                                    </div>
                                    <div class="md:w-1/3 flex flex-col justify-center space-y-6">
                                        <div>
                                            <label for="input-nodes"
                                                class="block text-sm font-medium mb-2">输入层节点数:</label>
                                            <input type="range" id="input-nodes" min="1" max="10" value="3"
                                                class="w-full accent-primary-500">
                                            <div class="flex justify-between text-xs text-secondary-500 mt-1">
                                                <span>1</span>
                                                <span>5</span>
                                                <span>10</span>
                                            </div>
                                        </div>

                                        <div>
                                            <label for="hidden-layers"
                                                class="block text-sm font-medium mb-2">隐藏层数量:</label>
                                            <input type="range" id="hidden-layers" min="1" max="5" value="2"
                                                class="w-full accent-primary-500">
                                            <div class="flex justify-between text-xs text-secondary-500 mt-1">
                                                <span>1</span>
                                                <span>3</span>
                                                <span>5</span>
                                            </div>
                                        </div>

                                        <div>
                                            <label for="hidden-nodes"
                                                class="block text-sm font-medium mb-2">隐藏层节点数:</label>
                                            <input type="range" id="hidden-nodes" min="1" max="8" value="4"
                                                class="w-full accent-primary-500">
                                            <div class="flex justify-between text-xs text-secondary-500 mt-1">
                                                <span>1</span>
                                                <span>4</span>
                                                <span>8</span>
                                            </div>
                                        </div>

                                        <div>
                                            <label for="output-nodes"
                                                class="block text-sm font-medium mb-2">输出层节点数:</label>
                                            <input type="range" id="output-nodes" min="1" max="5" value="2"
                                                class="w-full accent-primary-500">
                                            <div class="flex justify-between text-xs text-secondary-500 mt-1">
                                                <span>1</span>
                                                <span>3</span>
                                                <span>5</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-4 text-sm text-secondary-500 dark:text-secondary-400 italic">
                                    调整上面的参数，观察神经网络结构的变化。隐藏层越多、节点越多，网络的复杂度和学习能力越强，但也更容易过拟合。
                                </div>
                            </div>

                            <!-- 神经元 -->
                            <div class="ml-4 mt-8" data-aos="fade-up">
                                <h4 class="text-xl font-bold mb-3 flex items-center text-secondary-900 dark:text-white">
                                    <div
                                        class="w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center mr-3">
                                        <i class="fas fa-atom text-primary-500"></i>
                                    </div>
                                    神经元 (Neuron / Node)
                                </h4>
                                <div class="space-y-3 ml-13">
                                    <p><span class="font-medium text-secondary-900 dark:text-white">概念:</span>
                                        工厂里的基本"工人"。</p>

                                    <div class="flex flex-col md:flex-row gap-8 my-6">
                                        <div class="md:w-1/2">
                                            <p><span class="font-medium text-secondary-900 dark:text-white">功能:</span>
                                                每个工人接收来自上游工位（其他神经元）或者原材料仓库（外部输入）的信息。他不是简单地传递信息，而是会<span
                                                    class="font-semibold text-secondary-900 dark:text-white">评估每个信息来源的重要性</span>（通过权重加权），汇总这些信息，并考虑一个<span
                                                    class="font-semibold text-secondary-900 dark:text-white">固有的"积极性"或"门槛"</span>（偏置）。最后，基于总的"刺激"强度，通过一个<span
                                                    class="font-semibold text-secondary-900 dark:text-white">决策规则</span>（激活函数）来决定自己要输出什么信号给下游工位。
                                            </p>
                                        </div>
                                        <div class="md:w-1/2">
                                            <div
                                                class="bg-white dark:bg-secondary-800 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700 shadow-sm">
                                                <h5
                                                    class="font-medium mb-3 text-center text-secondary-900 dark:text-white dark:bg-secondary-800">
                                                    神经元工作流程</h5>
                                                <img src="svg/neural-network-neuron.svg" alt="神经元工作流程"
                                                    class="w-full h-auto max-h-48 object-contain mb-4">
                                                <div class="text-sm">
                                                    <p class="mb-2">1. 接收多个输入信号 (x₁, x₂, ...)</p>
                                                    <p class="mb-2">2. 为每个输入分配权重 (w₁, w₂, ...)</p>
                                                    <p class="mb-2">3. 计算加权和并加上偏置 (b)</p>
                                                    <p class="mb-2">4. 将结果传入激活函数 (f)</p>
                                                    <p class="mb-2">5. 输出激活函数的结果</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <p><span class="font-medium text-secondary-900 dark:text-white">数学表示 (单个神经元):</span>
                                    </p>
                                    <div class="math-container overflow-x-auto">
                                        <div>
                                            \[ y = f\left(\sum_{i=1}^{n} w_i \cdot x_i + b\right) \]
                                        </div>
                                    </div>
                                    <p>这就像工人在计算：<span class="italic">最终输出 = 决策规则(∑(信息<sub>i</sub> × 重要性<sub>i</sub>) +
                                            固有积极性)</span></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 反向传播 -->
                    <div class="bg-white dark:bg-secondary-800 rounded-xl shadow-soft p-6 md:p-8 mt-12"
                        data-aos="fade-up">
                        <h3
                            class="text-2xl font-bold mb-6 pb-2 border-b border-secondary-200 dark:border-secondary-700 inline-flex items-center">
                            <i class="fas fa-recycle text-primary-500 mr-3"></i>反向传播
                        </h3>
                        <div class="text-secondary-600 dark:text-secondary-300 space-y-4">
                            <p class="leading-relaxed">
                                反向传播是神经网络这个"学习工厂"进行<span
                                    class="font-semibold text-secondary-900 dark:text-white">自我改进的核心机制</span>。可以把它想象成一个基于<span
                                    class="font-semibold text-secondary-900 dark:text-white">"绩效评估和责任分配"</span>的学习过程。
                            </p>

                            <div class="flex flex-col md:flex-row gap-8 my-6">
                                <div class="md:w-1/2">
                                    <p><span class="font-medium text-secondary-900 dark:text-white">核心思想:</span>
                                        当工厂生产出的产品（预测）与预期（真实标签）不符时，需要找出是哪些工人、哪些环节的参数（权重和偏置）设置不当，并进行调整。这个过程是从结果倒推回原因。</p>

                                    <div
                                        class="bg-secondary-50 dark:bg-secondary-900/50 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700 mt-4">
                                        <h4 class="font-semibold text-lg mb-3 text-secondary-900 dark:text-white">
                                            数学角度：链式法则</h4>
                                        <p>反向传播基于微积分中的链式法则，通过计算损失函数对每个权重的偏导数（梯度）来确定如何调整权重。</p>
                                        <div class="math-container overflow-x-auto mt-3">
                                            <div>
                                                \[ \frac{\partial L}{\partial w} = \frac{\partial L}{\partial y} \cdot
                                                \frac{\partial y}{\partial z} \cdot \frac{\partial z}{\partial w} \]
                                            </div>
                                        </div>
                                        <p class="mt-2 text-sm">其中L是损失函数，y是输出，z是神经元的加权输入，w是要调整的权重。</p>
                                    </div>
                                </div>
                                <div class="md:w-1/2">
                                    <!-- 反向传播可视化 -->
                                    <div
                                        class="bg-white dark:bg-secondary-800 rounded-lg overflow-hidden shadow-sm border border-secondary-200 dark:border-secondary-700">
                                        <div
                                            class="p-4 bg-secondary-100 dark:bg-secondary-700/50 font-medium text-center text-secondary-900 dark:text-white">
                                            反向传播过程可视化
                                        </div>
                                        <div class="p-5">
                                            <img src="svg/backpropagation.svg" alt="反向传播过程"
                                                class="w-full h-auto max-h-64 object-contain mb-4">

                                            <div class="flex items-center justify-center mt-2">
                                                <div class="flex items-center mr-6">
                                                    <div class="w-4 h-0.5 bg-blue-500"></div>
                                                    <span class="ml-2 text-sm">前向传播</span>
                                                </div>
                                                <div class="flex items-center">
                                                    <div class="w-4 h-0.5 bg-red-500 border-t border-dashed"></div>
                                                    <span class="ml-2 text-sm">反向传播</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 反向传播步骤 -->
                            <div class="mt-6" data-aos="fade-up">
                                <p><span class="font-medium text-secondary-900 dark:text-white">反向传播步骤:</span></p>

                                <div class="mt-6 relative">
                                    <!-- 时间线 -->
                                    <div
                                        class="absolute left-4 top-0 bottom-0 w-0.5 bg-primary-200 dark:bg-primary-900/30">
                                    </div>

                                    <!-- 前向传播 -->
                                    <div class="relative pl-12 pb-10">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 border-2 border-primary-400">
                                            1
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">前向传播
                                            (Forward Propagation)</h5>
                                        <div class="space-y-3">
                                            <p><span class="font-medium text-secondary-900 dark:text-white">比喻:</span>
                                                <span
                                                    class="font-semibold text-secondary-900 dark:text-white">"试生产"</span>。一批原材料（训练样本）进入工厂，按照当前的工人参数（权重/偏置）和流程（网络结构）进行加工，最终在输出层得到一个"样品"（预测值）。
                                            </p>

                                            <div class="bg-secondary-50 dark:bg-secondary-800 p-4 rounded-lg">
                                                <div class="text-sm">
                                                    <p>输入 → 隐藏层(们) → 输出层 → 预测值</p>
                                                    <div class="mt-2">
                                                        <p>例如, 对于一个简单的网络:</p>
                                                        <div class="math-container py-2">
                                                            \begin{align}
                                                            z^{[1]} &= W^{[1]}x + b^{[1]} \\
                                                            a^{[1]} &= g^{[1]}(z^{[1]}) \\
                                                            z^{[2]} &= W^{[2]}a^{[1]} + b^{[2]} \\
                                                            \hat{y} &= g^{[2]}(z^{[2]})
                                                            \end{align}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 计算损失 -->
                                    <div class="relative pl-12 pb-10">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 border-2 border-primary-400">
                                            2
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">计算损失
                                            (Loss Calculation)</h5>
                                        <div class="space-y-3">
                                            <p><span class="font-medium text-secondary-900 dark:text-white">比喻:</span>
                                                <span
                                                    class="font-semibold text-secondary-900 dark:text-white">"质量检测"</span>。将"样品"（预测值）与"设计蓝图"（真实目标值）进行比较，使用量化标准（损失函数）来计算出试生产的<span
                                                    class="font-semibold text-secondary-900 dark:text-white">"误差"或"不合格程度"</span>。
                                            </p>

                                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                                                <div
                                                    class="bg-white dark:bg-secondary-800 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700">
                                                    <h6 class="font-medium mb-2">均方误差 (MSE)</h6>
                                                    <div class="math-container py-2">
                                                        \[ MSE = \frac{1}{n}\sum_{i=1}^{n}(y_i - \hat{y}_i)^2 \]
                                                    </div>
                                                    <p class="text-sm mt-2">适用于回归问题，衡量预测值与真实值差异的平方。</p>
                                                </div>

                                                <div
                                                    class="bg-white dark:bg-secondary-800 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700">
                                                    <h6 class="font-medium mb-2">交叉熵损失 (Cross Entropy)</h6>
                                                    <div class="math-container py-2">
                                                        \[ CE = -\sum_{i=1}^{n}y_i\log(\hat{y}_i) \]
                                                    </div>
                                                    <p class="text-sm mt-2">适用于分类问题，当预测错误且自信度高时惩罚更大。</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 反向传播 -->
                                    <div class="relative pl-12 pb-10">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 border-2 border-primary-400">
                                            3
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">反向传播
                                            (Backward Propagation)</h5>
                                        <div class="space-y-3">
                                            <p><span class="font-medium text-secondary-900 dark:text-white">比喻:</span>
                                                <span
                                                    class="font-semibold text-secondary-900 dark:text-white">"责任追究与改进建议"</span>。质量检测员（算法）拿着误差报告，从最后一个工位（输出层）开始<span
                                                    class="font-semibold text-secondary-900 dark:text-white">反向追溯</span>。
                                            </p>

                                            <div class="bg-secondary-50 dark:bg-secondary-800 p-4 rounded-lg">
                                                <p class="font-medium mb-2">计算梯度:</p>
                                                <p>利用链式法则，对损失函数关于每个权重和偏置的偏导数进行计算：</p>
                                                <div class="math-container py-2 mt-2">
                                                    \begin{align}
                                                    \frac{\partial L}{\partial W^{[2]}} &= \frac{\partial L}{\partial
                                                    \hat{y}} \cdot \frac{\partial \hat{y}}{\partial z^{[2]}} \cdot
                                                    \frac{\partial z^{[2]}}{\partial W^{[2]}} \\
                                                    \frac{\partial L}{\partial W^{[1]}} &= \frac{\partial L}{\partial
                                                    \hat{y}} \cdot \frac{\partial \hat{y}}{\partial z^{[2]}} \cdot
                                                    \frac{\partial z^{[2]}}{\partial a^{[1]}} \cdot \frac{\partial
                                                    a^{[1]}}{\partial z^{[1]}} \cdot \frac{\partial z^{[1]}}{\partial
                                                    W^{[1]}}
                                                    \end{align}
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 参数更新 -->
                                    <div class="relative pl-12">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center text-primary-600 dark:text-primary-400 border-2 border-primary-400">
                                            4
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">参数更新
                                            (Parameter Update)</h5>
                                        <div class="space-y-3">
                                            <p><span class="font-medium text-secondary-900 dark:text-white">比喻:</span>
                                                <span
                                                    class="font-semibold text-secondary-900 dark:text-white">"调整参数，优化生产"</span>。根据"责任报告"（梯度），工厂管理者（优化算法）对每个"阀门"（权重）和"基础热情"（偏置）进行微调。
                                            </p>

                                            <div class="bg-secondary-50 dark:bg-secondary-800 p-4 rounded-lg">
                                                <p class="font-medium mb-2">基本梯度下降更新规则:</p>
                                                <div class="math-container py-2">
                                                    \begin{align}
                                                    W^{[l]} &= W^{[l]} - \alpha \frac{\partial L}{\partial W^{[l]}} \\
                                                    b^{[l]} &= b^{[l]} - \alpha \frac{\partial L}{\partial b^{[l]}}
                                                    \end{align}
                                                </div>
                                                <p class="mt-2">其中 α 是学习率，控制更新的步长。</p>
                                            </div>

                                            <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div class="flex items-center">
                                                    <div
                                                        class="w-12 h-12 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center text-amber-600 dark:text-amber-400 mr-3">
                                                        <i class="fas fa-tachometer-alt"></i>
                                                    </div>
                                                    <div>
                                                        <h6 class="font-medium">学习率 (η)</h6>
                                                        <p class="text-sm">调整参数的"步子大小"</p>
                                                    </div>
                                                </div>

                                                <div class="flex items-center">
                                                    <div
                                                        class="w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 mr-3">
                                                        <i class="fas fa-cogs"></i>
                                                    </div>
                                                    <div>
                                                        <h6 class="font-medium">优化器</h6>
                                                        <p class="text-sm">高级更新规则(如Adam, RMSprop)</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div
                                    class="mt-8 bg-primary-50 dark:bg-primary-900/20 p-5 rounded-xl border border-primary-200 dark:border-primary-900/30">
                                    <h5 class="font-semibold mb-3 flex items-center text-secondary-900 dark:text-white">
                                        <i class="fas fa-sync-alt text-primary-500 mr-2"></i>
                                        迭代训练循环
                                    </h5>
                                    <p>这个"试生产 → 质检 → 追责与建议 →
                                        调整优化"的循环，会针对大量的训练数据反复进行很多轮（Epochs）。通过多次迭代，神经网络逐渐学习到更优的参数，提高预测准确性。</p>

                                    <div class="mt-4 flex justify-center">
                                        <img src="svg/training-loop.svg" alt="神经网络训练循环"
                                            class="w-full max-w-lg h-auto object-contain loaded">
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>

                    <!-- 反向传播练习与测试 -->
                    <div class="bg-white dark:bg-secondary-800 rounded-xl shadow-soft p-6 md:p-8 mt-12"
                        data-aos="fade-up">
                        <h3
                            class="text-2xl font-bold mb-6 pb-2 border-b border-secondary-200 dark:border-secondary-700 inline-flex items-center">
                            <i class="fas fa-tasks text-primary-500 mr-3"></i>反向传播练习与测试
                        </h3>
                        <div class="text-secondary-600 dark:text-secondary-300 space-y-6">
                            <!-- 概念理解选择题 -->
                            <div>
                                <h4 class="text-xl font-semibold mb-4 text-secondary-900 dark:text-white">概念理解选择题</h4>

                                <div class="space-y-6">
                                    <!-- 问题1 -->
                                    <div
                                        class="bg-secondary-50 dark:bg-secondary-900/50 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700">
                                        <p class="font-medium text-secondary-900 dark:text-white mb-3">1. 反向传播算法的核心思想是：
                                        </p>
                                        <div class="space-y-2 ml-4">
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q1" value="a"> A. 从输入层到输出层逐层计算网络的输出</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q1" value="b"> B. 从输出层到输入层逐层计算损失函数对参数的梯度
                                                </p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q1" value="c"> C. 随机初始化神经网络的权重</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q1" value="d"> D. 同时调整神经网络中的所有参数</p>
                                            </div>
                                        </div>
                                        <div
                                            class="mt-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-900/30 hidden">
                                            <p class="font-medium text-green-800 dark:text-green-400">正确答案：B</p>
                                            <p class="mt-1">反向传播的核心是从输出层开始，向输入层方向逐层计算损失函数对各层参数的梯度，以便进行参数更新。</p>
                                        </div>
                                    </div>

                                    <!-- 问题2 -->
                                    <div
                                        class="bg-secondary-50 dark:bg-secondary-900/50 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700">
                                        <p class="font-medium text-secondary-900 dark:text-white mb-3">2.
                                            在反向传播过程中，链式法则的作用是：</p>
                                        <div class="space-y-2 ml-4">
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q2" value="a"> A. 将复杂的神经网络分解为多个简单的层</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q2" value="b"> B. 计算每一层的激活值</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q2" value="c"> C. 计算损失函数对网络各层参数的偏导数</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q2" value="d"> D. 优化神经网络的学习率</p>
                                            </div>
                                        </div>
                                        <div
                                            class="mt-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-900/30 hidden">
                                            <p class="font-medium text-green-800 dark:text-green-400">正确答案：C</p>
                                            <p class="mt-1">链式法则允许我们将复合函数的导数分解为各个简单函数导数的乘积，在反向传播中用于计算损失函数对各层参数的梯度。</p>
                                        </div>
                                    </div>

                                    <!-- 问题3 -->
                                    <div
                                        class="bg-secondary-50 dark:bg-secondary-900/50 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700">
                                        <p class="font-medium text-secondary-900 dark:text-white mb-3">3.
                                            在参数更新过程中，学习率(η)的作用是：</p>
                                        <div class="space-y-2 ml-4">
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q3" value="a"> A. 决定网络的层数</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q3" value="b"> B. 控制每次参数更新的步长大小</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q3" value="c"> C. 计算损失函数的值</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q3" value="d"> D. 确定训练的轮数(Epochs)</p>
                                            </div>
                                        </div>
                                        <div
                                            class="mt-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-900/30 hidden">
                                            <p class="font-medium text-green-800 dark:text-green-400">正确答案：B</p>
                                            <p class="mt-1">学习率控制每次更新参数时的步长大小，影响训练速度和收敛性。太大可能导致震荡或发散，太小则收敛太慢。</p>
                                        </div>
                                    </div>

                                    <!-- 问题4 -->
                                    <div
                                        class="bg-secondary-50 dark:bg-secondary-900/50 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700">
                                        <p class="font-medium text-secondary-900 dark:text-white mb-3">4.
                                            在反向传播训练过程中，下列哪项不是标准步骤：</p>
                                        <div class="space-y-2 ml-4">
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q4" value="a"> A. 前向传播计算输出</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q4" value="b"> B. 计算损失函数</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q4" value="c"> C. 删除表现不佳的神经元</p>
                                            </div>
                                            <div class="flex items-start">
                                                <p><input type="radio" name="q4" value="d"> D. 通过梯度下降更新参数</p>
                                            </div>
                                        </div>
                                        <div
                                            class="mt-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-900/30 hidden">
                                            <p class="font-medium text-green-800 dark:text-green-400">正确答案：C</p>
                                            <p class="mt-1">反向传播的标准步骤包括前向传播、计算损失、反向计算梯度、更新参数。删除神经元是剪枝操作，不是标准反向传播的一部分。
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 检查答案按钮 -->
                            <div class="mt-8 flex justify-center">
                                <button id="checkAnswers"
                                    class="px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-medium shadow-sm transition-colors duration-200 flex items-center">
                                    <i class="fas fa-check-circle mr-2"></i> 显示选择题答案
                                </button>
                            </div>

                            <!-- 提交反馈 -->
                            <div
                                class="mt-10 bg-secondary-100 dark:bg-secondary-800 p-5 rounded-xl border border-secondary-200 dark:border-secondary-700">
                                <h4 class="font-semibold mb-3 text-secondary-900 dark:text-white flex items-center">
                                    <i class="fas fa-comment-dots text-primary-500 mr-2"></i>反馈与讨论
                                </h4>
                                <p>完成上述习题后，请思考：</p>
                                <ul class="list-disc ml-6 mt-2 space-y-1">
                                    <li>哪些问题对你来说比较困难？为什么？</li>
                                    <li>反向传播的哪部分概念你仍然不太清楚？</li>
                                    <li>你是否能将反向传播应用到实际的机器学习问题中？</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- JavaScript 脚本 -->
                    <script>
                        document.addEventListener('DOMContentLoaded', function () {
                            document.getElementById('checkAnswers').addEventListener('click', function () {
                                // Toggle visibility of answer explanations
                                const answers = document.querySelectorAll('.bg-green-50');
                                const isHidden = answers[0].classList.contains('hidden');

                                answers.forEach(answer => {
                                    if (isHidden) {
                                        answer.classList.remove('hidden');
                                    } else {
                                        answer.classList.add('hidden');
                                    }
                                });

                                const correctAnswers = {
                                    q1: 'b',
                                    q2: 'c',
                                    q3: 'b',
                                    q4: 'c',
                                };

                                if (isHidden) {
                                    // Highlight selected answers and correct answers
                                    document.querySelectorAll('input[type="radio"]').forEach(input => {
                                        const question = input.name;
                                        const parentDiv = input.closest('.flex.items-start');

                                        if (input.checked) {
                                            if (input.value === correctAnswers[question]) {
                                                parentDiv.classList.add('bg-green-100', 'dark:bg-green-900/30');
                                            } else {
                                                parentDiv.classList.add('bg-red-100', 'dark:bg-red-900/30');

                                                // Find and highlight the correct answer
                                                const correctOptionSelector = `input[name="${question}"][value="${correctAnswers[question]}"]`;
                                                const correctOption = document.querySelector(correctOptionSelector);
                                                const correctParentDiv = correctOption.closest('.flex.items-start');
                                                correctParentDiv.classList.add('bg-green-100', 'dark:bg-green-900/30');
                                            }
                                        }
                                    });

                                    this.innerHTML = '<i class="fas fa-eye-slash mr-2"></i> 隐藏选择题答案';
                                } else {
                                    // Remove all highlighting
                                    document.querySelectorAll('.flex.items-start').forEach(div => {
                                        div.classList.remove('bg-green-100', 'dark:bg-green-900/30', 'bg-red-100', 'dark:bg-red-900/30');
                                    });

                                    this.innerHTML = '<i class="fas fa-check-circle mr-2"></i> 显示选择题答案';
                                }
                            });
                        });
                    </script>


                    <!-- 常见神经网络类型 -->
                    <div class="bg-white dark:bg-secondary-800 rounded-xl shadow-soft p-6 md:p-8 mt-12"
                        data-aos="fade-up">
                        <h3
                            class="text-2xl font-bold mb-6 pb-2 border-b border-secondary-200 dark:border-secondary-700 inline-flex items-center">
                            <i class="fas fa-sitemap text-primary-500 mr-3"></i>常见神经网络类型
                        </h3>
                        <div class="text-secondary-600 dark:text-secondary-300 space-y-4">
                            <p class="leading-relaxed">
                                不同的工厂（网络结构）擅长处理不同类型的原材料（数据）和生产任务。以下是几种最常见的神经网络类型及其应用场景。
                            </p>

                            <!-- 网络类型卡片网格 -->
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
                                <!-- 前馈神经网络 -->
                                <div class="bg-white dark:bg-secondary-800 rounded-xl overflow-hidden shadow-sm border border-secondary-200 dark:border-secondary-700"
                                    data-aos="fade-up" data-aos-delay="100">
                                    <div
                                        class="p-4 bg-secondary-50 dark:bg-secondary-800 flex items-center justify-between">
                                        <h4
                                            class="text-lg font-semibold text-secondary-900 dark:text-white flex items-center">
                                            <i class="fas fa-arrow-right mr-2 text-primary-500"></i>
                                            前馈神经网络 (FNN / MLP)
                                        </h4>
                                        <div class="flex gap-2">
                                            <span
                                                class="text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full">基础</span>
                                        </div>
                                    </div>
                                    <div class="p-5">
                                        <div class="flex items-start gap-4">
                                            <div
                                                class="w-24 h-24 flex-shrink-0 bg-secondary-50 dark:bg-secondary-900/30 rounded-lg overflow-hidden p-2">
                                                <img src="svg/fnn-architecture.svg" alt="前馈神经网络"
                                                    class="w-full h-full object-contain">
                                            </div>
                                            <div>
                                                <p><span
                                                        class="font-medium text-secondary-900 dark:text-white">比喻:</span>
                                                    <span
                                                        class="font-semibold text-secondary-900 dark:text-white">最简单的流水线工厂</span>。信息按部就班地从一个车间流到下一个，没有回头路。
                                                </p>
                                                <p class="mt-2"><span
                                                        class="font-medium text-secondary-900 dark:text-white">特点:</span>
                                                    全连接层，信息只向前传递，没有循环或反馈。</p>
                                                <p class="mt-2"><span
                                                        class="font-medium text-secondary-900 dark:text-white">应用:</span>
                                                    适合处理相互独立的特征数据，如表格数据分析、简单分类任务。</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 卷积神经网络 -->
                                <div class="bg-white dark:bg-secondary-800 rounded-xl overflow-hidden shadow-sm border border-secondary-200 dark:border-secondary-700"
                                    data-aos="fade-up" data-aos-delay="200">
                                    <div
                                        class="p-4 bg-secondary-50 dark:bg-secondary-800 flex items-center justify-between">
                                        <h4
                                            class="text-lg font-semibold text-secondary-900 dark:text-white flex items-center">
                                            <i class="fas fa-camera mr-2 text-primary-500"></i>
                                            卷积神经网络 (CNN)
                                        </h4>
                                        <div class="flex gap-2">
                                            <span
                                                class="text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full">图像识别
                                            </span>
                                            <span
                                                class="text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full">空间特征
                                            </span>
                                            <span
                                                class="text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded-full">局部感知
                                            </span>
                                        </div>
                                    </div>
                                    <div class="p-5">
                                        <div class="flex items-start gap-4">
                                            <div
                                                class="w-24 h-24 flex-shrink-0 bg-secondary-50 dark:bg-secondary-900/30 rounded-lg overflow-hidden p-2">
                                                <img src="svg/cnn-architecture.svg" alt="卷积神经网络"
                                                    class="w-full h-full object-contain loaded">
                                            </div>
                                            <div>
                                                <p><span
                                                        class="font-medium text-secondary-900 dark:text-white">比喻:</span>
                                                    <span
                                                        class="font-semibold text-secondary-900 dark:text-white">专门处理"视觉信息"的工厂</span>。有特殊的"扫描设备"（卷积层）和"聚焦工具"（滤波器）。
                                                </p>
                                                <p class="mt-2"><span
                                                        class="font-medium text-secondary-900 dark:text-white">特点:</span>
                                                    利用卷积操作提取局部特征，大幅减少参数数量。</p>
                                                <p class="mt-2"><span
                                                        class="font-medium text-secondary-900 dark:text-white">应用:</span>
                                                    图像识别、物体检测、人脸识别、医学影像分析等。</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 循环神经网络 -->
                                <div class="bg-white dark:bg-secondary-800 rounded-xl overflow-hidden shadow-sm border border-secondary-200 dark:border-secondary-700"
                                    data-aos="fade-up" data-aos-delay="300">
                                    <div
                                        class="p-4 bg-secondary-50 dark:bg-secondary-800 flex items-center justify-between">
                                        <h4
                                            class="text-lg font-semibold text-secondary-900 dark:text-white flex items-center">
                                            <i class="fas fa-redo mr-2 text-primary-500"></i>
                                            循环神经网络 (RNN)
                                        </h4>
                                        <div class="flex gap-2">
                                            <span
                                                class="text-xs px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-full">序列数据</span>
                                            <span
                                                class="text-xs px-2 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded-full">时间特性</span>
                                        </div>

                                    </div>
                                    <div class="p-5">
                                        <div class="flex items-start gap-4">
                                            <div
                                                class="w-24 h-24 flex-shrink-0 bg-secondary-50 dark:bg-secondary-900/30 rounded-lg overflow-hidden p-2">
                                                <img src="svg/rnn-architecture.svg" alt="循环神经网络"
                                                    class="w-full h-full object-contain loaded">
                                            </div>
                                            <div>
                                                <p><span
                                                        class="font-medium text-secondary-900 dark:text-white">比喻:</span>
                                                    <span
                                                        class="font-semibold text-secondary-900 dark:text-white">拥有"短期记忆"的工厂</span>。处理当前任务时，会考虑之前处理过的信息。
                                                </p>
                                                <p class="mt-2"><span
                                                        class="font-medium text-secondary-900 dark:text-white">特点:</span>
                                                    有内部循环，允许信息持续存在，适合处理序列数据。</p>
                                                <p class="mt-2"><span
                                                        class="font-medium text-secondary-900 dark:text-white">应用:</span>
                                                    文本处理、语音识别、时间序列预测、机器翻译等。</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- LSTM/GRU -->
                                <div class="bg-white dark:bg-secondary-800 rounded-xl overflow-hidden shadow-sm border border-secondary-200 dark:border-secondary-700"
                                    data-aos="fade-up" data-aos-delay="400">
                                    <div
                                        class="p-4 bg-secondary-50 dark:bg-secondary-800 flex items-center justify-between">
                                        <h4
                                            class="text-lg font-semibold text-secondary-900 dark:text-white flex items-center">
                                            <i class="fas fa-memory mr-2 text-primary-500"></i>
                                            长短期记忆网络 (LSTM/GRU)
                                        </h4>
                                        <span
                                            class="text-xs px-2 py-1 bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200 rounded-full">长期依赖</span>
                                    </div>
                                    <div class="p-5">
                                        <div class="flex items-start gap-4">
                                            <div
                                                class="w-24 h-24 flex-shrink-0 bg-secondary-50 dark:bg-secondary-900/30 rounded-lg overflow-hidden p-2">
                                                <img src="svg/lstm-architecture.svg" alt="LSTM网络"
                                                    class="w-full h-full object-contain loaded">
                                            </div>
                                            <div>
                                                <p><span
                                                        class="font-medium text-secondary-900 dark:text-white">比喻:</span>
                                                    <span
                                                        class="font-semibold text-secondary-900 dark:text-white">拥有"高级笔记系统"的工厂</span>。内部设计精巧的"门"，可以选择性地记忆或遗忘信息。
                                                </p>
                                                <p class="mt-2"><span
                                                        class="font-medium text-secondary-900 dark:text-white">特点:</span>
                                                    解决普通RNN的梯度消失问题，能捕获长期依赖关系。</p>
                                                <p class="mt-2"><span
                                                        class="font-medium text-secondary-900 dark:text-white">应用:</span>
                                                    长文本理解、语音识别、机器翻译、复杂时间序列预测。</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 更多网络类型 -->
                            <div class="mt-8" data-aos="fade-up">
                                <h4 class="text-xl font-semibold mb-4 text-secondary-900 dark:text-white">更多高级网络架构</h4>

                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    <!-- 自编码器 -->
                                    <div
                                        class="bg-white dark:bg-secondary-800 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700 shadow-sm">
                                        <h5
                                            class="font-medium mb-2 flex items-center text-secondary-900 dark:text-white">
                                            <i class="fas fa-compress-alt text-primary-500 mr-2"></i>
                                            自编码器 (Autoencoders)
                                        </h5>
                                        <p class="text-sm">擅长<span
                                                class="font-semibold text-secondary-900 dark:text-white">"摘要与复述"</span>的网络。将数据压缩成低维表示，再尝试重建原始数据。常用于特征提取、降维和异常检测。
                                        </p>
                                    </div>

                                    <!-- 生成对抗网络 -->
                                    <div
                                        class="bg-white dark:bg-secondary-800 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700 shadow-sm">
                                        <h5
                                            class="font-medium mb-2 flex items-center text-secondary-900 dark:text-white">
                                            <i class="fas fa-chess text-primary-500 mr-2"></i>
                                            生成对抗网络 (GAN)
                                        </h5>
                                        <p class="text-sm">由<span
                                                class="font-semibold text-secondary-900 dark:text-white">"伪造大师"</span>（生成器）和<span
                                                class="font-semibold text-secondary-900 dark:text-white">"鉴定专家"</span>（判别器）组成的对抗系统。能生成高质量的假数据，如逼真的图像、文本和音频。
                                        </p>
                                    </div>

                                    <!-- 强化学习网络 -->
                                    <div
                                        class="bg-white dark:bg-secondary-800 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700 shadow-sm">
                                        <h5
                                            class="font-medium mb-2 flex items-center text-secondary-900 dark:text-white">
                                            <i class="fas fa-gamepad text-primary-500 mr-2"></i>
                                            强化学习网络 (DQN, A3C)
                                        </h5>
                                        <p class="text-sm">通过<span
                                                class="font-semibold text-secondary-900 dark:text-white">"奖惩机制"</span>学习的网络。通过与环境交互，学习最佳策略以最大化累积奖励。应用于游戏AI、机器人控制和自动驾驶。
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <!-- 交互式网络类型选择器 -->
                            <div class="mt-10 bg-secondary-50 dark:bg-secondary-900/30 p-6 rounded-xl border border-secondary-200 dark:border-secondary-700"
                                data-aos="fade-up">
                                <h4 class="text-xl font-semibold mb-4 text-center text-secondary-900 dark:text-white">
                                    适合您任务的神经网络选择器</h4>
                                <p class="text-center mb-6">根据您的数据类型和任务需求，选择最合适的神经网络架构</p>

                                <div class="flex flex-col md:flex-row justify-center gap-4 mt-4">
                                    <div class="flex flex-col">
                                        <label for="data-type" class="mb-2 text-sm font-medium">数据类型:</label>
                                        <select id="data-type"
                                            class="rounded-lg border border-secondary-300 dark:border-secondary-700 bg-white dark:bg-secondary-800 py-2 px-4">
                                            <option value="tabular">表格数据</option>
                                            <option value="image">图像</option>
                                            <option value="sequence">序列数据</option>
                                            <option value="text">文本</option>
                                            <option value="time-series">时间序列</option>
                                        </select>
                                    </div>

                                    <div class="flex flex-col">
                                        <label for="task-type" class="mb-2 text-sm font-medium">任务类型:</label>
                                        <select id="task-type"
                                            class="rounded-lg border border-secondary-300 dark:border-secondary-700 bg-white dark:bg-secondary-800 py-2 px-4">
                                            <option value="classification">分类</option>
                                            <option value="regression">回归</option>
                                            <option value="generation">生成</option>
                                            <option value="anomaly">异常检测</option>
                                            <option value="embedding">特征提取/嵌入</option>
                                        </select>
                                    </div>

                                    <div class="flex items-end">
                                        <button id="recommend-nn"
                                            class="bg-primary-600 hover:bg-primary-700 text-white py-2 px-6 rounded-lg transition duration-200">
                                            推荐网络
                                        </button>
                                    </div>
                                </div>

                                <div id="nn-recommendation"
                                    class="mt-6 p-5 bg-white dark:bg-secondary-800 rounded-lg border border-secondary-200 dark:border-secondary-700 hidden">
                                    <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white"
                                        id="recommended-nn-title">推荐网络: <span class="text-primary-600">卷积神经网络
                                            (CNN)</span></h5>
                                    <p id="recommended-nn-desc">卷积神经网络非常适合处理图像分类任务。它能有效提取图像中的局部特征，并通过多层结构捕捉不同层次的视觉模式。
                                    </p>

                                    <div class="mt-4 flex justify-center">
                                        <img id="recommended-nn-img" src="svg/cnn-architecture.svg" alt="推荐网络架构"
                                            class="max-h-48 object-contain loaded">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Transformer部分 -->
        <section id="transformers"
            class="py-12 md:py-20 border-t border-secondary-200 dark:border-secondary-700 section-content">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold mb-10 text-center text-secondary-900 dark:text-white"
                    data-aos="fade-up">
                    <i class="fas fa-project-diagram text-accent-500 mr-3"></i>Transformer
                </h2>

                <!-- 概览卡片 -->
                <div class="bg-gradient-to-r from-accent-600 to-accent-700 rounded-2xl p-1 mb-12 shadow-lg"
                    data-aos="zoom-in">
                    <div class="bg-white dark:bg-secondary-800 rounded-xl p-6 md:p-8">
                        <div class="flex flex-col md:flex-row items-start md:items-center gap-6">
                            <div class="md:w-1/2">
                                <h3 class="text-2xl font-bold mb-4 text-secondary-900 dark:text-white">注意力革命</h3>
                                <p class="text-secondary-600 dark:text-secondary-300 leading-relaxed">
                                    Transformer模型于2017年在论文《Attention Is All You
                                    Need》中被提出，是自然语言处理领域的革命性突破。它摒弃了之前主流的循环神经网络（RNN）和卷积神经网络（CNN）架构，完全依赖自注意力机制来建模序列数据之间的依赖关系。
                                </p>
                                <div class="mt-6 flex flex-wrap gap-3">
                                    <span
                                        class="px-3 py-1 bg-accent-100 dark:bg-accent-900/40 text-accent-700 dark:text-accent-300 rounded-full text-sm">自注意力</span>
                                    <span
                                        class="px-3 py-1 bg-accent-100 dark:bg-accent-900/40 text-accent-700 dark:text-accent-300 rounded-full text-sm">并行计算</span>
                                    <span
                                        class="px-3 py-1 bg-accent-100 dark:bg-accent-900/40 text-accent-700 dark:text-accent-300 rounded-full text-sm">长距离依赖</span>
                                    <span
                                        class="px-3 py-1 bg-accent-100 dark:bg-accent-900/40 text-accent-700 dark:text-accent-300 rounded-full text-sm">编码器-解码器</span>
                                </div>
                            </div>
                            <div class="md:w-1/2 flex justify-center">
                                <div class="w-full max-w-md">
                                    <svg class="w-full h-auto" viewBox="0 0 400 250" xmlns="http://www.w3.org/2000/svg">
                                        <!-- 简化的Transformer架构图 -->
                                        <!-- 编码器 -->
                                        <rect x="50" y="50" width="120" height="150" rx="10" fill="#f5d0fe"
                                            class="dark:opacity-70" />
                                        <text x="110" y="40" font-size="14" text-anchor="middle" fill="#a21caf"
                                            font-weight="bold">编码器</text>

                                        <!-- 解码器 -->
                                        <rect x="230" y="50" width="120" height="150" rx="10" fill="#bae6fd"
                                            class="dark:opacity-70" />
                                        <text x="290" y="40" font-size="14" text-anchor="middle" fill="#0284c7"
                                            font-weight="bold">解码器</text>

                                        <!-- 自注意力层 - 编码器 -->
                                        <rect x="65" y="70" width="90" height="30" rx="5" fill="#fdf4ff"
                                            stroke="#d946ef" stroke-width="1.5" class="dark:opacity-90" />
                                        <text x="110" y="90" font-size="12" text-anchor="middle"
                                            fill="#701a75">自注意力</text>

                                        <!-- 前馈网络层 - 编码器 -->
                                        <rect x="65" y="110" width="90" height="30" rx="5" fill="#fdf4ff"
                                            stroke="#d946ef" stroke-width="1.5" class="dark:opacity-90" />
                                        <text x="110" y="130" font-size="12" text-anchor="middle"
                                            fill="#701a75">前馈网络</text>

                                        <!-- 自注意力层 - 解码器 -->
                                        <rect x="245" y="70" width="90" height="30" rx="5" fill="#f0f9ff"
                                            stroke="#0ea5e9" stroke-width="1.5" class="dark:opacity-90" />
                                        <text x="290" y="90" font-size="12" text-anchor="middle"
                                            fill="#0c4a6e">自注意力</text>

                                        <!-- 交叉注意力层 - 解码器 -->
                                        <rect x="245" y="110" width="90" height="30" rx="5" fill="#f0f9ff"
                                            stroke="#0ea5e9" stroke-width="1.5" class="dark:opacity-90" />
                                        <text x="290" y="130" font-size="12" text-anchor="middle"
                                            fill="#0c4a6e">交叉注意力</text>

                                        <!-- 前馈网络层 - 解码器 -->
                                        <rect x="245" y="150" width="90" height="30" rx="5" fill="#f0f9ff"
                                            stroke="#0ea5e9" stroke-width="1.5" class="dark:opacity-90" />
                                        <text x="290" y="170" font-size="12" text-anchor="middle"
                                            fill="#0c4a6e">前馈网络</text>

                                        <!-- 连接线 -->
                                        <path d="M170 90 C 200 90, 200 120, 245 120" stroke="#6b7280" stroke-width="1.5"
                                            stroke-dasharray="5,3" fill="none" />
                                        <text x="207" y="105" font-size="11" text-anchor="middle"
                                            fill="#6b7280">信息流</text>

                                        <!-- 输入和输出 -->
                                        <text x="110" y="220" font-size="12" text-anchor="middle"
                                            fill="#701a75">输入序列</text>
                                        <text x="290" y="220" font-size="12" text-anchor="middle"
                                            fill="#0c4a6e">输出序列</text>
                                        <path d="M110 200 L 110 215" stroke="#6b7280" stroke-width="1.5"
                                            stroke-dasharray="5,3" />
                                        <path d="M290 200 L 290 215" stroke="#6b7280" stroke-width="1.5"
                                            stroke-dasharray="5,3" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 space-y-12">
                    <!-- 简介 -->
                    <div class="bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-6 md:p-8" data-aos="fade-up">
                        <h3 class="text-2xl font-bold mb-4 text-secondary-900 dark:text-white">提出背景</h3>
                        <div class="text-secondary-600 dark:text-secondary-300 space-y-6">
                            <p>在Transformer出现之前，处理序列数据（如文本）的主流模型是RNN（及其变体LSTM、GRU）。但它们存在一些固有的局限性：</p>

                            <!-- 顺序计算瓶颈 -->
                            <div class="ml-4 mt-6">
                                <h4 class="text-xl font-bold mb-3 text-secondary-900 dark:text-secondary-100">顺序计算的瓶颈
                                </h4>
                                <div class="space-y-3">
                                    <p>RNN像是一个按部就班的读者，必须一个词一个词地按顺序阅读（处理）句子。这意味着，无论句子多长，都必须花费与长度成正比的时间。这种串行处理方式难以利用现代GPU的并行计算能力，导致训练非常耗时。
                                    </p>

                                    <p><span class="font-medium text-accent-600 dark:text-accent-400">比喻:</span>
                                        想象一下逐字逐句地阅读一本厚书，你无法同时阅读多个章节，也无法跳跃式地阅读，效率受限。</p>
                                </div>
                            </div>

                            <!-- 长距离依赖问题 -->
                            <div class="ml-4 mt-6">
                                <h4 class="text-xl font-bold mb-3 text-secondary-900 dark:text-secondary-100">长距离依赖问题
                                </h4>
                                <div class="space-y-3">
                                    <p>虽然LSTM和GRU通过门控机制缓解了RNN的梯度消失问题，但在处理非常长的序列时，信息在逐步传递过程中仍然可能丢失或"稀释"，导致模型难以捕捉距离很远的词语之间的关联。
                                    </p>

                                    <p><span class="font-medium text-accent-600 dark:text-accent-400">比喻:</span>
                                        就像在阅读一本很长的小说时，要准确记住第一章某个细节对最后一章情节的影响，对这位"按部就班的读者"来说仍然很困难，记忆可能会模糊。</p>
                                </div>
                            </div>

                            <!-- 核心诉求 -->
                            <div class="ml-4 mt-6">
                                <h4 class="text-xl font-bold mb-3 text-secondary-900 dark:text-secondary-100">核心诉求</h4>
                                <div class="space-y-3">
                                    <p>研究者们渴望一种新的模型架构，能够：</p>

                                    <ul class="list-disc list-inside ml-4 space-y-2">
                                        <li><span
                                                class="font-semibold text-accent-600 dark:text-accent-300">并行处理序列：</span>
                                            摆脱RNN的顺序依赖，充分利用硬件加速能力。</li>
                                        <li><span
                                                class="font-semibold text-accent-600 dark:text-accent-300">直接捕捉长距离依赖：</span>
                                            无论两个词在序列中相距多远，都能轻松地建立它们之间的联系。</li>
                                        <li><span
                                                class="font-semibold text-accent-600 dark:text-accent-300">聚焦关键信息：</span>
                                            在处理或生成某个词时，能够智能地"关注"输入序列中最相关的部分。</li>
                                    </ul>

                                    <p>Transformer正是为了满足这些需求而设计的。</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 详细架构 -->
                    <div class="bg-white dark:bg-secondary-800 rounded-xl shadow-lg p-6 md:p-8" data-aos="fade-up">
                        <h3 class="text-2xl font-bold mb-6 text-secondary-900 dark:text-white">详细架构</h3>

                        <!-- 交互式Transformer架构图 -->
                        <div
                            class="relative mt-8 mb-12 border border-secondary-200 dark:border-secondary-700 rounded-xl overflow-hidden">
                            <div class="bg-secondary-50 dark:bg-secondary-900 p-4 md:p-6 rounded-t-xl">
                                <h4 class="text-lg font-semibold text-secondary-900 dark:text-white mb-2">
                                    交互式Transformer架构</h4>
                                <p class="text-secondary-600 dark:text-secondary-400 text-sm">鼠标悬停在组件上查看详细说明</p>
                            </div>

                            <div class="relative p-4 bg-white dark:bg-secondary-800 overflow-hidden">
                                <!-- 加载指示器 -->
                                <div
                                    class="absolute inset-0 flex items-center justify-center bg-white dark:bg-secondary-800 z-10">
                                    <div
                                        class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent-500">
                                    </div>
                                </div>

                                <svg id="transformer-architecture"
                                    class="w-full h-auto max-h-[500px] opacity-0 transition-opacity duration-500"
                                    viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
                                    <!-- 输入嵌入层 -->
                                    <rect x="150" y="520" width="150" height="40" rx="5" class="transformer-component"
                                        data-component="input-embedding" fill="#fef3c7" stroke="#f59e0b"
                                        stroke-width="2" />
                                    <text x="225" y="540" text-anchor="middle" font-size="12" fill="#92400e">输入嵌入 +
                                        位置编码</text>

                                    <!-- 输出嵌入层 -->
                                    <rect x="500" y="520" width="150" height="40" rx="5" class="transformer-component"
                                        data-component="output-embedding" fill="#dcfce7" stroke="#10b981"
                                        stroke-width="2" />
                                    <text x="575" y="540" text-anchor="middle" font-size="12" fill="#065f46">输出嵌入 +
                                        位置编码</text>

                                    <!-- 编码器模块 -->
                                    <rect x="130" y="150" width="190" height="320" rx="10" fill="#fdf4ff"
                                        stroke="#d946ef" stroke-width="2" stroke-dasharray="5,3"
                                        class="transformer-component" data-component="middle-layers" />
                                    <text x="225" y="175" text-anchor="middle" font-size="14" fill="#a21caf"
                                        font-weight="bold">编码器堆叠 (×6)</text>

                                    <!-- 编码器块 -->
                                    <rect x="150" y="200" width="150" height="140" rx="5" class="transformer-component"
                                        data-component="encoder-block" fill="#fdf4ff" stroke="#d946ef"
                                        stroke-width="2" />

                                    <!-- 编码器内部组件 -->
                                    <rect x="160" y="220" width="130" height="30" rx="3" class="transformer-component"
                                        data-component="self-attention" fill="#fdf2f8" stroke="#db2777"
                                        stroke-width="1.5" />
                                    <text x="225" y="240" text-anchor="middle" font-size="11"
                                        fill="#831843">多头自注意力</text>

                                    <rect x="160" y="260" width="130" height="20" rx="3" class="transformer-component"
                                        data-component="add-norm" fill="white" stroke="#d946ef" stroke-width="1"
                                        stroke-dasharray="3,2" />
                                    <text x="225" y="274" text-anchor="middle" font-size="9" fill="#701a75">残差连接 +
                                        层归一化</text>

                                    <rect x="160" y="290" width="130" height="30" rx="3" class="transformer-component"
                                        data-component="feedforward" fill="#fdf2f8" stroke="#db2777"
                                        stroke-width="1.5" />
                                    <text x="225" y="310" text-anchor="middle" font-size="11"
                                        fill="#831843">前馈神经网络</text>

                                    <rect x="160" y="330" width="130" height="20" rx="3" class="transformer-component"
                                        data-component="add-norm" fill="white" stroke="#d946ef" stroke-width="1"
                                        stroke-dasharray="3,2" />
                                    <text x="225" y="344" text-anchor="middle" font-size="9" fill="#701a75">残差连接 +
                                        层归一化</text>

                                    <!-- 编码器复制 -->
                                    <rect x="150" y="360" width="150" height="30" rx="5" fill="#fdf4ff" stroke="#d946ef"
                                        stroke-width="2" />
                                    <text x="225" y="380" text-anchor="middle" font-size="11" fill="#701a75">···</text>

                                    <!-- 解码器模块 -->
                                    <rect x="480" y="150" width="190" height="320" rx="10" fill="#f0f9ff"
                                        stroke="#0ea5e9" stroke-width="2" stroke-dasharray="5,3"
                                        class="transformer-component" data-component="middle-layers" />
                                    <text x="575" y="175" text-anchor="middle" font-size="14" fill="#0284c7"
                                        font-weight="bold">解码器堆叠 (×6)</text>

                                    <!-- 解码器块 -->
                                    <rect x="500" y="200" width="150" height="180" rx="5" class="transformer-component"
                                        data-component="decoder-block" fill="#f0f9ff" stroke="#0ea5e9"
                                        stroke-width="2" />

                                    <!-- 解码器内部组件 -->
                                    <rect x="510" y="220" width="130" height="30" rx="3" class="transformer-component"
                                        data-component="masked-attention" fill="#e0f2fe" stroke="#0284c7"
                                        stroke-width="1.5" />
                                    <text x="575" y="240" text-anchor="middle" font-size="11"
                                        fill="#0c4a6e">掩码多头自注意力</text>

                                    <rect x="510" y="260" width="130" height="20" rx="3" class="transformer-component"
                                        data-component="add-norm" fill="white" stroke="#0ea5e9" stroke-width="1"
                                        stroke-dasharray="3,2" />
                                    <text x="575" y="274" text-anchor="middle" font-size="9" fill="#0c4a6e">残差连接 +
                                        层归一化</text>

                                    <rect x="510" y="290" width="130" height="30" rx="3" class="transformer-component"
                                        data-component="cross-attention" fill="#e0f2fe" stroke="#0284c7"
                                        stroke-width="1.5" />
                                    <text x="575" y="310" text-anchor="middle" font-size="11"
                                        fill="#0c4a6e">多头交叉注意力</text>

                                    <rect x="510" y="330" width="130" height="20" rx="3" class="transformer-component"
                                        data-component="add-norm" fill="white" stroke="#0ea5e9" stroke-width="1"
                                        stroke-dasharray="3,2" />
                                    <text x="575" y="344" text-anchor="middle" font-size="9" fill="#0c4a6e">残差连接 +
                                        层归一化</text>

                                    <rect x="510" y="360" width="130" height="30" rx="3" class="transformer-component"
                                        data-component="feedforward" fill="#e0f2fe" stroke="#0284c7"
                                        stroke-width="1.5" />
                                    <text x="575" y="380" text-anchor="middle" font-size="11"
                                        fill="#0c4a6e">前馈神经网络</text>

                                    <rect x="510" y="400" width="130" height="20" rx="3" class="transformer-component"
                                        data-component="add-norm" fill="white" stroke="#0ea5e9" stroke-width="1"
                                        stroke-dasharray="3,2" />
                                    <text x="575" y="414" text-anchor="middle" font-size="9" fill="#0c4a6e">残差连接 +
                                        层归一化</text>

                                    <!-- 解码器复制 -->
                                    <rect x="500" y="440" width="150" height="30" rx="5" fill="#f0f9ff" stroke="#0ea5e9"
                                        stroke-width="2" />
                                    <text x="575" y="460" text-anchor="middle" font-size="11" fill="#0c4a6e">···</text>

                                    <!-- 输出层 -->
                                    <rect x="500" y="100" width="150" height="30" rx="5" class="transformer-component"
                                        data-component="output-layer" fill="#dcfce7" stroke="#10b981"
                                        stroke-width="2" />
                                    <text x="575" y="120" text-anchor="middle" font-size="12" fill="#065f46">线性 +
                                        Softmax</text>

                                    <!-- 连接线 -->
                                    <!-- 输入嵌入到编码器 -->
                                    <path d="M225 520 L225 490" stroke="#f59e0b" stroke-width="2" fill="none" />
                                    <!-- 输出嵌入到解码器 -->
                                    <path d="M575 520 L575 490" stroke="#10b981" stroke-width="2" fill="none" />
                                    <!-- 编码器到交叉注意力 -->
                                    <path d="M225 200 C225 150, 400 280, 510 305" stroke="#d946ef" stroke-width="2"
                                        fill="none" stroke-dasharray="5,3" />
                                    <!-- 解码器到输出层 -->
                                    <path d="M575 200 L575 130" stroke="#0ea5e9" stroke-width="2" fill="none" />

                                    <!-- 输入和输出位置 -->
                                    <text x="225" y="570" text-anchor="middle" font-size="14" fill="#701a75"
                                        font-weight="bold">输入</text>
                                    <text x="575" y="570" text-anchor="middle" font-size="14" fill="#0c4a6e"
                                        font-weight="bold">输出</text>
                                    <text x="575" y="80" text-anchor="middle" font-size="14" fill="#065f46"
                                        font-weight="bold">预测下一个词</text>
                                </svg>

                                <!-- 悬浮提示 -->
                                <div id="transformer-tooltip"
                                    class="absolute hidden bg-white dark:bg-secondary-700 shadow-lg rounded-lg p-3 border border-secondary-200 dark:border-secondary-600 z-20 transform -translate-x-1/2 max-w-xs">
                                    <h5 class="font-bold text-secondary-900 dark:text-white mb-1 text-sm">组件名称</h5>
                                    <p class="text-secondary-600 dark:text-secondary-300 text-xs">组件描述内容</p>
                                </div>
                            </div>

                            <!-- 组件详细说明 -->
                            <div id="component-detail"
                                class="p-4 bg-secondary-50 dark:bg-secondary-900/50 border-t border-secondary-200 dark:border-secondary-700">
                                <h6 class="font-bold text-secondary-900 dark:text-white mb-2">选择一个组件查看详情</h6>
                                <p class="text-secondary-600 dark:text-secondary-300 text-sm">鼠标悬停在架构图的组件上可以查看详细说明</p>
                            </div>
                        </div>

                        <!-- 翻译任务数据流转过程 -->
                        <div class="mt-12 bg-white dark:bg-secondary-800 rounded-xl overflow-hidden shadow-md"
                            data-aos="fade-up">
                            <div class="bg-secondary-50 dark:bg-secondary-900 p-4">
                                <h4 class="text-lg font-semibold text-secondary-900 dark:text-white">翻译任务数据流转过程</h4>
                                <p class="text-secondary-600 dark:text-secondary-400 text-sm">Transformer在机器翻译任务中的工作原理
                                </p>
                            </div>

                            <div class="p-6">
                                <div class="text-secondary-600 dark:text-secondary-300 mb-6">
                                    <p>以下是一个完整的机器翻译过程，展示数据在Transformer模型中的流转过程，以"I love deep learning"翻译为中文为例：</p>
                                </div>

                                <div class="relative">
                                    <!-- 时间线 -->
                                    <div
                                        class="absolute left-4 top-0 bottom-0 w-0.5 bg-accent-200 dark:bg-accent-900/30">
                                    </div>

                                    <!-- 步骤1：输入处理阶段 -->
                                    <div class="relative pl-12 pb-8">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-accent-100 dark:bg-accent-900/30 flex items-center justify-center text-accent-600 dark:text-accent-400 border-2 border-accent-400">
                                            1
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">输入处理阶段
                                        </h5>
                                        <div class="space-y-3">
                                            <p>源语言句子"I love deep learning"被分词为["I", "love", "deep",
                                                "learning"]，每个词被转换为词嵌入向量（通常512维），并添加位置编码以保留词序信息。</p>
                                            <div
                                                class="bg-secondary-50 dark:bg-secondary-800/50 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700">
                                                <div class="flex flex-wrap gap-3">
                                                    <div
                                                        class="px-4 py-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-800 dark:text-blue-300 flex items-center">
                                                        <span class="font-mono">I</span>
                                                        <i class="fas fa-arrow-right mx-2 text-xs"></i>
                                                        <span class="text-xs">[0.2, -0.3, ..., 0.5]</span>
                                                    </div>
                                                    <div
                                                        class="px-4 py-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-800 dark:text-blue-300 flex items-center">
                                                        <span class="font-mono">love</span>
                                                        <i class="fas fa-arrow-right mx-2 text-xs"></i>
                                                        <span class="text-xs">[0.7, 0.1, ..., -0.2]</span>
                                                    </div>
                                                    <div
                                                        class="px-4 py-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-800 dark:text-blue-300 flex items-center">
                                                        <span class="font-mono">deep</span>
                                                        <i class="fas fa-arrow-right mx-2 text-xs"></i>
                                                        <span class="text-xs">[-0.1, 0.8, ..., 0.3]</span>
                                                    </div>
                                                    <div
                                                        class="px-4 py-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg text-blue-800 dark:text-blue-300 flex items-center">
                                                        <span class="font-mono">learning</span>
                                                        <i class="fas fa-arrow-right mx-2 text-xs"></i>
                                                        <span class="text-xs">[0.5, 0.4, ..., 0.6]</span>
                                                    </div>
                                                    <div
                                                        class="mt-2 w-full text-sm text-center text-secondary-500 dark:text-secondary-400">
                                                        + 位置编码
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 步骤2：编码器处理阶段 -->
                                    <div class="relative pl-12 pb-8">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-accent-100 dark:bg-accent-900/30 flex items-center justify-center text-accent-600 dark:text-accent-400 border-2 border-accent-400">
                                            2
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">
                                            编码器处理阶段</h5>
                                        <div class="space-y-3">
                                            <p>词嵌入向量依次通过6层编码器。在每层中，多头自注意力机制让每个词关注整个句子中的其他词，计算注意力权重（例如"deep"对"learning"的关注度高）。然后通过前馈网络进一步处理并提取特征。
                                            </p>
                                            <div
                                                class="bg-secondary-50 dark:bg-secondary-800/50 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700">
                                                <div class="mt-3 text-sm text-center">
                                                    <span
                                                        class="inline-block px-2 py-1 bg-accent-100 dark:bg-accent-900/30 rounded text-accent-800 dark:text-accent-300 text-xs">
                                                        <i class="fas fa-lightbulb mr-1"></i> "deep" → "learning" 注意力权重:
                                                        0.85
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 步骤3：编码器输出传递 -->
                                    <div class="relative pl-12 pb-8">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-accent-100 dark:bg-accent-900/30 flex items-center justify-center text-accent-600 dark:text-accent-400 border-2 border-accent-400">
                                            3
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">
                                            编码器输出传递</h5>
                                        <div class="space-y-3">
                                            <p>编码器最终输出表示整个源句子语义的上下文向量，这些向量被传递给解码器的交叉注意力层，作为解码器生成目标语言的参考。</p>
                                        </div>
                                    </div>

                                    <!-- 步骤4：解码器初始输入 -->
                                    <div class="relative pl-12 pb-8">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-accent-100 dark:bg-accent-900/30 flex items-center justify-center text-accent-600 dark:text-accent-400 border-2 border-accent-400">
                                            4
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">
                                            解码器初始输入</h5>
                                        <div class="space-y-3">
                                            <p>解码开始时，输入特殊的起始标记&lt;BOS&gt;（"开始"），转换为词嵌入向量并添加位置编码。目标语言序列会逐步生成，初始仅有起始标记。
                                            </p>
                                            <div
                                                class="bg-secondary-50 dark:bg-secondary-800/50 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700">
                                                <div class="flex justify-center">
                                                    <div
                                                        class="px-4 py-2 bg-green-100 dark:bg-green-900/30 rounded-lg text-green-800 dark:text-green-300 flex items-center">
                                                        <span class="font-mono">&lt;BOS&gt;</span>
                                                        <i class="fas fa-arrow-right mx-2 text-xs"></i>
                                                        <span class="text-xs">[0.1, 0.2, ..., -0.3]</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 步骤5：解码器处理阶段 -->
                                    <div class="relative pl-12 pb-8">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-accent-100 dark:bg-accent-900/30 flex items-center justify-center text-accent-600 dark:text-accent-400 border-2 border-accent-400">
                                            5
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">
                                            解码器处理阶段</h5>
                                        <div class="space-y-3">
                                            <p>解码器首先通过掩码自注意力只关注已生成的词（防止"偷看"未来），然后交叉注意力层将编码器的输出和当前解码状态结合，让解码器"理解"源句子的语义。例如，生成"我"后，会通过交叉注意力找到与"I"相关的编码器表示，以此推断下一个词。
                                            </p>
                                            <div
                                                class="bg-secondary-50 dark:bg-secondary-800/50 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700">
                                                <div class="flex justify-center flex-wrap gap-2">
                                                    <div
                                                        class="px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded text-green-800 dark:text-green-300">
                                                        <span>&lt;BOS&gt;</span>
                                                    </div>
                                                    <div
                                                        class="px-3 py-1 bg-green-200 dark:bg-green-800/50 rounded text-green-800 dark:text-green-300">
                                                        <span>我</span>
                                                    </div>
                                                    <div
                                                        class="px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded text-gray-400">
                                                        <span>?</span>
                                                    </div>
                                                </div>
                                                <div class="mt-3 flex justify-center">
                                                    <div
                                                        class="px-3 py-1 bg-blue-100 dark:bg-blue-900/20 rounded text-blue-800 dark:text-blue-300 text-sm">
                                                        <i class="fas fa-exchange-alt mr-1"></i> 交叉注意力: "我" 关注 "I"
                                                        (0.92)
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 步骤6：输出预测 -->
                                    <div class="relative pl-12 pb-8">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-accent-100 dark:bg-accent-900/30 flex items-center justify-center text-accent-600 dark:text-accent-400 border-2 border-accent-400">
                                            6
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">输出预测
                                        </h5>
                                        <div class="space-y-3">
                                            <p>解码器输出经过线性层映射到目标语言词汇表大小的向量，然后通过softmax转换为每个词的概率分布。例如，在生成第二个词时，"爱"可能有0.85的概率，"喜欢"有0.10的概率。
                                            </p>
                                            <div
                                                class="bg-secondary-50 dark:bg-secondary-800/50 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700">
                                                <div class="space-y-2">
                                                    <div class="flex items-center">
                                                        <div class="w-16 text-right mr-2">爱:</div>
                                                        <div
                                                            class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
                                                            <div class="bg-green-500 h-3 rounded-full"
                                                                style="width: 85%"></div>
                                                        </div>
                                                        <span class="ml-2 text-sm">85%</span>
                                                    </div>
                                                    <div class="flex items-center">
                                                        <div class="w-16 text-right mr-2">喜欢:</div>
                                                        <div
                                                            class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
                                                            <div class="bg-green-500 h-3 rounded-full"
                                                                style="width: 10%"></div>
                                                        </div>
                                                        <span class="ml-2 text-sm">10%</span>
                                                    </div>
                                                    <div class="flex items-center">
                                                        <div class="w-16 text-right mr-2">其他词:</div>
                                                        <div
                                                            class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
                                                            <div class="bg-green-500 h-3 rounded-full"
                                                                style="width: 5%"></div>
                                                        </div>
                                                        <span class="ml-2 text-sm">5%</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 步骤7：自回归生成 -->
                                    <div class="relative pl-12">
                                        <div
                                            class="absolute left-0 w-8 h-8 rounded-full bg-accent-100 dark:bg-accent-900/30 flex items-center justify-center text-accent-600 dark:text-accent-400 border-2 border-accent-400">
                                            7
                                        </div>
                                        <h5 class="text-lg font-semibold mb-3 text-secondary-900 dark:text-white">自回归生成
                                        </h5>
                                        <div class="space-y-3">
                                            <p>选择概率最高的词（如"爱"）作为当前输出，并将其作为下一步的输入添加到已生成序列中。重复步骤4-7，直到生成特殊的结束标记&lt;EOS&gt;或达到最大长度。最终输出可能是"我
                                                爱 深度 学习"。</p>
                                            <div
                                                class="bg-secondary-50 dark:bg-secondary-800/50 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700">
                                                <div class="text-center">
                                                    <div class="inline-flex flex-wrap gap-2 mb-2">
                                                        <div
                                                            class="px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded text-green-800 dark:text-green-300">
                                                            <span>&lt;BOS&gt;</span>
                                                        </div>
                                                        <div
                                                            class="px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded text-green-800 dark:text-green-300">
                                                            <span>我</span>
                                                        </div>
                                                        <div
                                                            class="px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded text-green-800 dark:text-green-300">
                                                            <span>爱</span>
                                                        </div>
                                                        <div
                                                            class="px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded text-green-800 dark:text-green-300">
                                                            <span>深度</span>
                                                        </div>
                                                        <div
                                                            class="px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded text-green-800 dark:text-green-300">
                                                            <span>学习</span>
                                                        </div>
                                                        <div
                                                            class="px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded text-green-800 dark:text-green-300">
                                                            <span>&lt;EOS&gt;</span>
                                                        </div>
                                                    </div>
                                                    <p class="text-sm mt-3">最终翻译结果: "我 爱 深度 学习"</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div
                                    class="mt-8 bg-accent-50 dark:bg-accent-900/20 p-4 rounded-lg border border-accent-200 dark:border-accent-800">
                                    <h5 class="font-semibold text-accent-900 dark:text-accent-300 text-sm mb-2">
                                        <i class="fas fa-lightbulb mr-1"></i> 整体流程总结
                                    </h5>
                                    <p class="text-sm text-accent-800 dark:text-accent-300">
                                        整个过程是端到端自动进行的，无需人工干预即可完成从源语言到目标语言的翻译。模型通过大量平行语料训练，学习不同语言之间的语义映射。Transformer的并行计算能力和对长距离依赖的捕捉能力使其在翻译任务上表现卓越。
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- JavaScript -->
                        <script>
                            // Transformer架构交互组件
                            document.addEventListener('DOMContentLoaded', function () {
                                const tooltipContents = {
                                    'input-embedding': {
                                        title: '输入嵌入层',
                                        desc: '将输入词转换为向量表示，并添加位置编码以提供位置信息。'
                                    },
                                    'output-embedding': {
                                        title: '输出嵌入层',
                                        desc: '类似于输入嵌入，但用于解码器的输出端，将输出词转换为向量表示。'
                                    },
                                    'encoder-block': {
                                        title: '编码器层',
                                        desc: '由自注意力层和前馈神经网络组成，用于处理输入序列。每个编码器层会进一步细化序列的表示。'
                                    },
                                    'decoder-block': {
                                        title: '解码器层',
                                        desc: '由掩码自注意力、交叉注意力和前馈神经网络组成，用于生成输出序列。'
                                    },
                                    'self-attention': {
                                        title: '多头自注意力层',
                                        desc: '使每个位置能够关注输入序列的其他位置，捕捉序列内的依赖关系。'
                                    },
                                    'masked-attention': {
                                        title: '掩码自注意力层',
                                        desc: '类似于自注意力，但会遮盖未来位置，确保解码器只关注当前及之前的输出。'
                                    },
                                    'cross-attention': {
                                        title: '交叉注意力层',
                                        desc: '允许解码器关注编码器的输出，建立输入序列和输出序列之间的关联。'
                                    },
                                    'feedforward': {
                                        title: '前馈神经网络',
                                        desc: '对每个位置独立应用的全连接网络，进一步处理注意力层的输出。'
                                    },
                                    'add-norm': {
                                        title: '残差连接与层归一化',
                                        desc: '残差连接缓解了梯度消失问题，层归一化稳定了训练过程。'
                                    },
                                    'output-layer': {
                                        title: '输出层',
                                        desc: '线性变换后接softmax，将解码器的输出转换为词汇表上的概率分布。'
                                    },
                                    'middle-layers': {
                                        title: '中间层',
                                        desc: '编码器和解码器通常各自堆叠多层(原始论文为6层)，以增强模型能力。'
                                    }
                                };

                                // 设置架构图交互
                                const tooltip = document.getElementById('transformer-tooltip');
                                const componentDetail = document.getElementById('component-detail');
                                const components = document.querySelectorAll('.transformer-component');
                                const transformerArchitecture = document.getElementById('transformer-architecture');

                                if (tooltip && components && componentDetail && transformerArchitecture) {
                                    // 显示架构图
                                    setTimeout(() => {
                                        transformerArchitecture.classList.remove('opacity-0');
                                        transformerArchitecture.classList.add('opacity-100');
                                        transformerArchitecture.parentElement.querySelector('.absolute').classList.add('hidden');
                                    }, 800);

                                    components.forEach(component => {
                                        component.addEventListener('mouseenter', function (e) {
                                            const componentId = this.getAttribute('data-component');
                                            const content = tooltipContents[componentId];

                                            if (content) {
                                                tooltip.querySelector('h5').textContent = content.title;
                                                tooltip.querySelector('p').textContent = content.desc;

                                                componentDetail.querySelector('h6').textContent = content.title;
                                                componentDetail.querySelector('p').textContent = content.desc;

                                                // 显示工具提示
                                                tooltip.style.display = 'block';
                                                tooltip.style.left = e.pageX - e.currentTarget.getBoundingClientRect().left + 10 + 'px';
                                                tooltip.style.top = e.pageY - e.currentTarget.getBoundingClientRect().top + 10 + 'px';

                                                // 高亮当前组件
                                                this.classList.add('opacity-50');
                                            }
                                        });

                                        component.addEventListener('mouseleave', function () {
                                            tooltip.style.display = 'none';
                                            this.classList.remove('opacity-50');
                                        });

                                        component.addEventListener('mousemove', function (e) {
                                            // 更新工具提示位置
                                            tooltip.style.left = e.pageX - e.currentTarget.getBoundingClientRect().left + 10 + 'px';
                                            tooltip.style.top = e.pageY - e.currentTarget.getBoundingClientRect().top + 10 + 'px';
                                        });
                                    });
                                }

                                // 确保在DOM完全加载后执行
                                window.addEventListener('load', function () {
                                    // 延迟一小段时间确保一切都准备好了
                                    setTimeout(initializeVisualizations, 1000);

                                    function initializeVisualizations() {
                                        // 主位置编码可视化
                                        initializePositionalEncoding();

                                        // 维度特性可视化
                                        initializeDimensionFeatures();

                                        // 确保MathJax处理页面上的所有数学公式
                                        if (typeof MathJax !== 'undefined') {
                                            MathJax.typeset();
                                        }
                                    }

                                    function initializePositionalEncoding() {
                                        const posEncCanvas = document.getElementById('positional-encoding-viz');
                                        const animateButton = document.getElementById('animate-pos-encoding');
                                        const patternsButton = document.getElementById('show-patterns');
                                        const loadingIndicator = document.getElementById('pos-encoding-loading');

                                        if (!posEncCanvas || !loadingIndicator) return;

                                        const ctx = posEncCanvas.getContext('2d');
                                        const width = posEncCanvas.width;
                                        const height = posEncCanvas.height;

                                        // 计算位置编码
                                        function getPositionalEncoding(pos, i, dim = 64) {
                                            if (i % 2 === 0) {
                                                return Math.sin(pos / Math.pow(10000, i / dim));
                                            } else {
                                                return Math.cos(pos / Math.pow(10000, (i - 1) / dim));
                                            }
                                        }

                                        // 主要可视化函数
                                        function drawPositionalEncoding(ctx, maxPos = 20, dim = 64, highlight = null) {
                                            ctx.clearRect(0, 0, width, height);

                                            // 绘制热力图
                                            const cellWidth = width / dim;
                                            const cellHeight = height / maxPos;

                                            for (let pos = 0; pos < maxPos; pos++) {
                                                for (let i = 0; i < dim; i++) {
                                                    const value = getPositionalEncoding(pos, i, dim);
                                                    const intensity = (value + 1) / 2;  // 归一化到 [0, 1]

                                                    // 创建颜色渐变
                                                    let color;
                                                    if (intensity < 0.5) {
                                                        // 蓝色到白色
                                                        const blue = Math.round(255 * intensity * 2);
                                                        color = `rgb(${blue}, ${blue}, 255)`;
                                                    } else {
                                                        // 白色到红色
                                                        const red = 255;
                                                        const gb = Math.round(255 * (1 - (intensity - 0.5) * 2));
                                                        color = `rgb(${red}, ${gb}, ${gb})`;
                                                    }

                                                    ctx.fillStyle = color;
                                                    ctx.fillRect(i * cellWidth, pos * cellHeight, cellWidth, cellHeight);

                                                    // 如果是高亮的维度，添加边框
                                                    if (highlight && highlight.dimensionRanges) {
                                                        for (const range of highlight.dimensionRanges) {
                                                            if (i >= range.start && i <= range.end) {
                                                                ctx.strokeStyle = 'rgba(255, 255, 0, 0.8)';
                                                                ctx.lineWidth = 1;
                                                                ctx.strokeRect(i * cellWidth, pos * cellHeight, cellWidth, cellHeight);
                                                            }
                                                        }
                                                    }

                                                    // 如果是高亮的位置，添加边框
                                                    if (highlight && highlight.position === pos) {
                                                        ctx.strokeStyle = 'rgba(0, 255, 0, 0.8)';
                                                        ctx.lineWidth = 1;
                                                        ctx.strokeRect(i * cellWidth, pos * cellHeight, cellWidth, cellHeight);
                                                    }
                                                }
                                            }

                                            // 添加网格线使可视化更清晰
                                            ctx.strokeStyle = 'rgba(100, 100, 100, 0.2)';
                                            ctx.lineWidth = 0.5;

                                            // 垂直网格线
                                            for (let i = 0; i <= dim; i++) {
                                                ctx.beginPath();
                                                ctx.moveTo(i * cellWidth, 0);
                                                ctx.lineTo(i * cellWidth, height);
                                                ctx.stroke();
                                            }

                                            // 水平网格线
                                            for (let i = 0; i <= maxPos; i++) {
                                                ctx.beginPath();
                                                ctx.moveTo(0, i * cellHeight);
                                                ctx.lineTo(width, i * cellHeight);
                                                ctx.stroke();
                                            }

                                            // 添加标签
                                            ctx.fillStyle = '#1e293b';
                                            ctx.font = '9px sans-serif';
                                            ctx.textAlign = 'left';
                                            ctx.fillText('位置 0', 5, 10);
                                            ctx.fillText(`位置 ${maxPos - 1}`, 5, height - 5);

                                            ctx.textAlign = 'center';
                                            ctx.fillText('维度 0', cellWidth / 2, height - 5);
                                            ctx.fillText(`维度 ${dim - 1}`, width - cellWidth / 2, height - 5);

                                            // 如果有模式注释，添加它们
                                            if (highlight && highlight.patterns) {
                                                for (const pattern of highlight.patterns) {
                                                    ctx.fillStyle = 'rgba(255, 255, 255, 0.85)';
                                                    ctx.fillRect(pattern.x - 2, pattern.y - 12, pattern.text.length * 6 + 4, 16);

                                                    ctx.fillStyle = '#0c4a6e';
                                                    ctx.font = 'bold 10px sans-serif';
                                                    ctx.textAlign = 'left';
                                                    ctx.fillText(pattern.text, pattern.x, pattern.y);
                                                }
                                            }
                                        }

                                        try {
                                            // 初始绘制
                                            drawPositionalEncoding(ctx);
                                            // 显示画布
                                            posEncCanvas.classList.add('opacity-100');
                                            // 隐藏加载指示器
                                            loadingIndicator.classList.add('hidden');

                                            // 绘制动画的函数
                                            function animatePositionalEncoding() {
                                                let highlightPos = 0;
                                                let isAnimating = true;

                                                function animate() {
                                                    if (!isAnimating) return;

                                                    // 使用高亮位置绘制
                                                    drawPositionalEncoding(ctx, 20, 64, { position: highlightPos });

                                                    // 递增高亮位置
                                                    highlightPos = (highlightPos + 1) % 20;

                                                    // 继续动画
                                                    if (highlightPos !== 0 || isAnimating) {
                                                        setTimeout(animate, 200); // 控制动画速度
                                                    }
                                                }

                                                // 开始动画
                                                animate();

                                                // 5秒后停止动画
                                                setTimeout(() => {
                                                    isAnimating = false;
                                                    // 重置回原始显示
                                                    setTimeout(() => drawPositionalEncoding(ctx), 200);
                                                }, 5000);
                                            }

                                            // 显示模式的函数
                                            function showPatterns() {
                                                // 定义要突出显示的模式
                                                const patterns = [
                                                    { text: "高频变化", x: 30, y: 40 },
                                                    { text: "中频变化", x: 150, y: 40 },
                                                    { text: "低频变化", x: 300, y: 40 },
                                                    { text: "相邻位置相似", x: 40, y: 100 },
                                                    { text: "周期性模式", x: 250, y: 150 }
                                                ];

                                                // 定义要高亮的维度范围
                                                const dimensionRanges = [
                                                    { start: 0, end: 8 },    // 高频
                                                    { start: 26, end: 34 },   // 中频
                                                    { start: 54, end: 63 }    // 低频
                                                ];

                                                // 绘制带有模式注释的编码
                                                drawPositionalEncoding(ctx, 20, 64, { patterns, dimensionRanges });

                                                // 5秒后恢复原始显示
                                                setTimeout(() => drawPositionalEncoding(ctx), 5000);
                                            }

                                            // 添加按钮事件监听器
                                            if (animateButton) {
                                                animateButton.addEventListener('click', animatePositionalEncoding);
                                            }

                                            if (patternsButton) {
                                                patternsButton.addEventListener('click', showPatterns);
                                            }
                                        } catch (error) {
                                            console.error('位置编码可视化初始化失败:', error);
                                            // 如果出错，还是要隐藏加载指示器
                                            if (loadingIndicator) loadingIndicator.classList.add('hidden');
                                        }
                                    }

                                    function initializeDimensionFeatures() {
                                        try {
                                            const canvases = [
                                                { id: 'dim-low-freq', frequency: 'high' },
                                                { id: 'dim-mid-freq', frequency: 'medium' },
                                                { id: 'dim-high-freq', frequency: 'low' }
                                            ];

                                            for (const canvasInfo of canvases) {
                                                const canvas = document.getElementById(canvasInfo.id);
                                                if (!canvas) continue;

                                                const ctx = canvas.getContext('2d');
                                                const width = canvas.width;
                                                const height = canvas.height;

                                                // 根据频率设置参数
                                                let frequencyFactor;
                                                let color;

                                                switch (canvasInfo.frequency) {
                                                    case 'high':
                                                        frequencyFactor = 1;
                                                        color = '#0ea5e9'; // 蓝色
                                                        break;
                                                    case 'medium':
                                                        frequencyFactor = 5;
                                                        color = '#6366f1'; // 靛蓝色
                                                        break;
                                                    case 'low':
                                                        frequencyFactor = 20;
                                                        color = '#d946ef'; // 紫色
                                                        break;
                                                }

                                                // 清空画布
                                                ctx.clearRect(0, 0, width, height);

                                                // 绘制中线
                                                ctx.strokeStyle = 'rgba(100, 100, 100, 0.2)';
                                                ctx.lineWidth = 1;
                                                ctx.beginPath();
                                                ctx.moveTo(0, height / 2);
                                                ctx.lineTo(width, height / 2);
                                                ctx.stroke();

                                                // 绘制正弦曲线
                                                ctx.strokeStyle = color;
                                                ctx.lineWidth = 2;
                                                ctx.beginPath();

                                                for (let x = 0; x < width; x++) {
                                                    // 映射x坐标到位置
                                                    const pos = x / width * 20;
                                                    // 计算正弦值，使用频率因子调整频率
                                                    const value = Math.sin(pos / frequencyFactor);
                                                    // 计算y坐标
                                                    const y = height / 2 - value * height / 3;

                                                    if (x === 0) {
                                                        ctx.moveTo(x, y);
                                                    } else {
                                                        ctx.lineTo(x, y);
                                                    }
                                                }

                                                ctx.stroke();

                                                // 添加标记
                                                ctx.fillStyle = color;
                                                ctx.font = '10px sans-serif';

                                                // 标记波峰和波谷
                                                if (canvasInfo.frequency === 'high') {
                                                    // 高频曲线的波峰波谷较多
                                                    for (let i = 0; i < 10; i++) {
                                                        const x = i * width / 10 + width / 20;
                                                        if (i % 2 === 0) {
                                                            ctx.beginPath();
                                                            ctx.arc(x, height / 2 - height / 3, 3, 0, Math.PI * 2);
                                                            ctx.fill();
                                                        } else {
                                                            ctx.beginPath();
                                                            ctx.arc(x, height / 2 + height / 3, 3, 0, Math.PI * 2);
                                                            ctx.fill();
                                                        }
                                                    }
                                                } else if (canvasInfo.frequency === 'medium') {
                                                    // 中频曲线的波峰波谷较少
                                                    for (let i = 0; i < 2; i++) {
                                                        const x = i * width / 2 + width / 4;
                                                        if (i % 2 === 0) {
                                                            ctx.beginPath();
                                                            ctx.arc(x, height / 2 - height / 3, 3, 0, Math.PI * 2);
                                                            ctx.fill();
                                                        } else {
                                                            ctx.beginPath();
                                                            ctx.arc(x, height / 2 + height / 3, 3, 0, Math.PI * 2);
                                                            ctx.fill();
                                                        }
                                                    }
                                                } else {
                                                    // 低频曲线的波峰波谷很少
                                                    ctx.beginPath();
                                                    ctx.arc(width / 2, height / 2 - height / 6, 3, 0, Math.PI * 2);
                                                    ctx.fill();
                                                }

                                                // 显示画布
                                                canvas.classList.add('opacity-100');
                                                // 找到并隐藏加载指示器
                                                const loadingIndicator = canvas.parentElement.querySelector('.dim-viz-loading');
                                                if (loadingIndicator) {
                                                    loadingIndicator.classList.add('hidden');
                                                }
                                            }
                                        } catch (error) {
                                            console.error('维度特性可视化初始化失败:', error);
                                            // 如果出错，隐藏所有加载指示器
                                            document.querySelectorAll('.dim-viz-loading').forEach(el => el.classList.add('hidden'));
                                        }
                                    }
                                });

                                // 自注意力机制动画
                                const selfAttentionSvg = document.getElementById('self-attention-svg');
                                const playButton = document.getElementById('play-self-attention');
                                const stepButton = document.getElementById('step-self-attention');
                                const calculationSteps = document.getElementById('calculation-steps');

                                if (selfAttentionSvg && playButton && stepButton && calculationSteps) {
                                    // 示例句子
                                    const sentence = ["我", "爱", "自然", "语言", "处理"];

                                    // 模拟的嵌入向量维度
                                    const embeddingDim = 4;

                                    // 模拟数据 - 每个词的嵌入向量 (简化为4维)
                                    const embeddings = [
                                        [0.9, 0.1, 0.0, 0.2],   // "我"：主体强 → [主体性高, 动作性低]
                                        [0.2, 0.9, 0.1, 0.3],   // "爱"：动词核心 → [主体性低, 动作性高]
                                        [0.1, 0.3, 0.7, 0.5],   // "自然"：技术词前缀 → [领域性+组合性]
                                        [0.0, 0.2, 0.8, 0.6],   // "语言"：技术性中间词
                                        [0.0, 0.1, 0.6, 0.9]    // "处理"：抽象动宾结尾，强化组合能力
                                    ];

                                    // 模拟的权重矩阵 (简化示例)
                                    const WQ = [
                                        [0.4, 0.1, 0.2, -0.1],
                                        [0.2, 0.5, -0.1, 0.3],
                                        [-0.1, 0.3, 0.4, 0.1],
                                        [0.2, -0.2, 0.3, 0.6]
                                    ];

                                    const WK = [
                                        [0.3, 0.2, -0.2, 0.4],
                                        [0.1, 0.6, 0.1, -0.1],
                                        [-0.2, 0.2, 0.5, 0.3],
                                        [0.4, -0.1, 0.2, 0.5]
                                    ];

                                    const WV = [
                                        [0.5, 0.1, -0.1, 0.2],
                                        [0.1, 0.4, 0.3, -0.1],
                                        [-0.1, 0.5, 0.2, 0.2],
                                        [0.3, -0.2, 0.1, 0.4]
                                    ];
                                    // 预计算QKV向量
                                    const qkvVectors = [];
                                    for (let i = 0; i < sentence.length; i++) {
                                        // 计算Q向量
                                        const q = [];
                                        for (let j = 0; j < embeddingDim; j++) {
                                            let sum = 0;
                                            for (let k = 0; k < embeddingDim; k++) {
                                                sum += embeddings[i][k] * WQ[k][j];
                                            }
                                            q.push(parseFloat(sum.toFixed(2)));
                                        }

                                        // 计算K向量
                                        const k = [];
                                        for (let j = 0; j < embeddingDim; j++) {
                                            let sum = 0;
                                            for (let k = 0; k < embeddingDim; k++) {
                                                sum += embeddings[i][k] * WK[k][j];
                                            }
                                            k.push(parseFloat(sum.toFixed(2)));
                                        }

                                        // 计算V向量
                                        const v = [];
                                        for (let j = 0; j < embeddingDim; j++) {
                                            let sum = 0;
                                            for (let k = 0; k < embeddingDim; k++) {
                                                sum += embeddings[i][k] * WV[k][j];
                                            }
                                            v.push(parseFloat(sum.toFixed(2)));
                                        }

                                        qkvVectors.push({ q, k, v });
                                    }

                                    // 预计算点积注意力分数
                                    const attentionScores = [];
                                    for (let i = 0; i < sentence.length; i++) {
                                        const scores = [];
                                        for (let j = 0; j < sentence.length; j++) {
                                            let dotProduct = 0;
                                            for (let k = 0; k < embeddingDim; k++) {
                                                dotProduct += qkvVectors[i].q[k] * qkvVectors[j].k[k];
                                            }
                                            // 缩放点积
                                            const scaledDotProduct = dotProduct / Math.sqrt(embeddingDim);
                                            scores.push(parseFloat(scaledDotProduct.toFixed(2)));
                                        }
                                        attentionScores.push(scores);
                                    }

                                    // 对注意力分数应用softmax
                                    const attentionWeights = [];
                                    for (let i = 0; i < sentence.length; i++) {
                                        const weights = [];
                                        // 计算exp值和总和
                                        let sum = 0;
                                        const expValues = [];
                                        for (let j = 0; j < sentence.length; j++) {
                                            const expVal = Math.exp(attentionScores[i][j]);
                                            expValues.push(parseFloat(expVal.toFixed(4)));
                                            sum += expVal;
                                        }

                                        // 归一化
                                        for (let j = 0; j < sentence.length; j++) {
                                            weights.push({
                                                raw: expValues[j],
                                                normalized: parseFloat((expValues[j] / sum).toFixed(4))
                                            });
                                        }

                                        attentionWeights.push(weights);
                                    }

                                    // 创建计算过程文本
                                    function generateCalculationSteps(wordIdx) {
                                        const steps = [];
                                        const wordEmbed = embeddings[wordIdx];

                                        // 步骤1: 计算Q向量
                                        steps.push(`【第1步】计算"${sentence[wordIdx]}"的查询向量Q:`);
                                        steps.push(`Q = 词嵌入向量 × W^Q`);
                                        steps.push(`Q = [${wordEmbed.join(', ')}] × W^Q`);

                                        let qCalc = "";
                                        for (let i = 0; i < embeddingDim; i++) {
                                            let sum = 0;
                                            let calcStr = "(";
                                            for (let j = 0; j < embeddingDim; j++) {
                                                sum += wordEmbed[j] * WQ[j][i];
                                                calcStr += `${wordEmbed[j]} × ${WQ[j][i]}`;
                                                if (j < embeddingDim - 1) calcStr += " + ";
                                            }
                                            calcStr += `)`;
                                            qCalc += `Q[${i}] = ${calcStr} = ${qkvVectors[wordIdx].q[i]}\n`;
                                        }
                                        steps.push(qCalc);
                                        steps.push(`Q = [${qkvVectors[wordIdx].q.join(', ')}]`);
                                        steps.push(``);

                                        // 步骤2: 计算注意力分数
                                        steps.push(`【第2步】计算"${sentence[wordIdx]}"与各词的注意力分数:`);
                                        steps.push(`Score = Q·K^T / √d_k   (d_k = ${embeddingDim})`);

                                        for (let i = 0; i < sentence.length; i++) {
                                            let dotProduct = 0;
                                            let calcStr = "(";
                                            for (let j = 0; j < embeddingDim; j++) {
                                                dotProduct += qkvVectors[wordIdx].q[j] * qkvVectors[i].k[j];
                                                calcStr += `${qkvVectors[wordIdx].q[j]} × ${qkvVectors[i].k[j]}`;
                                                if (j < embeddingDim - 1) calcStr += " + ";
                                            }
                                            calcStr += `) / √${embeddingDim}`;
                                            steps.push(`Score("${sentence[wordIdx]}"→"${sentence[i]}") = ${calcStr} = ${attentionScores[wordIdx][i]}`);
                                        }
                                        steps.push(``);

                                        // 步骤3: 应用Softmax
                                        steps.push(`【第3步】应用Softmax得到注意力权重:`);
                                        steps.push(`Weight = Softmax(Score)`);
                                        steps.push(`Softmax(x_i) = exp(x_i) / Σ exp(x_j)`);

                                        // 计算exp值
                                        let expSum = 0;
                                        let expCalcs = [];
                                        for (let i = 0; i < sentence.length; i++) {
                                            const score = attentionScores[wordIdx][i];
                                            const expVal = attentionWeights[wordIdx][i].raw;
                                            expSum += expVal;
                                            expCalcs.push(`exp(${score}) = ${expVal}`);
                                        }
                                        steps.push(expCalcs.join("\n"));
                                        steps.push(`Σ exp(score) = ${expSum.toFixed(4)}`);
                                        steps.push(``);

                                        // 计算归一化权重
                                        for (let i = 0; i < sentence.length; i++) {
                                            const expVal = attentionWeights[wordIdx][i].raw;
                                            const weight = attentionWeights[wordIdx][i].normalized;
                                            steps.push(`Weight("${sentence[wordIdx]}"→"${sentence[i]}") = ${expVal} / ${expSum.toFixed(4)} = ${weight} (${(weight * 100).toFixed(1)}%)`);
                                        }

                                        return steps.join("\n");
                                    }

                                    // 创建自注意力可视化
                                    function setupAttentionViz() {
                                        selfAttentionSvg.innerHTML = '';

                                        // 设置SVG
                                        const ns = "http://www.w3.org/2000/svg";

                                        // 创建标题
                                        const title = document.createElementNS(ns, 'text');
                                        title.setAttribute('x', '400');
                                        title.setAttribute('y', '30');
                                        title.setAttribute('font-size', '16');
                                        title.setAttribute('text-anchor', 'middle');
                                        title.setAttribute('fill', '#d946ef');
                                        title.setAttribute('font-weight', 'bold');
                                        title.textContent = '自注意力机制演示';
                                        selfAttentionSvg.appendChild(title);

                                        // 创建词框
                                        const tokenBoxes = [];
                                        const boxWidth = 70;
                                        const boxHeight = 40;
                                        const boxY = 70;
                                        const startX = 400 - (sentence.length * boxWidth) / 2;

                                        for (let i = 0; i < sentence.length; i++) {
                                            const g = document.createElementNS(ns, 'g');
                                            g.setAttribute('class', 'token-box');
                                            g.setAttribute('data-index', i);

                                            const rect = document.createElementNS(ns, 'rect');
                                            rect.setAttribute('x', startX + i * boxWidth);
                                            rect.setAttribute('y', boxY);
                                            rect.setAttribute('width', boxWidth);
                                            rect.setAttribute('height', boxHeight);
                                            rect.setAttribute('rx', '5');
                                            rect.setAttribute('fill', '#f5d0fe');
                                            rect.setAttribute('stroke', '#d946ef');
                                            rect.setAttribute('stroke-width', '1.5');
                                            g.appendChild(rect);

                                            const text = document.createElementNS(ns, 'text');
                                            text.setAttribute('x', startX + i * boxWidth + boxWidth / 2);
                                            text.setAttribute('y', boxY + boxHeight / 2 + 5);
                                            text.setAttribute('font-size', '14');
                                            text.setAttribute('text-anchor', 'middle');
                                            text.setAttribute('fill', '#701a75');
                                            text.textContent = sentence[i];
                                            g.appendChild(text);

                                            selfAttentionSvg.appendChild(g);
                                            tokenBoxes.push(g);
                                        }

                                        // 创建查询/键/值矩阵
                                        const matrixY = boxY + boxHeight + 30;
                                        const matrixWidth = 100;
                                        const matrixHeight = 100;
                                        const matrixGap = 160;

                                        function createMatrix(x, y, width, height, label) {
                                            const g = document.createElementNS(ns, 'g');
                                            g.setAttribute('class', label.toLowerCase() + '-matrix');

                                            const rect = document.createElementNS(ns, 'rect');
                                            rect.setAttribute('x', x);
                                            rect.setAttribute('y', y);
                                            rect.setAttribute('width', width);
                                            rect.setAttribute('height', height);
                                            rect.setAttribute('fill', '#fdf4ff');
                                            rect.setAttribute('stroke', '#d946ef');
                                            rect.setAttribute('stroke-width', '1.5');
                                            g.appendChild(rect);

                                            const text = document.createElementNS(ns, 'text');
                                            text.setAttribute('x', x + width / 2);
                                            text.setAttribute('y', y - 10);
                                            text.setAttribute('font-size', '14');
                                            text.setAttribute('text-anchor', 'middle');
                                            text.setAttribute('fill', '#701a75');
                                            text.textContent = label;
                                            g.appendChild(text);

                                            // 添加值显示区域
                                            const valueText = document.createElementNS(ns, 'text');
                                            valueText.setAttribute('x', x + width / 2);
                                            valueText.setAttribute('y', y + height / 2);
                                            valueText.setAttribute('font-size', '12');
                                            valueText.setAttribute('text-anchor', 'middle');
                                            valueText.setAttribute('fill', '#701a75');
                                            valueText.setAttribute('class', `${label.toLowerCase()}-value`);
                                            valueText.textContent = "[--, --, --, --]";
                                            g.appendChild(valueText);

                                            return g;
                                        }

                                        const qMatrix = createMatrix(160, matrixY, matrixWidth, matrixHeight, "查询(Q)");
                                        const kMatrix = createMatrix(160 + matrixGap, matrixY, matrixWidth, matrixHeight, "键(K)");
                                        const vMatrix = createMatrix(160 + matrixGap * 2, matrixY, matrixWidth, matrixHeight, "值(V)");

                                        selfAttentionSvg.appendChild(qMatrix);
                                        selfAttentionSvg.appendChild(kMatrix);
                                        selfAttentionSvg.appendChild(vMatrix);

                                        // 创建权重矩阵展示
                                        const matrixWeightsY = matrixY + 160;

                                        // 创建词嵌入说明
                                        const embedTitle = document.createElementNS(ns, 'text');
                                        embedTitle.setAttribute('x', '400');
                                        embedTitle.setAttribute('y', matrixWeightsY - 48);
                                        embedTitle.setAttribute('font-size', '13');
                                        embedTitle.setAttribute('text-anchor', 'middle');
                                        embedTitle.setAttribute('fill', '#701a75');
                                        embedTitle.textContent = '词嵌入向量 (简化为4维示例)';
                                        selfAttentionSvg.appendChild(embedTitle);

                                        // 显示当前词的嵌入向量
                                        const embedValueBox = document.createElementNS(ns, 'rect');
                                        embedValueBox.setAttribute('x', 300);
                                        embedValueBox.setAttribute('y', matrixWeightsY - 45);
                                        embedValueBox.setAttribute('width', 200);
                                        embedValueBox.setAttribute('height', 30);
                                        embedValueBox.setAttribute('fill', '#fdf4ff');
                                        embedValueBox.setAttribute('stroke', '#d946ef');
                                        embedValueBox.setAttribute('stroke-width', '1.5');
                                        embedValueBox.setAttribute('rx', '5');
                                        selfAttentionSvg.appendChild(embedValueBox);

                                        const embedValue = document.createElementNS(ns, 'text');
                                        embedValue.setAttribute('x', 400);
                                        embedValue.setAttribute('y', matrixWeightsY - 25);
                                        embedValue.setAttribute('font-size', '12');
                                        embedValue.setAttribute('text-anchor', 'middle');
                                        embedValue.setAttribute('fill', '#701a75');
                                        embedValue.setAttribute('class', 'embed-value');
                                        embedValue.textContent = "点击词语查看对应嵌入向量";
                                        selfAttentionSvg.appendChild(embedValue);

                                        // 创建点积分数显示
                                        const dotProductMatrix = document.createElementNS(ns, 'g');
                                        dotProductMatrix.setAttribute('class', 'dot-product-matrix');

                                        const dotProductRect = document.createElementNS(ns, 'rect');
                                        dotProductRect.setAttribute('x', 250);
                                        dotProductRect.setAttribute('y', matrixWeightsY);
                                        dotProductRect.setAttribute('width', 300);
                                        dotProductRect.setAttribute('height', 60);
                                        dotProductRect.setAttribute('fill', '#fdf4ff');
                                        dotProductRect.setAttribute('stroke', '#d946ef');
                                        dotProductRect.setAttribute('stroke-width', '1.5');
                                        dotProductMatrix.appendChild(dotProductRect);

                                        const dotProductTitle = document.createElementNS(ns, 'text');
                                        dotProductTitle.setAttribute('x', 400);
                                        dotProductTitle.setAttribute('y', matrixWeightsY - 2);
                                        dotProductTitle.setAttribute('font-size', '13');
                                        dotProductTitle.setAttribute('text-anchor', 'middle');
                                        dotProductTitle.setAttribute('fill', '#701a75');
                                        dotProductTitle.textContent = "Q·K点积 (缩放前)";
                                        dotProductMatrix.appendChild(dotProductTitle);

                                        const dotProductValue = document.createElementNS(ns, 'text');
                                        dotProductValue.setAttribute('x', 400);
                                        dotProductValue.setAttribute('y', matrixWeightsY + 35);
                                        dotProductValue.setAttribute('font-size', '14');
                                        dotProductValue.setAttribute('text-anchor', 'middle');
                                        dotProductValue.setAttribute('fill', '#701a75');
                                        dotProductValue.setAttribute('class', 'dot-product-value');
                                        dotProductValue.textContent = "点击词语开始演示";
                                        dotProductMatrix.appendChild(dotProductValue);

                                        selfAttentionSvg.appendChild(dotProductMatrix);

                                        // 创建softmax权重显示
                                        const softmaxY = matrixWeightsY + 80;
                                        const softmaxMatrix = document.createElementNS(ns, 'g');
                                        softmaxMatrix.setAttribute('class', 'softmax-matrix');

                                        const softmaxRect = document.createElementNS(ns, 'rect');
                                        softmaxRect.setAttribute('x', 250);
                                        softmaxRect.setAttribute('y', softmaxY);
                                        softmaxRect.setAttribute('width', 300);
                                        softmaxRect.setAttribute('height', 60);
                                        softmaxRect.setAttribute('fill', '#fdf4ff');
                                        softmaxRect.setAttribute('stroke', '#d946ef');
                                        softmaxRect.setAttribute('stroke-width', '1.5');
                                        softmaxMatrix.appendChild(softmaxRect);

                                        const softmaxTitle = document.createElementNS(ns, 'text');
                                        softmaxTitle.setAttribute('x', 400);
                                        softmaxTitle.setAttribute('y', softmaxY - 5);
                                        softmaxTitle.setAttribute('font-size', '13');
                                        softmaxTitle.setAttribute('text-anchor', 'middle');
                                        softmaxTitle.setAttribute('fill', '#701a75');
                                        softmaxTitle.textContent = "注意力权重 (Softmax后)";
                                        softmaxMatrix.appendChild(softmaxTitle);

                                        const softmaxValue = document.createElementNS(ns, 'text');
                                        softmaxValue.setAttribute('x', 400);
                                        softmaxValue.setAttribute('y', softmaxY + 35);
                                        softmaxValue.setAttribute('font-size', '14');
                                        softmaxValue.setAttribute('text-anchor', 'middle');
                                        softmaxValue.setAttribute('fill', '#701a75');
                                        softmaxValue.setAttribute('class', 'softmax-value');
                                        softmaxValue.textContent = "点击词语开始演示";
                                        softmaxMatrix.appendChild(softmaxValue);

                                        selfAttentionSvg.appendChild(softmaxMatrix);

                                        // 添加连接线 (隐藏状态)
                                        for (let i = 0; i < sentence.length; i++) {
                                            for (let j = 0; j < sentence.length; j++) {
                                                const line = document.createElementNS(ns, 'line');
                                                line.setAttribute('x1', startX + i * boxWidth + boxWidth / 2);
                                                line.setAttribute('y1', boxY + boxHeight);
                                                line.setAttribute('x2', startX + j * boxWidth + boxWidth / 2);
                                                line.setAttribute('y2', boxY);
                                                line.setAttribute('stroke', '#d946ef');
                                                line.setAttribute('stroke-width', '2');
                                                line.setAttribute('opacity', '0');
                                                line.setAttribute('class', `attention-line from-${i} to-${j}`);
                                                selfAttentionSvg.appendChild(line);
                                            }
                                        }

                                        // 设置交互
                                        tokenBoxes.forEach((box, idx) => {
                                            box.addEventListener('click', () => showAttention(idx));
                                        });

                                        // 显示加载完成
                                        selfAttentionSvg.classList.remove('opacity-0');
                                        selfAttentionSvg.classList.add('opacity-100');
                                        document.querySelector('.self-attention-demo .absolute').classList.add('hidden');
                                    }

                                    // 显示某个词的注意力
                                    function showAttention(wordIdx) {
                                        // 更新计算步骤
                                        calculationSteps.textContent = generateCalculationSteps(wordIdx);

                                        // 重置所有线条
                                        const lines = selfAttentionSvg.querySelectorAll('.attention-line');
                                        lines.forEach(line => line.setAttribute('opacity', '0'));

                                        // 更新查询/键/值矩阵显示
                                        const qValue = selfAttentionSvg.querySelector('.查询\\(q\\)-value');
                                        const kValue = selfAttentionSvg.querySelector('.键\\(k\\)-value');
                                        const vValue = selfAttentionSvg.querySelector('.值\\(v\\)-value');

                                        if (qValue) qValue.textContent = `[${qkvVectors[wordIdx].q.join(', ')}]`;
                                        if (kValue) kValue.textContent = `[${qkvVectors[wordIdx].k.join(', ')}]`;
                                        if (vValue) vValue.textContent = `[${qkvVectors[wordIdx].v.join(', ')}]`;

                                        // 更新词嵌入向量显示
                                        const embedValue = selfAttentionSvg.querySelector('.embed-value');
                                        if (embedValue) {
                                            embedValue.textContent = `${sentence[wordIdx]}: [${embeddings[wordIdx].join(', ')}]`;
                                        }

                                        // 更新点积分数显示
                                        const dotProductValue = selfAttentionSvg.querySelector('.dot-product-value');
                                        if (dotProductValue) {
                                            dotProductValue.textContent = `${sentence[wordIdx]} → ${sentence.map((t, i) => `${t}:${attentionScores[wordIdx][i]}`).join(' ')}`;
                                        }

                                        // 更新softmax权重显示
                                        const softmaxValue = selfAttentionSvg.querySelector('.softmax-value');
                                        if (softmaxValue) {
                                            softmaxValue.textContent = `${sentence[wordIdx]} → ${sentence.map((t, i) => `${t}:${(attentionWeights[wordIdx][i].normalized * 100).toFixed(1)}%`).join(' ')}`;
                                        }

                                        // 更新注意力线条
                                        for (let i = 0; i < sentence.length; i++) {
                                            const line = selfAttentionSvg.querySelector(`.attention-line.from-${wordIdx}.to-${i}`);
                                            if (line) {
                                                line.setAttribute('opacity', attentionWeights[wordIdx][i].normalized);
                                                line.setAttribute('stroke-width', 1 + attentionWeights[wordIdx][i].normalized * 5);
                                            }
                                        }

                                        // 高亮激活词
                                        const tokenBoxes = selfAttentionSvg.querySelectorAll('.token-box');
                                        tokenBoxes.forEach((box, idx) => {
                                            const rect = box.querySelector('rect');
                                            if (idx === wordIdx) {
                                                rect.setAttribute('stroke-width', '3');
                                                rect.setAttribute('fill', '#e879f9');
                                            } else {
                                                rect.setAttribute('stroke-width', '1.5');
                                                rect.setAttribute('fill', '#f5d0fe');
                                            }
                                        });
                                    }

                                    // 初始化
                                    setupAttentionViz();

                                    // 播放动画
                                    playButton.addEventListener('click', function () {
                                        let currentIdx = 0;
                                        const interval = setInterval(() => {
                                            showAttention(currentIdx);
                                            currentIdx = (currentIdx + 1) % sentence.length;

                                            if (currentIdx === 0) {
                                                clearInterval(interval);
                                            }
                                        }, 1500);
                                    });

                                    // 逐步演示
                                    let stepIdx = 0;
                                    stepButton.addEventListener('click', function () {
                                        showAttention(stepIdx);
                                        stepIdx = (stepIdx + 1) % sentence.length;
                                    });
                                }


                                // 当页面滚动时，显示各个章节
                                function handleScroll() {
                                    const sections = document.querySelectorAll('.section-content');

                                    sections.forEach(section => {
                                        const sectionTop = section.getBoundingClientRect().top;
                                        const windowHeight = window.innerHeight;

                                        if (sectionTop < windowHeight * 0.75) {
                                            section.classList.add('visible');
                                        }
                                    });
                                }

                                // 初始化AOS动画库
                                if (typeof AOS !== 'undefined') {
                                    AOS.init({
                                        duration: 800,
                                        easing: 'ease-out',
                                        once: true
                                    });
                                }

                                // 绑定滚动事件
                                window.addEventListener('scroll', handleScroll);

                                // 初始加载时也执行一次
                                handleScroll();
                            });
                        </script>

                        <!-- 位置编码可视化 -->
                        <div class="mt-12 bg-white dark:bg-secondary-800 rounded-xl overflow-hidden shadow-md">
                            <div class="bg-secondary-50 dark:bg-secondary-900 p-4">
                                <h4 class="text-lg font-semibold text-secondary-900 dark:text-white">位置编码可视化</h4>
                                <p class="text-secondary-600 dark:text-secondary-400 text-sm">Transformer如何记住词语位置？</p>
                            </div>

                            <div class="p-6">
                                <div class="text-secondary-600 dark:text-secondary-300 mb-6">
                                    <p>由于Transformer中的自注意力机制是并行计算的，它本身无法区分序列中词语的顺序。位置编码通过将位置信息"融入"词向量中解决了这个问题。</p>
                                    <p class="mt-2">下图展示了原始Transformer论文中使用的正弦/余弦位置编码的模式。横轴代表编码的维度，纵轴代表序列中的位置。</p>
                                </div>

                                <div class="flex flex-col md:flex-row items-center gap-8">
                                    <div
                                        class="w-full md:w-3/5 bg-secondary-50 dark:bg-secondary-900 rounded-lg p-4 flex flex-col items-center relative">
                                        <div class="absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-secondary-800/80 z-10"
                                            id="pos-encoding-loading">
                                            <div
                                                class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500">
                                            </div>
                                        </div>
                                        <canvas id="positional-encoding-viz" width="400" height="200"
                                            class="max-w-full opacity-0 transition-opacity duration-500"></canvas>

                                        <!-- 添加图例 -->
                                        <div
                                            class="flex items-center justify-center mt-3 text-xs text-secondary-600 dark:text-secondary-300">
                                            <div class="flex items-center mr-4">
                                                <div class="w-4 h-4 bg-blue-500 mr-1 rounded"></div>
                                                <span>负值 (-1)</span>
                                            </div>
                                            <div class="flex items-center mr-4">
                                                <div
                                                    class="w-4 h-4 bg-white border border-secondary-200 dark:border-secondary-700 mr-1 rounded">
                                                </div>
                                                <span>零值 (0)</span>
                                            </div>
                                            <div class="flex items-center">
                                                <div class="w-4 h-4 bg-red-500 mr-1 rounded"></div>
                                                <span>正值 (+1)</span>
                                            </div>
                                        </div>

                                        <!-- 添加交互控制 -->
                                        <div class="mt-4 flex justify-center">
                                            <button id="animate-pos-encoding"
                                                class="bg-primary-500 hover:bg-primary-600 text-white px-3 py-1 rounded-md text-sm flex items-center">
                                                <i class="fas fa-play mr-1"></i> 播放动画
                                            </button>
                                            <button id="show-patterns"
                                                class="ml-3 bg-secondary-200 hover:bg-secondary-300 dark:bg-secondary-700 dark:hover:bg-secondary-600 text-secondary-800 dark:text-secondary-200 px-3 py-1 rounded-md text-sm flex items-center">
                                                <i class="fas fa-eye mr-1"></i> 显示模式
                                            </button>
                                        </div>
                                    </div>

                                    <div class="w-full md:w-2/5">
                                        <h5 class="text-md font-semibold text-secondary-900 dark:text-white mb-2">
                                            位置编码的特点：</h5>
                                        <ul
                                            class="list-disc list-inside space-y-2 text-sm text-secondary-600 dark:text-secondary-300">
                                            <li>不同位置具有<span
                                                    class="font-semibold text-accent-600 dark:text-accent-400">唯一的编码</span>
                                            </li>
                                            <li>编码的值范围在[-1,1]之间</li>
                                            <li>不同维度编码周期<span
                                                    class="font-semibold text-accent-600 dark:text-accent-400">由短到长</span>，能捕捉不同尺度的位置相似性
                                            </li>
                                            <li>相对位置接近的词在某些维度上有<span
                                                    class="font-semibold text-accent-600 dark:text-accent-400">相似的编码</span>
                                            </li>
                                            <li>即使面对未见过的序列长度，这种编码方案也能自然扩展</li>
                                        </ul>

                                        <div
                                            class="mt-4 p-3 bg-accent-50 dark:bg-accent-900/20 rounded-lg border border-accent-200 dark:border-accent-800">
                                            <p class="text-xs text-accent-800 dark:text-accent-300">
                                                <span class="font-bold">公式：</span> 对于位置 pos 和维度 i，
                                            </p>
                                            <div class="math-container mt-1">
                                                \begin{align}
                                                PE_{(pos,2i)} &= \sin\left(\frac{pos}{10000^{2i/d}}\right) \\
                                                PE_{(pos,2i+1)} &= \cos\left(\frac{pos}{10000^{2i/d}}\right)
                                                \end{align}
                                            </div>
                                        </div>

                                        <!-- 添加更详细的解释 -->
                                        <div class="mt-4 bg-secondary-50 dark:bg-secondary-800/50 p-3 rounded-lg">
                                            <h6 class="font-semibold text-secondary-900 dark:text-white text-sm mb-1">
                                                为什么使用正弦/余弦函数？</h6>
                                            <p class="text-xs text-secondary-700 dark:text-secondary-300">
                                                正弦和余弦函数具有以下特性：
                                            </p>
                                            <ul
                                                class="list-disc list-inside text-xs text-secondary-600 dark:text-secondary-400 mt-1 space-y-1">
                                                <li>可以通过线性投影将 \(PE(pos+k)\) 表示为 \(PE(pos)\) 的线性函数</li>
                                                <li>这使模型能够轻松学习关注相对位置</li>
                                                <li>在不同维度上使用不同频率，创建了丰富的表示空间</li>
                                            </ul>
                                        </div>

                                        <div
                                            class="mt-4 bg-primary-50 dark:bg-primary-900/20 p-3 rounded-lg border border-primary-100 dark:border-primary-800">
                                            <h6 class="font-semibold text-primary-900 dark:text-primary-300 text-sm">
                                                现代模型的改进：</h6>
                                            <p class="text-xs text-primary-700 dark:text-primary-400 mt-1">
                                                虽然原始Transformer使用了这种固定的正弦位置编码，但现代模型如BERT和GPT系列采用了可学习的位置嵌入，让模型自行优化位置表示。RoPE、ALiBi等是更新的位置编码方法。
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <!-- 添加维度图示说明 -->
                                <div class="mt-8 bg-secondary-50 dark:bg-secondary-900 p-4 rounded-lg">
                                    <h5 class="text-md font-semibold text-secondary-900 dark:text-white mb-3">
                                        位置编码维度特性可视化</h5>

                                    <div class="flex flex-wrap justify-center gap-6">
                                        <div class="flex flex-col items-center">
                                            <div class="relative">
                                                <div
                                                    class="absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-secondary-800/80 z-10 dim-viz-loading">
                                                    <div
                                                        class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500">
                                                    </div>
                                                </div>
                                                <canvas id="dim-low-freq" width="200" height="100"
                                                    class="bg-white dark:bg-secondary-800 rounded border border-secondary-200 dark:border-secondary-700 opacity-0 transition-opacity duration-500"></canvas>
                                            </div>
                                            <p
                                                class="text-xs text-center mt-2 text-secondary-600 dark:text-secondary-400">
                                                低维度 (i=0,1)<br />高频变化，捕捉局部位置差异</p>
                                        </div>

                                        <div class="flex flex-col items-center">
                                            <div class="relative">
                                                <div
                                                    class="absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-secondary-800/80 z-10 dim-viz-loading">
                                                    <div
                                                        class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500">
                                                    </div>
                                                </div>
                                                <canvas id="dim-mid-freq" width="200" height="100"
                                                    class="bg-white dark:bg-secondary-800 rounded border border-secondary-200 dark:border-secondary-700 opacity-0 transition-opacity duration-500"></canvas>
                                            </div>
                                            <p
                                                class="text-xs text-center mt-2 text-secondary-600 dark:text-secondary-400">
                                                中间维度 (i≈d/4)<br />中等频率变化</p>
                                        </div>

                                        <div class="flex flex-col items-center">
                                            <div class="relative">
                                                <div
                                                    class="absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-secondary-800/80 z-10 dim-viz-loading">
                                                    <div
                                                        class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500">
                                                    </div>
                                                </div>
                                                <canvas id="dim-high-freq" width="200" height="100"
                                                    class="bg-white dark:bg-secondary-800 rounded border border-secondary-200 dark:border-secondary-700 opacity-0 transition-opacity duration-500"></canvas>
                                            </div>
                                            <p
                                                class="text-xs text-center mt-2 text-secondary-600 dark:text-secondary-400">
                                                高维度 (i≈d/2)<br />低频变化，捕捉全局位置关系</p>
                                        </div>
                                    </div>

                                    <p class="text-sm text-secondary-600 dark:text-secondary-300 mt-4 text-center">
                                        不同维度的周期性变化使模型能同时关注局部和全局的位置关系，这对于理解语法结构和长距离依赖至关重要。
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- 自注意力机制 -->
                        <div class="mt-12 bg-white dark:bg-secondary-800 rounded-xl overflow-hidden shadow-md"
                            data-aos="fade-up">
                            <div class="bg-secondary-50 dark:bg-secondary-900 p-4">
                                <h4 class="text-lg font-semibold text-secondary-900 dark:text-white">自注意力机制</h4>
                                <p class="text-secondary-600 dark:text-secondary-400 text-sm">Transformer的核心 -
                                    计算每个词与其他词的关联度</p>
                            </div>

                            <div class="p-6">
                                <div class="text-secondary-600 dark:text-secondary-300 mb-6">
                                    <p>自注意力机制使Transformer能够灵活捕捉序列中任意位置之间的依赖关系。计算过程可以通过查询(Q)、键(K)、值(V)三者的交互来理解。</p>
                                </div>

                                <!-- MathJax 公式容器 -->
                                <div class="math-container mb-6">
                                    <div class="text-secondary-900 dark:text-secondary-100 font-semibold mb-2">自注意力计算公式：
                                    </div>
                                    <div>
                                        \begin{align}
                                        Q &= X \cdot W^Q \\
                                        K &= X \cdot W^K \\
                                        V &= X \cdot W^V \\
                                        Attention(Q, K, V) &= softmax\left(\frac{Q \cdot K^T}{\sqrt{d_k}}\right) \cdot V
                                        \end{align}
                                    </div>
                                    <div class="text-secondary-600 dark:text-secondary-400 text-sm mt-2">
                                        其中 \(X\) 是输入词向量, \(W^Q\), \(W^K\), \(W^V\) 是参数矩阵, \(d_k\) 是键向量的维度。
                                    </div>
                                </div>

                                <div
                                    class="self-attention-demo relative border border-accent-200 dark:border-accent-800 rounded-lg overflow-hidden">
                                    <!-- 加载指示器 -->
                                    <div
                                        class="absolute inset-0 flex items-center justify-center bg-white dark:bg-secondary-800 z-10">
                                        <div
                                            class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent-500">
                                        </div>
                                    </div>

                                    <svg id="self-attention-svg"
                                        class="w-full h-auto opacity-0 transition-opacity duration-500"
                                        viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg"></svg>

                                    <div
                                        class="bg-secondary-50 dark:bg-secondary-900 p-4 flex justify-between items-center">
                                        <div>
                                            <p class="text-secondary-600 dark:text-secondary-300 text-sm">
                                                点击词语查看其与其他词的注意力关系</p>
                                        </div>
                                        <div class="flex gap-3">
                                            <button id="step-self-attention"
                                                class="px-4 py-1.5 bg-accent-100 dark:bg-accent-900/30 text-accent-700 dark:text-accent-300 rounded-lg hover:bg-accent-200 dark:hover:bg-accent-900/50 text-sm font-medium transition-colors">
                                                <i class="fas fa-forward mr-1"></i> 逐步演示
                                            </button>
                                            <button id="play-self-attention"
                                                class="px-4 py-1.5 bg-accent-600 dark:bg-accent-700 text-white rounded-lg hover:bg-accent-700 dark:hover:bg-accent-600 text-sm font-medium transition-colors">
                                                <i class="fas fa-play mr-1"></i> 自动演示
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- 计算过程详解 -->
                                <div id="calculation-detail"
                                    class="mt-8 p-5 bg-secondary-50 dark:bg-secondary-900 rounded-lg">
                                    <h5 class="font-semibold text-secondary-900 dark:text-white mb-3">详细计算过程</h5>
                                    <div class="bg-white dark:bg-secondary-800 p-4 rounded-lg shadow-sm">
                                        <div class="font-medium text-accent-600 dark:text-accent-400 mb-2">选中词的计算过程：
                                        </div>
                                        <div id="calculation-steps"
                                            class="text-secondary-700 dark:text-secondary-300 text-sm font-mono whitespace-pre-line">
                                            点击任一词语查看详细计算过程...
                                        </div>
                                    </div>
                                </div>

                                <!-- 注意力计算过程 -->
                                <div class="mt-8 p-5 bg-secondary-50 dark:bg-secondary-900 rounded-lg">
                                    <h5 class="font-semibold text-secondary-900 dark:text-white mb-3">自注意力计算过程</h5>
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
                                        <div class="bg-white dark:bg-secondary-800 p-4 rounded-lg shadow-sm">
                                            <div class="font-medium text-accent-600 dark:text-accent-400 mb-2">1.
                                                映射查询、键、值</div>
                                            <p class="text-secondary-600 dark:text-secondary-400">
                                                每个词的嵌入向量与三个不同的权重矩阵相乘，生成查询(Q)、键(K)和值(V)向量</p>
                                        </div>
                                        <div class="bg-white dark:bg-secondary-800 p-4 rounded-lg shadow-sm">
                                            <div class="font-medium text-accent-600 dark:text-accent-400 mb-2">2.
                                                计算注意力分数</div>
                                            <p class="text-secondary-600 dark:text-secondary-400">
                                                通过点积计算查询向量与所有键向量的相似度，并进行缩放和Softmax归一化</p>
                                            <div
                                                class="mt-2 text-center text-xs text-secondary-500 dark:text-secondary-400">
                                                <span class="font-mono">Attention(Q,K,V) =
                                                    softmax(QK<sup>T</sup>/√d<sub>k</sub>)V</span>
                                            </div>
                                        </div>
                                        <div class="bg-white dark:bg-secondary-800 p-4 rounded-lg shadow-sm">
                                            <div class="font-medium text-accent-600 dark:text-accent-400 mb-2">3. 加权聚合
                                            </div>
                                            <p class="text-secondary-600 dark:text-secondary-400">
                                                使用注意力权重对值向量进行加权求和，得到每个位置的上下文化表示</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 多头注意力 -->
                        <div class="mt-12 bg-white dark:bg-secondary-800 rounded-xl overflow-hidden shadow-md"
                            data-aos="fade-up">
                            <div class="bg-secondary-50 dark:bg-secondary-900 p-4">
                                <h4 class="text-lg font-semibold text-secondary-900 dark:text-white">多头注意力机制</h4>
                                <p class="text-secondary-600 dark:text-secondary-400 text-sm">从多个角度捕捉不同类型的相关性</p>
                            </div>

                            <div class="p-6">
                                <div class="text-secondary-600 dark:text-secondary-300 mb-6">
                                    <p>多头注意力机制允许模型同时从不同的表示子空间学习信息，每个"头"可能关注不同类型的模式。例如，一个头可能关注语法关系，而另一个头可能关注语义相关性。</p>
                                </div>

                                <!-- 多头注意力图解 -->
                                <div class="flex flex-col md:flex-row gap-8 items-center">
                                    <div class="w-full md:w-1/2">
                                        <svg class="w-full" viewBox="0 0 500 350" xmlns="http://www.w3.org/2000/svg">
                                            <!-- 输入矩阵 -->
                                            <rect x="200" y="20" width="100" height="40" rx="5" fill="#f5d0fe"
                                                stroke="#d946ef" stroke-width="1.5" />
                                            <text x="250" y="45" text-anchor="middle" font-size="14" fill="#701a75">输入矩阵
                                                X</text>

                                            <!-- 头部1 -->
                                            <rect x="80" y="100" width="80" height="30" rx="5" fill="#fdf2f8"
                                                stroke="#be185d" stroke-width="1.5" />
                                            <text x="120" y="120" text-anchor="middle" font-size="12"
                                                fill="#9d174d">头1：Q₁, K₁, V₁</text>

                                            <!-- 头部2 -->
                                            <rect x="210" y="100" width="80" height="30" rx="5" fill="#fdf2f8"
                                                stroke="#be185d" stroke-width="1.5" />
                                            <text x="250" y="120" text-anchor="middle" font-size="12"
                                                fill="#9d174d">头2：Q₂, K₂, V₂</text>

                                            <!-- 头部3 -->
                                            <rect x="340" y="100" width="80" height="30" rx="5" fill="#fdf2f8"
                                                stroke="#be185d" stroke-width="1.5" />
                                            <text x="380" y="120" text-anchor="middle" font-size="12"
                                                fill="#9d174d">头n：Qₙ, Kₙ, Vₙ</text>

                                            <!-- 注意力结果1 -->
                                            <rect x="80" y="170" width="80" height="30" rx="5" fill="#fae8ff"
                                                stroke="#c026d3" stroke-width="1.5" />
                                            <text x="120" y="190" text-anchor="middle" font-size="12"
                                                fill="#a21caf">注意力输出1</text>

                                            <!-- 注意力结果2 -->
                                            <rect x="210" y="170" width="80" height="30" rx="5" fill="#fae8ff"
                                                stroke="#c026d3" stroke-width="1.5" />
                                            <text x="250" y="190" text-anchor="middle" font-size="12"
                                                fill="#a21caf">注意力输出2</text>

                                            <!-- 注意力结果3 -->
                                            <rect x="340" y="170" width="80" height="30" rx="5" fill="#fae8ff"
                                                stroke="#c026d3" stroke-width="1.5" />
                                            <text x="380" y="190" text-anchor="middle" font-size="12"
                                                fill="#a21caf">注意力输出n</text>

                                            <!-- 拼接结果 -->
                                            <rect x="140" y="240" width="220" height="30" rx="5" fill="#f5d0fe"
                                                stroke="#d946ef" stroke-width="1.5" />
                                            <text x="250" y="260" text-anchor="middle" font-size="14"
                                                fill="#701a75">拼接(Concat)多头输出</text>

                                            <!-- 最终投影 -->
                                            <rect x="180" y="300" width="140" height="30" rx="5" fill="#f0abfc"
                                                stroke="#a21caf" stroke-width="1.5" />
                                            <text x="250" y="320" text-anchor="middle" font-size="14"
                                                fill="#701a75">线性投影</text>

                                            <!-- 连接线 -->
                                            <!-- 输入到各头 -->
                                            <path d="M220 60 L 120 100" stroke="#d946ef" stroke-width="1.5"
                                                fill="none" />
                                            <path d="M250 60 L 250 100" stroke="#d946ef" stroke-width="1.5"
                                                fill="none" />
                                            <path d="M280 60 L 380 100" stroke="#d946ef" stroke-width="1.5"
                                                fill="none" />

                                            <!-- 头到注意力结果 -->
                                            <path d="M120 130 L 120 170" stroke="#be185d" stroke-width="1.5"
                                                fill="none" />
                                            <path d="M250 130 L 250 170" stroke="#be185d" stroke-width="1.5"
                                                fill="none" />
                                            <path d="M380 130 L 380 170" stroke="#be185d" stroke-width="1.5"
                                                fill="none" />

                                            <!-- 注意力结果到拼接 -->
                                            <path d="M120 200 L 180 240" stroke="#c026d3" stroke-width="1.5"
                                                fill="none" />
                                            <path d="M250 200 L 250 240" stroke="#c026d3" stroke-width="1.5"
                                                fill="none" />
                                            <path d="M380 200 L 320 240" stroke="#c026d3" stroke-width="1.5"
                                                fill="none" />

                                            <!-- 拼接到投影 -->
                                            <path d="M250 270 L 250 300" stroke="#d946ef" stroke-width="1.5"
                                                fill="none" />

                                            <!-- 省略号 -->
                                            <text x="165" y="120" text-anchor="middle" font-size="16"
                                                fill="#9d174d">...</text>
                                            <text x="295" y="120" text-anchor="middle" font-size="16"
                                                fill="#9d174d">...</text>
                                            <text x="165" y="190" text-anchor="middle" font-size="16"
                                                fill="#a21caf">...</text>
                                            <text x="295" y="190" text-anchor="middle" font-size="16"
                                                fill="#a21caf">...</text>
                                        </svg>
                                    </div>

                                    <div class="w-full md:w-1/2 space-y-4">
                                        <h5 class="font-semibold text-secondary-900 dark:text-white">为什么需要多头？</h5>
                                        <div class="space-y-3 text-secondary-600 dark:text-secondary-300">
                                            <p>通过使用多个注意力"头"，模型可以：</p>
                                            <ul class="list-disc list-inside space-y-2">
                                                <li><span
                                                        class="font-medium text-accent-600 dark:text-accent-400">并行关注不同特征</span>
                                                    - 每个头可以专注于捕捉序列中不同类型的依赖关系</li>
                                                <li><span
                                                        class="font-medium text-accent-600 dark:text-accent-400">增强表示能力</span>
                                                    - 融合多个视角的信息，形成更丰富的特征表示</li>
                                                <li><span
                                                        class="font-medium text-accent-600 dark:text-accent-400">提高鲁棒性</span>
                                                    - 多头机制类似于集成学习，减少单一注意力模式可能带来的偏差</li>
                                            </ul>
                                            <p>原始Transformer使用了8个头，每个头的维度是64，保持总维度不变（8×64=512）。</p>
                                        </div>
                                        <div
                                            class="p-3 bg-secondary-50 dark:bg-secondary-900 rounded-lg border border-secondary-200 dark:border-secondary-700">
                                            <p class="text-sm text-secondary-800 dark:text-secondary-300">
                                                <span class="font-semibold">注意：</span>
                                                每个头的输出维度比单一注意力机制小，但拼接后的多头输出总维度与输入相同，确保信息不会丢失。
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Transformer变体 -->
                        <div class="mt-12 bg-white dark:bg-secondary-800 rounded-xl overflow-hidden shadow-md"
                            data-aos="fade-up">
                            <div class="bg-secondary-50 dark:bg-secondary-900 p-4">
                                <h4 class="text-lg font-semibold text-secondary-900 dark:text-white">Transformer变体</h4>
                                <p class="text-secondary-600 dark:text-secondary-400 text-sm">基于原始架构的改进与发展</p>
                            </div>

                            <div class="p-6">
                                <div class="text-secondary-600 dark:text-secondary-300 mb-8">
                                    <p>自2017年提出以来，Transformer架构引发了大量的改进和变体，适应不同任务需求并解决原始架构的局限性。</p>
                                </div>

                                <!-- 各种变体卡片 -->
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- BERT卡片 -->
                                    <div
                                        class="p-5 border border-secondary-200 dark:border-secondary-700 rounded-xl hover:shadow-md transition-shadow">
                                        <div class="flex items-center mb-3">
                                            <div
                                                class="w-12 h-12 flex items-center justify-center bg-blue-100 dark:bg-blue-900/30 rounded-lg mr-4">
                                                <i class="fas fa-brain text-blue-600 dark:text-blue-400 text-xl"></i>
                                            </div>
                                            <h5 class="text-lg font-bold text-secondary-900 dark:text-white">BERT</h5>
                                        </div>
                                        <p class="text-secondary-600 dark:text-secondary-300 mb-3">只使用Transformer的<span
                                                class="font-medium text-blue-600 dark:text-blue-400">编码器</span>部分，通过掩码语言模型预训练，擅长文本理解任务。
                                        </p>
                                        <div class="text-xs text-secondary-500 dark:text-secondary-400">由Google于2018年提出
                                        </div>
                                    </div>

                                    <!-- GPT卡片 -->
                                    <div
                                        class="p-5 border border-secondary-200 dark:border-secondary-700 rounded-xl hover:shadow-md transition-shadow">
                                        <div class="flex items-center mb-3">
                                            <div
                                                class="w-12 h-12 flex items-center justify-center bg-green-100 dark:bg-green-900/30 rounded-lg mr-4">
                                                <i
                                                    class="fas fa-pen-fancy text-green-600 dark:text-green-400 text-xl"></i>
                                            </div>
                                            <h5 class="text-lg font-bold text-secondary-900 dark:text-white">GPT</h5>
                                        </div>
                                        <p class="text-secondary-600 dark:text-secondary-300 mb-3">只使用Transformer的<span
                                                class="font-medium text-green-600 dark:text-green-400">解码器</span>部分，通过自回归式预测下一个词进行预训练，擅长文本生成。
                                        </p>
                                        <div class="text-xs text-secondary-500 dark:text-secondary-400">由OpenAI于2018年提出
                                        </div>
                                    </div>

                                    <!-- T5卡片 -->
                                    <div
                                        class="p-5 border border-secondary-200 dark:border-secondary-700 rounded-xl hover:shadow-md transition-shadow">
                                        <div class="flex items-center mb-3">
                                            <div
                                                class="w-12 h-12 flex items-center justify-center bg-purple-100 dark:bg-purple-900/30 rounded-lg mr-4">
                                                <i
                                                    class="fas fa-exchange-alt text-purple-600 dark:text-purple-400 text-xl"></i>
                                            </div>
                                            <h5 class="text-lg font-bold text-secondary-900 dark:text-white">T5</h5>
                                        </div>
                                        <p class="text-secondary-600 dark:text-secondary-300 mb-3">
                                            使用完整的编码器-解码器架构，将所有NLP任务统一为文本到文本的转换问题，实现多任务学习。</p>
                                        <div class="text-xs text-secondary-500 dark:text-secondary-400">由Google于2019年提出
                                        </div>
                                    </div>

                                    <!-- 高效Transformer卡片 -->
                                    <div
                                        class="p-5 border border-secondary-200 dark:border-secondary-700 rounded-xl hover:shadow-md transition-shadow">
                                        <div class="flex items-center mb-3">
                                            <div
                                                class="w-12 h-12 flex items-center justify-center bg-amber-100 dark:bg-amber-900/30 rounded-lg mr-4">
                                                <i class="fas fa-bolt text-amber-600 dark:text-amber-400 text-xl"></i>
                                            </div>
                                            <h5 class="text-lg font-bold text-secondary-900 dark:text-white">
                                                高效Transformer</h5>
                                        </div>
                                        <p class="text-secondary-600 dark:text-secondary-300 mb-3">
                                            通过稀疏注意力、线性复杂度算法等方式优化自注意力机制，解决处理长序列时的二次方复杂度问题。</p>
                                        <div class="text-xs text-secondary-500 dark:text-secondary-400">
                                            包括Reformer、Longformer、Linformer等</div>
                                    </div>
                                </div>

                                <!-- 时间线 -->
                                <div class="mt-10 relative">
                                    <div
                                        class="h-1 bg-secondary-200 dark:bg-secondary-700 absolute left-0 right-0 top-6">
                                    </div>
                                    <div class="relative flex justify-between">
                                        <div class="text-center">
                                            <div
                                                class="w-12 h-12 rounded-full bg-accent-600 dark:bg-accent-700 text-white flex items-center justify-center mx-auto relative z-10">
                                                <i class="fas fa-lightbulb"></i>
                                            </div>
                                            <div class="mt-2 font-semibold text-secondary-900 dark:text-white">2017
                                            </div>
                                            <div class="text-xs text-secondary-600 dark:text-secondary-400">
                                                原始Transformer</div>
                                        </div>
                                        <div class="text-center">
                                            <div
                                                class="w-12 h-12 rounded-full bg-secondary-200 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-300 flex items-center justify-center mx-auto relative z-10">
                                                <i class="fas fa-code-branch"></i>
                                            </div>
                                            <div class="mt-2 font-semibold text-secondary-900 dark:text-white">2018
                                            </div>
                                            <div class="text-xs text-secondary-600 dark:text-secondary-400">BERT, GPT
                                            </div>
                                        </div>
                                        <div class="text-center">
                                            <div
                                                class="w-12 h-12 rounded-full bg-secondary-200 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-300 flex items-center justify-center mx-auto relative z-10">
                                                <i class="fas fa-rocket"></i>
                                            </div>
                                            <div class="mt-2 font-semibold text-secondary-900 dark:text-white">2019-2020
                                            </div>
                                            <div class="text-xs text-secondary-600 dark:text-secondary-400">T5, 高效变体
                                            </div>
                                        </div>
                                        <div class="text-center">
                                            <div
                                                class="w-12 h-12 rounded-full bg-secondary-200 dark:bg-secondary-700 text-secondary-600 dark:text-secondary-300 flex items-center justify-center mx-auto relative z-10">
                                                <i class="fas fa-expand-arrows-alt"></i>
                                            </div>
                                            <div class="mt-2 font-semibold text-secondary-900 dark:text-white">2020-至今
                                            </div>
                                            <div class="text-xs text-secondary-600 dark:text-secondary-400">大规模模型</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- GPT部分 -->
        <section id="gpt"
            class="py-12 md:py-20 border-t border-secondary-200 dark:border-secondary-700 section-content">
            <div class="max-w-6xl mx-auto">
                <h2 class="text-3xl md:text-4xl font-bold mb-10 text-center text-secondary-900 dark:text-white"
                    data-aos="fade-up">
                    <i class="fas fa-robot text-emerald-500 mr-3"></i>GPT
                </h2>


                <!-- 概览卡片 -->
                <div class="bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-2xl p-1 mb-12 shadow-lg"
                    data-aos="zoom-in">
                    <div class="bg-white dark:bg-secondary-800 rounded-xl p-6 md:p-8">
                        <div class="flex flex-col md:flex-row items-start md:items-center gap-6">
                            <div class="md:w-1/2">
                                <h3 class="text-2xl font-bold mb-4 text-secondary-900 dark:text-white">GPT: 下一代文本生成技术
                                </h3>
                                <p class="text-secondary-600 dark:text-secondary-300 leading-relaxed">
                                    GPT (Generative Pre-trained Transformer)
                                    是一种革命性的语言模型，专注于自然语言的生成能力。它通过大规模预训练和自回归建模，实现了前所未有的文本创作、对话和理解能力。
                                </p>
                                <div class="mt-6 flex flex-wrap gap-3">
                                    <span
                                        class="px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 rounded-full text-sm">自回归建模</span>
                                    <span
                                        class="px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 rounded-full text-sm">预训练+微调</span>
                                    <span
                                        class="px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 rounded-full text-sm">零样本学习</span>
                                    <span
                                        class="px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 rounded-full text-sm">Prompt工程</span>
                                </div>
                            </div>
                            <div class="md:w-1/2 flex justify-center">
                                <div class="w-full max-w-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-full h-auto" viewBox="0 0 400 270"
                                        fill="none">
                                        <!-- 基础方块 -->
                                        <rect x="50" y="60" width="300" height="150" rx="15" fill="#10b981"
                                            class="animate-pulse-slow" />

                                        <!-- 小方块图案 -->
                                        <rect x="80" y="90" width="40" height="40" rx="8" fill="#34d399"
                                            class="animate-pulse-slow" style="animation-delay: 0.3s" />
                                        <rect x="140" y="90" width="40" height="40" rx="8" fill="#34d399"
                                            class="animate-pulse-slow" style="animation-delay: 0.6s" />
                                        <rect x="200" y="90" width="40" height="40" rx="8" fill="#34d399"
                                            class="animate-pulse-slow" style="animation-delay: 0.9s" />
                                        <rect x="260" y="90" width="40" height="40" rx="8" fill="#34d399"
                                            class="animate-pulse-slow" style="animation-delay: 1.2s" />

                                        <!-- 连接线 -->
                                        <line x1="100" y1="150" x2="100" y2="180" stroke="#059669" stroke-width="3" />
                                        <line x1="160" y1="150" x2="160" y2="180" stroke="#059669" stroke-width="3" />
                                        <line x1="220" y1="150" x2="220" y2="180" stroke="#059669" stroke-width="3" />
                                        <line x1="280" y1="150" x2="280" y2="180" stroke="#059669" stroke-width="3" />

                                        <!-- 输出方块 -->
                                        <rect x="80" y="180" width="220" height="30" rx="6" fill="#059669"
                                            class="animate-pulse-slow" style="animation-delay: 1.5s" />

                                        <!-- 文本 -->
                                        <text x="200" y="30" font-size="16" text-anchor="middle" fill="#10b981"
                                            font-weight="bold">Transformer架构</text>
                                        <text x="80" y="240" font-size="14" text-anchor="middle" fill="#34d399"
                                            font-weight="bold">输入</text>
                                        <text x="280" y="240" font-size="14" text-anchor="middle" fill="#059669"
                                            font-weight="bold">输出</text>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-8 space-y-12">
                    <!-- 从Transformer到GPT的演进 -->
                    <div
                        class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 md:p-8 transition-all duration-300 hover:shadow-lg">
                        <div class="flex items-center mb-4">
                            <div
                                class="w-10 h-10 bg-emerald-100 dark:bg-emerald-900 rounded-full flex items-center justify-center mr-4">
                                <svg xmlns="http://www.w3.org/2000/svg"
                                    class="h-5 w-5 text-emerald-600 dark:text-emerald-300" viewBox="0 0 20 20"
                                    fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z"
                                        clip-rule="evenodd" />
                                </svg>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-900 dark:text-white">从Transformer到GPT的演进</h3>
                        </div>

                        <div class="text-gray-600 dark:text-gray-300 space-y-4">
                            <p>Transformer 的出现为处理自然语言提供了强大的工具，而 GPT 则是在此基础上，进一步专注于<span
                                    class="font-semibold">"生成"任务</span>的模型。</p>

                            <div
                                class="mt-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border-l-4 border-emerald-400 dark:border-emerald-500">
                                <p><span class="font-medium">比喻：</span><br>
                                    如果 Transformer 是一座强大的"语言工厂"，那么 GPT 就是其中专门负责<span
                                        class="font-semibold">"创作与表达"</span>的部门，它不是判断哪个更对，而是自己动手写文章、回答问题、续写故事。</p>
                            </div>

                            <!-- GPT演进时间线 -->
                            <div class="mt-6">
                                <h4 class="text-xl font-bold mb-3 text-gray-800 dark:text-gray-200">GPT 的关键演进路径</h4>
                                <div class="relative">
                                    <!-- 垂直时间线 -->
                                    <div class="absolute left-4 top-0 h-full w-0.5 bg-emerald-200 dark:bg-emerald-800">
                                    </div>

                                    <!-- GPT-1 -->
                                    <div class="ml-12 relative mb-8">
                                        <div
                                            class="absolute -left-12 top-0 w-8 h-8 rounded-full bg-emerald-500 dark:bg-emerald-600 flex items-center justify-center z-10">
                                            <span class="text-xs font-bold text-white">1</span>
                                        </div>
                                        <div
                                            class="p-4 bg-gradient-to-r from-emerald-50 to-white dark:from-gray-700 dark:to-gray-800 rounded-lg shadow-sm transition-all duration-300 hover:shadow-md">
                                            <div class="flex justify-between items-center mb-2">
                                                <h5 class="font-bold text-lg text-emerald-700 dark:text-emerald-300">
                                                    GPT-1
                                                    (2018)</h5>
                                                <span
                                                    class="text-xs font-medium px-2.5 py-0.5 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-800 dark:text-emerald-200">1.2亿参数</span>
                                            </div>
                                            <p>提出"预训练 + 微调"范式。用大量文本进行语言建模预训练（即学习"下一个词是什么"），然后在具体任务上微调。</p>
                                        </div>
                                    </div>

                                    <!-- GPT-2 -->
                                    <div class="ml-12 relative mb-8">
                                        <div
                                            class="absolute -left-12 top-0 w-8 h-8 rounded-full bg-emerald-500 dark:bg-emerald-600 flex items-center justify-center z-10">
                                            <span class="text-xs font-bold text-white">2</span>
                                        </div>
                                        <div
                                            class="p-4 bg-gradient-to-r from-emerald-50 to-white dark:from-gray-700 dark:to-gray-800 rounded-lg shadow-sm transition-all duration-300 hover:shadow-md">
                                            <div class="flex justify-between items-center mb-2">
                                                <h5 class="font-bold text-lg text-emerald-700 dark:text-emerald-300">
                                                    GPT-2
                                                    (2019)
                                                </h5>
                                                <span
                                                    class="text-xs font-medium px-2.5 py-0.5 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-800 dark:text-emerald-200">15亿参数</span>
                                            </div>
                                            <p>模型规模大幅提升，展示出惊人的文本生成能力，被 OpenAI 一度"限制发布"。</p>
                                        </div>
                                    </div>

                                    <!-- GPT-3 -->
                                    <div class="ml-12 relative mb-8">
                                        <div
                                            class="absolute -left-12 top-0 w-8 h-8 rounded-full bg-emerald-500 dark:bg-emerald-600 flex items-center justify-center z-10">
                                            <span class="text-xs font-bold text-white">3</span>
                                        </div>
                                        <div
                                            class="p-4 bg-gradient-to-r from-emerald-50 to-white dark:from-gray-700 dark:to-gray-800 rounded-lg shadow-sm transition-all duration-300 hover:shadow-md">
                                            <div class="flex justify-between items-center mb-2">
                                                <h5 class="font-bold text-lg text-emerald-700 dark:text-emerald-300">
                                                    GPT-3
                                                    (2020)</h5>
                                                <span
                                                    class="text-xs font-medium px-2.5 py-0.5 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-800 dark:text-emerald-200">1750亿参数</span>
                                            </div>
                                            <p>引入了1750亿参数，彻底颠覆了传统的NLP模型设计。引导式学习（Few-shot, Zero-shot）成为主流，不再依赖任务微调。</p>
                                        </div>
                                    </div>

                                    <!-- GPT-4 -->
                                    <div class="ml-12 relative">
                                        <div
                                            class="absolute -left-12 top-0 w-8 h-8 rounded-full bg-emerald-500 dark:bg-emerald-600 flex items-center justify-center z-10">
                                            <span class="text-xs font-bold text-white">4</span>
                                        </div>
                                        <div
                                            class="p-4 bg-gradient-to-r from-emerald-50 to-white dark:from-gray-700 dark:to-gray-800 rounded-lg shadow-sm transition-all duration-300 hover:shadow-md">
                                            <div class="flex justify-between items-center mb-2">
                                                <h5 class="font-bold text-lg text-emerald-700 dark:text-emerald-300">
                                                    GPT-4 /
                                                    4-turbo (2023+)</h5>
                                                <span
                                                    class="text-xs font-medium px-2.5 py-0.5 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-800 dark:text-emerald-200">超万亿参数</span>
                                            </div>
                                            <p>引入多模态、长期记忆、工具调用等Agent能力，向"AI助手"演化。</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- GPT架构特点 -->
                            <div class="mt-10">
                                <h4 class="text-xl font-bold mb-4 text-gray-800 dark:text-gray-200">GPT 架构特点</h4>

                                <div class="flex flex-col md:flex-row gap-6">
                                    <!-- 架构图表 -->
                                    <div class="w-full md:w-1/2 bg-white dark:bg-gray-700 p-4 rounded-lg shadow-sm">
                                        <div
                                            class="aspect-w-4 aspect-h-3 bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden">
                                            <!-- 这里放置一个简化的GPT架构图 -->
                                            <div class="flex flex-col items-center justify-center p-4 h-full">
                                                <div class="w-full max-w-md">
                                                    <!-- GPT架构示意图 -->
                                                    <div class="relative py-6">
                                                        <!-- 输入嵌入层 -->
                                                        <div
                                                            class="p-3 mb-3 bg-emerald-100 dark:bg-emerald-900 rounded-lg text-center text-emerald-800 dark:text-emerald-200 font-medium">
                                                            输入嵌入层 + 位置编码
                                                        </div>

                                                        <!-- Decoder堆叠层 -->
                                                        <div
                                                            class="border-2 border-dashed border-emerald-300 dark:border-emerald-700 rounded-lg p-3 mb-3">
                                                            <div
                                                                class="p-3 mb-2 bg-emerald-100 dark:bg-emerald-900 rounded-lg text-center text-emerald-800 dark:text-emerald-200 font-medium">
                                                                Masked自注意力层
                                                            </div>
                                                            <div
                                                                class="p-3 mb-2 bg-emerald-100 dark:bg-emerald-900 rounded-lg text-center text-emerald-800 dark:text-emerald-200 font-medium">
                                                                前馈神经网络
                                                            </div>
                                                            <div
                                                                class="text-center text-gray-500 dark:text-gray-400 text-sm">
                                                                × N层
                                                            </div>
                                                        </div>

                                                        <!-- 输出层 -->
                                                        <div
                                                            class="p-3 bg-emerald-100 dark:bg-emerald-900 rounded-lg text-center text-emerald-800 dark:text-emerald-200 font-medium">
                                                            线性层 + Softmax输出
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 架构特点文字 -->
                                    <div class="w-full md:w-1/2">
                                        <ul class="space-y-3">
                                            <li class="flex items-start">
                                                <div
                                                    class="flex-shrink-0 w-6 h-6 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center mt-0.5 mr-3">
                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                        class="h-4 w-4 text-emerald-600 dark:text-emerald-300"
                                                        viewBox="0 0 20 20" fill="currentColor">
                                                        <path fill-rule="evenodd"
                                                            d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                                            clip-rule="evenodd" />
                                                    </svg>
                                                </div>
                                                <div>
                                                    <span class="font-medium">只用Transformer的Decoder部分</span>
                                                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
                                                        GPT简化了Transformer架构，移除了编码器部分，专注于生成能力。</p>
                                                </div>
                                            </li>
                                            <li class="flex items-start">
                                                <div
                                                    class="flex-shrink-0 w-6 h-6 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center mt-0.5 mr-3">
                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                        class="h-4 w-4 text-emerald-600 dark:text-emerald-300"
                                                        viewBox="0 0 20 20" fill="currentColor">
                                                        <path fill-rule="evenodd"
                                                            d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                                            clip-rule="evenodd" />
                                                    </svg>
                                                </div>
                                                <div>
                                                    <span class="font-medium">自回归建模（Auto-regressive Modeling）</span>
                                                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
                                                        每次预测下一个词，像人类写作一样，一词接一词地生成内容。</p>
                                                </div>
                                            </li>
                                            <li class="flex items-start">
                                                <div
                                                    class="flex-shrink-0 w-6 h-6 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center mt-0.5 mr-3">
                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                        class="h-4 w-4 text-emerald-600 dark:text-emerald-300"
                                                        viewBox="0 0 20 20" fill="currentColor">
                                                        <path fill-rule="evenodd"
                                                            d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                                            clip-rule="evenodd" />
                                                    </svg>
                                                </div>
                                                <div>
                                                    <span class="font-medium">左到右的注意力（Masked Attention）</span>
                                                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
                                                        确保生成过程符合自然语言顺序，当前位置只能看到之前的词，不能"偷看"后面内容。</p>
                                                </div>
                                            </li>
                                        </ul>

                                        <div class="mt-4 p-4 bg-emerald-50 dark:bg-emerald-900/40 rounded-lg">
                                            <p><span class="font-medium">比喻：</span><br>
                                                GPT像是一个<span
                                                    class="font-semibold">"小说家"</span>，他一边写一边想，当前要写的词只能参考前面写的内容，不能偷看后面（这就是Masked
                                                Attention）。</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 详细架构说明 -->
                            <div class="mt-8">
                                <p>GPT全称为Generative Pre-trained
                                    Transformer，其架构完全基于Transformer的Decoder部分。相比原始的Encoder-Decoder结构，GPT做了以下关键简化与优化：</p>

                                <div class="mt-6 space-y-8">
                                    <!-- 架构组件详解 -->
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- 仅使用Decoder堆叠 -->
                                        <div class="p-5 bg-gray-50 dark:bg-gray-900/40 rounded-lg shadow-sm">
                                            <h5
                                                class="flex items-center text-lg font-semibold text-gray-900 dark:text-white mb-3">
                                                <span
                                                    class="flex items-center justify-center w-7 h-7 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 mr-2 text-sm">1</span>
                                                仅使用Decoder堆叠
                                            </h5>
                                            <div class="space-y-2 pl-9">
                                                <p class="text-sm">每一层Decoder块包含三个主要组件：</p>
                                                <ul
                                                    class="list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-300">
                                                    <li>带掩码的多头自注意力</li>
                                                    <li>前馈网络（Feed Forward Network, FFN）</li>
                                                    <li>残差连接（Residual）与层归一化（LayerNorm）</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <!-- 自回归建模 -->
                                        <div class="p-5 bg-gray-50 dark:bg-gray-900/40 rounded-lg shadow-sm">
                                            <h5
                                                class="flex items-center text-lg font-semibold text-gray-900 dark:text-white mb-3">
                                                <span
                                                    class="flex items-center justify-center w-7 h-7 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 mr-2 text-sm">2</span>
                                                自回归建模
                                            </h5>
                                            <div class="space-y-2 pl-9">
                                                <p class="text-sm">模型的训练和推理都遵循从左到右的顺序：</p>
                                                <ul
                                                    class="list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-300">
                                                    <li>给定前n个词，预测第n+1个词</li>
                                                    <li>使用掩码注意力确保每个位置只能关注前面位置</li>
                                                </ul>
                                            </div>
                                        </div>

                                        <!-- 嵌入层设计 -->
                                        <div class="p-5 bg-gray-50 dark:bg-gray-900/40 rounded-lg shadow-sm">
                                            <h5
                                                class="flex items-center text-lg font-semibold text-gray-900 dark:text-white mb-3">
                                                <span
                                                    class="flex items-center justify-center w-7 h-7 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 mr-2 text-sm">3</span>
                                                嵌入层设计
                                            </h5>
                                            <div class="space-y-2 pl-9">
                                                <p class="text-sm">输入的每个词被映射为一个向量，再加上位置编码：</p>
                                                <div
                                                    class="bg-gray-50 dark:bg-gray-700 p-2 rounded-md text-center text-sm">
                                                    <p class="font-mono">Input = TokenEmbedding + PositionalEncoding</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 输出机制 -->
                                        <div class="p-5 bg-gray-50 dark:bg-gray-900/40 rounded-lg shadow-sm">
                                            <h5
                                                class="flex items-center text-lg font-semibold text-gray-900 dark:text-white mb-3">
                                                <span
                                                    class="flex items-center justify-center w-7 h-7 rounded-full bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 mr-2 text-sm">4</span>
                                                输出机制
                                            </h5>
                                            <div class="space-y-2 pl-9">
                                                <p class="text-sm">模型最后通过一个线性层 + Softmax：</p>
                                                <ul
                                                    class="list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-300">
                                                    <li>将每个位置的输出向量映射到词汇表大小</li>
                                                    <li>输出每个词的预测概率，选出最高概率词</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 训练过程 -->
                    <div class="bg-white dark:bg-secondary-800 rounded-xl shadow-md p-6 md:p-8 transform transition duration-300 hover:shadow-lg"
                        data-aos="fade-up">
                        <h3 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                            <i class="fas fa-cogs mr-3 text-emerald-500 dark:text-emerald-400"></i>
                            训练过程
                        </h3>
                        <div class="text-gray-600 dark:text-gray-300 space-y-5">
                            <p>GPT 的训练可以拆解为两个关键阶段：预训练（Pretraining）和推理（Inference）</p>

                            <!-- 训练过程可视化卡片 -->
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                                <!-- 预训练阶段卡片 -->
                                <div
                                    class="bg-gray-50 dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-10 h-10 rounded-full bg-emerald-500 flex items-center justify-center mr-3">
                                            <i class="fas fa-brain text-white"></i>
                                        </div>
                                        <h4 class="text-xl font-bold text-gray-800 dark:text-white">预训练阶段</h4>
                                    </div>

                                    <div class="space-y-4">
                                        <div class="flex items-center">
                                            <div
                                                class="w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-800 flex items-center justify-center text-emerald-600 dark:text-emerald-300 mr-3">
                                                <span class="font-bold">1</span>
                                            </div>
                                            <p class="font-medium">给定前文，预测下一个词</p>
                                        </div>

                                        <!-- 预测下一个词的交互式演示 -->
                                        <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-inner">
                                            <p class="text-gray-700 dark:text-gray-300 mb-2">输入示例：</p>
                                            <div class="flex flex-wrap mb-3">
                                                <span
                                                    class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded m-1">我</span>
                                                <span
                                                    class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded m-1">今天</span>
                                                <span
                                                    class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded m-1">早上</span>
                                                <span
                                                    class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded m-1">在</span>
                                                <span
                                                    class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded m-1">咖啡馆</span>
                                                <span
                                                    class="px-2 py-1 bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-200 rounded m-1 flex items-center animate-pulse">
                                                    <i class="fas fa-question-circle mr-1"></i>
                                                    <span>预测下一个词</span>
                                                </span>
                                            </div>

                                            <div class="relative">
                                                <div class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-2">
                                                    词汇概率分布：</div>
                                                <div class="space-y-2">
                                                    <div class="flex items-center">
                                                        <div class="w-1/5 text-right pr-2">喝咖啡</div>
                                                        <div class="w-3/5">
                                                            <div class="h-6 bg-gradient-to-r from-emerald-400 to-cyan-500 rounded-full"
                                                                style="width: 85%"></div>
                                                        </div>
                                                        <div class="w-1/5 pl-2">85%</div>
                                                    </div>
                                                    <div class="flex items-center">
                                                        <div class="w-1/5 text-right pr-2">看书</div>
                                                        <div class="w-3/5">
                                                            <div class="h-6 bg-gradient-to-r from-emerald-400 to-cyan-500 rounded-full"
                                                                style="width: 60%"></div>
                                                        </div>
                                                        <div class="w-1/5 pl-2">60%</div>
                                                    </div>
                                                    <div class="flex items-center">
                                                        <div class="w-1/5 text-right pr-2">遇见</div>
                                                        <div class="w-3/5">
                                                            <div class="h-6 bg-gradient-to-r from-emerald-400 to-cyan-500 rounded-full"
                                                                style="width: 40%"></div>
                                                        </div>
                                                        <div class="w-1/5 pl-2">40%</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div
                                            class="p-4 bg-white dark:bg-gray-700 rounded-lg border-l-4 border-emerald-500 dark:border-emerald-400">
                                            <div class="flex items-center mb-2">
                                                <i class="fas fa-lightbulb text-emerald-500 mr-2"></i>
                                                <span class="font-medium">训练原理</span>
                                            </div>
                                            <p>GPT 通过数十亿文本片段的训练，不断优化预测下一个词的能力，就像一个学生做无数"完形填空"练习，逐渐形成强大的语言理解能力。</p>
                                        </div>

                                        <!-- 关键技术点 -->
                                        <div class="space-y-3 mt-2">
                                            <div class="flex items-center">
                                                <div
                                                    class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center text-emerald-600 dark:text-emerald-300 mr-3">
                                                    <i class="fas fa-code"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">损失函数</p>
                                                    <div class="text-sm">交叉熵 (Cross Entropy)</div>
                                                </div>
                                            </div>

                                            <div class="flex items-center">
                                                <div
                                                    class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center text-emerald-600 dark:text-emerald-300 mr-3">
                                                    <i class="fas fa-sliders-h"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">优化器</p>
                                                    <div class="text-sm">AdamW (带权重衰减的 Adam)</div>
                                                </div>
                                            </div>

                                            <div class="flex items-center">
                                                <div
                                                    class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center text-emerald-600 dark:text-emerald-300 mr-3">
                                                    <i class="fas fa-database"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">训练数据</p>
                                                    <div class="text-sm">书籍、网页、维基百科等多种来源（GPT-3：570GB文本）</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 推理阶段卡片 -->
                                <div
                                    class="bg-gray-50 dark:bg-gray-800 rounded-xl p-5 shadow-sm border border-gray-200 dark:border-gray-600 transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]">
                                    <div class="flex items-center mb-4">
                                        <div
                                            class="w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center mr-3">
                                            <i class="fas fa-robot text-white"></i>
                                        </div>
                                        <h4 class="text-xl font-bold text-gray-800 dark:text-white">推理阶段</h4>
                                    </div>

                                    <div class="space-y-4">
                                        <div class="flex items-center">
                                            <div
                                                class="w-8 h-8 rounded-full bg-cyan-100 dark:bg-cyan-800 flex items-center justify-center text-cyan-600 dark:text-cyan-300 mr-3">
                                                <span class="font-bold">2</span>
                                            </div>
                                            <p class="font-medium">根据提示(Prompt)生成连贯文本</p>
                                        </div>

                                        <!-- 推理过程可视化 -->
                                        <div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-inner">
                                            <p class="text-gray-700 dark:text-gray-300 mb-2">生成示例：</p>
                                            <div
                                                class="mb-3 p-3 bg-gray-100 dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600">
                                                <div class="font-medium text-sm text-gray-700 dark:text-gray-300 mb-1">
                                                    输入提示(Prompt)：</div>
                                                <p>中国的人工智能未来将会</p>
                                            </div>

                                            <div class="space-y-3">
                                                <div class="flex items-center">
                                                    <div class="w-1/12 flex justify-center">
                                                        <div
                                                            class="w-6 h-6 rounded-full bg-cyan-100 dark:bg-cyan-800 flex items-center justify-center text-cyan-600 dark:text-cyan-300 text-xs">
                                                            1</div>
                                                    </div>
                                                    <div class="w-11/12 pl-2">
                                                        <span
                                                            class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded">在</span>
                                                    </div>
                                                </div>
                                                <div class="flex items-center">
                                                    <div class="w-1/12 flex justify-center">
                                                        <div
                                                            class="w-6 h-6 rounded-full bg-cyan-100 dark:bg-cyan-800 flex items-center justify-center text-cyan-600 dark:text-cyan-300 text-xs">
                                                            2</div>
                                                    </div>
                                                    <div class="w-11/12 pl-2">
                                                        <span
                                                            class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded">各个</span>
                                                    </div>
                                                </div>
                                                <div class="flex items-center">
                                                    <div class="w-1/12 flex justify-center">
                                                        <div
                                                            class="w-6 h-6 rounded-full bg-cyan-100 dark:bg-cyan-800 flex items-center justify-center text-cyan-600 dark:text-cyan-300 text-xs">
                                                            3</div>
                                                    </div>
                                                    <div class="w-11/12 pl-2">
                                                        <span
                                                            class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded">领域</span>
                                                    </div>
                                                </div>
                                                <div class="flex items-center">
                                                    <div class="w-1/12 flex justify-center">
                                                        <div
                                                            class="w-6 h-6 rounded-full bg-cyan-100 dark:bg-cyan-800 flex items-center justify-center text-cyan-600 dark:text-cyan-300 text-xs">
                                                            4</div>
                                                    </div>
                                                    <div class="w-11/12 pl-2">
                                                        <span
                                                            class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded">发挥</span>
                                                    </div>
                                                </div>
                                                <div class="flex items-center">
                                                    <div class="w-1/12 flex justify-center">
                                                        <div
                                                            class="w-6 h-6 rounded-full bg-cyan-100 dark:bg-cyan-800 flex items-center justify-center text-cyan-600 dark:text-cyan-300 text-xs animate-pulse">
                                                            ...</div>
                                                    </div>
                                                    <div class="w-11/12 pl-2 text-gray-400 animate-pulse">
                                                        持续生成中...
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 生成控制参数 -->
                                        <div class="space-y-4 mt-2">
                                            <div class="flex items-center">
                                                <div
                                                    class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center text-cyan-600 dark:text-cyan-300 mr-3">
                                                    <i class="fas fa-temperature-high"></i>
                                                </div>
                                                <div class="flex-1">
                                                    <p class="font-medium">温度 (Temperature)</p>
                                                    <div class="relative mt-1">
                                                        <div
                                                            class="w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-full">
                                                            <div class="absolute h-4 w-4 bg-cyan-500 rounded-full -mt-1 transform -translate-x-1/2"
                                                                style="left: 70%"></div>
                                                            <div class="h-2 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-full"
                                                                style="width: 70%"></div>
                                                        </div>
                                                        <div class="flex justify-between text-xs mt-1">
                                                            <span>保守（低温）</span>
                                                            <span>创意（高温）</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="flex items-center">
                                                <div
                                                    class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-600 flex items-center justify-center text-cyan-600 dark:text-cyan-300 mr-3">
                                                    <i class="fas fa-filter"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">采样策略</p>
                                                    <div class="flex space-x-2 mt-1">
                                                        <span
                                                            class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs font-medium">Top-k:40</span>
                                                        <span
                                                            class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs font-medium">Top-p:0.9</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div
                                            class="p-4 bg-white dark:bg-gray-700 rounded-lg border-l-4 border-cyan-500 dark:border-cyan-400">
                                            <div class="flex items-center mb-2">
                                                <i class="fas fa-lightbulb text-amber-500 mr-2"></i>
                                                <span class="font-medium">比喻</span>
                                            </div>
                                            <p>使用GPT就像与一位创意写手合作，你给出开头，它接着创作。温度调节像是调整这位写手的风格，从循规蹈矩到天马行空。</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 训练过程动画图解 -->
                            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-5 shadow-sm mt-8 border border-gray-200 dark:border-gray-700"
                                data-aos="fade-up">
                                <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white">GPT训练流程可视化</h4>

                                <div class="flex flex-col md:flex-row gap-6" style="height: auto">
                                    <!-- 预训练流程 -->
                                    <div
                                        class="flex-1 border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-800">
                                        <div class="text-center mb-3">
                                            <span
                                                class="inline-block px-3 py-1 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 rounded-full text-sm font-medium">预训练阶段</span>
                                        </div>

                                        <div class="relative" style="height: 400px;">
                                            <!-- 数据输入 -->
                                            <div class="absolute top-0 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-center"
                                                style="top: 0">
                                                <i
                                                    class="fas fa-database text-emerald-500 dark:text-emerald-400 mb-1"></i>
                                                <div class="text-sm font-medium">大规模文本语料</div>
                                            </div>

                                            <!-- 箭头 -->
                                            <div class="absolute top-14 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-transparent text-center"
                                                style="top: 56px">
                                                <i class="fas fa-arrow-down text-emerald-500 dark:text-emerald-400"></i>
                                            </div>

                                            <!-- 标记化处理 -->
                                            <div class="absolute top-44 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-center"
                                                style="top: 92px">
                                                <i class="fas fa-cut text-emerald-500 dark:text-emerald-400 mb-1"></i>
                                                <div class="text-sm font-medium">标记化 (Tokenization)</div>
                                            </div>


                                            <!-- 箭头 -->
                                            <div class="absolute top-52 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-transparent text-center"
                                                style="top: 168px">
                                                <i class="fas fa-arrow-down text-emerald-500 dark:text-emerald-400"></i>
                                            </div>


                                            <!-- 模型输入 -->
                                            <div class="absolute top-52 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-center"
                                                style="top: 204px">
                                                <i
                                                    class="fas fa-microchip text-emerald-500 dark:text-emerald-400 mb-1"></i>
                                                <div class="text-sm font-medium">掩码自注意力计算</div>
                                            </div>

                                            <!-- 箭头 -->
                                            <div class="absolute top-88 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-transparent text-center"
                                                style="top: 262px">
                                                <i class="fas fa-arrow-down text-emerald-500 dark:text-emerald-400"></i>
                                            </div>

                                            <!-- 损失计算 -->
                                            <div class="absolute top-72 left-1/2 transform -translate-x-1/2 w-64 py-2 px-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-center"
                                                style="top: 300px">
                                                <div class="text-sm font-medium">计算损失 & 更新参数</div>
                                                <div class="mt-1 text-xs bg-white dark:bg-gray-800 px-2 py-1 rounded">
                                                    <span class="text-red-500 dark:text-red-400 font-mono">Loss =
                                                        CrossEntropy(预测, 实际下一词)</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 推理流程 -->
                                    <div
                                        class="flex-1 border border-gray-200 dark:border-gray-700 rounded-lg p-4 bg-white dark:bg-gray-800">
                                        <div class="text-center mb-3">
                                            <span
                                                class="inline-block px-3 py-1 bg-cyan-100 dark:bg-cyan-900/40 text-cyan-700 dark:text-cyan-300 rounded-full text-sm font-medium">推理阶段</span>
                                        </div>

                                        <div class="relative" style="height: 400px;">
                                            <!-- 提示输入 -->
                                            <div class="absolute top-0 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-center"
                                                style="top: 0">
                                                <i class="fas fa-keyboard text-cyan-500 dark:text-cyan-400 mb-1"></i>
                                                <div class="text-sm font-medium">用户提示 (Prompt)</div>
                                            </div>

                                            <!-- 箭头 -->
                                            <div class="absolute top-14 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-transparent text-center"
                                                style="top: 56px">
                                                <i class="fas fa-arrow-down text-cyan-500 dark:text-cyan-400"></i>
                                            </div>

                                            <!-- 标记化处理 -->
                                            <div class="absolute top-24 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-center"
                                                style="top: 92px">
                                                <i class="fas fa-cut text-cyan-500 dark:text-cyan-400 mb-1"></i>
                                                <div class="text-sm font-medium">标记化 (Tokenization)</div>
                                            </div>

                                            <!-- 箭头 -->
                                            <div class="absolute top-52 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-transparent text-center"
                                                style="top: 168px">
                                                <i class="fas fa-arrow-down text-cyan-500 dark:text-cyan-400"></i>
                                            </div>

                                            <!-- 模型处理 -->
                                            <div class="absolute top-52 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg text-center"
                                                style="top: 204px">
                                                <i class="fas fa-brain text-cyan-500 dark:text-cyan-400 mb-1"></i>
                                                <div class="text-sm font-medium">GPT模型预测</div>
                                            </div>

                                            <!-- 箭头 -->
                                            <div class="absolute top-88 left-1/2 transform -translate-x-1/2 w-40 py-2 px-3 bg-transparent text-center"
                                                style="top: 262px">
                                                <i class="fas fa-arrow-down text-cyan-500 dark:text-cyan-400"></i>
                                            </div>

                                            <!-- 采样生成 -->
                                            <div class="absolute top-72 left-1/2 transform -translate-x-1/2 w-64 py-2 px-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg flex justify-between"
                                                style="top: 300px">
                                                <div class="text-center">
                                                    <div class="text-xs font-medium">Top-k 采样</div>
                                                    <div class="mt-1">
                                                        <i
                                                            class="fas fa-sort-amount-down text-cyan-500 dark:text-cyan-400"></i>
                                                    </div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-xs font-medium">温度</div>
                                                    <div class="mt-1">
                                                        <i
                                                            class="fas fa-temperature-high text-cyan-500 dark:text-cyan-400"></i>
                                                    </div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="text-xs font-medium">Top-p 采样</div>
                                                    <div class="mt-1">
                                                        <i
                                                            class="fas fa-percentage text-cyan-500 dark:text-cyan-400"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 掩码注意力机制可视化 -->
                            <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-5 shadow-sm mt-6 border border-gray-200 dark:border-gray-700"
                                data-aos="fade-up">
                                <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                    <i class="fas fa-mask mr-3 text-emerald-500"></i>
                                    掩码注意力机制
                                </h4>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <p class="mb-4">掩码注意力是GPT训练的关键机制，确保模型在预测时只能"看到"当前位置之前的内容。</p>

                                        <div
                                            class="p-4 bg-white dark:bg-gray-700 rounded-lg border-l-4 border-emerald-500 dark:border-emerald-400 mb-4">
                                            <p><span class="font-medium">数学表示：</span></p>
                                            <div class="mt-2 text-center">
                                                <div
                                                    class="inline-block bg-white dark:bg-gray-800 px-3 py-2 rounded shadow-sm">
                                                    \[ \text{Mask}_{ij} = \begin{cases}
                                                    0 & \text{if } i \geq j \\
                                                    -\infty & \text{if } i < j \end{cases} \] </div>
                                                </div>
                                            </div>

                                            <p class="text-sm mt-4">在自注意力计算中，掩码确保位置 i 只能关注位置 j ≤ i
                                                的内容。这防止了信息泄漏，模型必须真正学会预测，而不是偷看答案。</p>
                                        </div>

                                        <!-- 可视化图例 -->
                                        <div
                                            class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                                            <div
                                                class="mb-3 text-center text-sm font-medium text-gray-500 dark:text-gray-400">
                                                掩码注意力矩阵可视化</div>

                                            <div class="mb-4 grid grid-cols-7 gap-1">
                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs"></div>
                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">我
                                                </div>
                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">喜
                                                </div>
                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">欢
                                                </div>
                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">机
                                                </div>
                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">器
                                                </div>
                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">学
                                                </div>

                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">我
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>

                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">喜
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>

                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">欢
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>

                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">机
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>

                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">器
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-red-100 dark:bg-red-900 p-1 text-center text-xs">✕</div>

                                                <div class="bg-gray-100 dark:bg-gray-700 p-1 text-center text-xs">学
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                                <div class="bg-green-100 dark:bg-green-900 p-1 text-center text-xs">✓
                                                </div>
                                            </div>

                                            <div class="flex justify-center gap-4 mt-3 text-sm">
                                                <div class="flex items-center">
                                                    <div class="w-4 h-4 bg-green-100 dark:bg-green-900 rounded mr-1">
                                                    </div>
                                                    <span>允许关注</span>
                                                </div>
                                                <div class="flex items-center">
                                                    <div class="w-4 h-4 bg-red-100 dark:bg-red-900 rounded mr-1"></div>
                                                    <span>禁止关注 (-∞)</span>
                                                </div>
                                            </div>

                                            <div
                                                class="mt-4 px-3 py-2 bg-indigo-50 dark:bg-indigo-900/30 rounded text-sm">
                                                <p class="text-center">✓ = 允许计算注意力，✕ = 设置为负无穷大</p>
                                                <p class="text-center mt-1 text-xs text-gray-500 dark:text-gray-400">
                                                    对角线及其以下可见，确保每个位置只能关注自己及之前的词</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 训练技巧与高级细节 -->
                                <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-5 shadow-sm mt-8 border border-gray-200 dark:border-gray-700"
                                    data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i class="fas fa-wrench mr-3 text-emerald-500 dark:text-emerald-400"></i>
                                        训练技巧与高级优化
                                    </h4>

                                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                        <!-- 技巧卡片 1：批处理训练 -->
                                        <div
                                            class="bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]">
                                            <div
                                                class="w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900/40 flex items-center justify-center mb-3">
                                                <i class="fas fa-layer-group text-indigo-600 dark:text-indigo-400"></i>
                                            </div>
                                            <h5 class="font-bold text-gray-800 dark:text-white mb-2">Batch Training</h5>
                                            <p class="text-sm text-gray-600 dark:text-gray-300">
                                                使用多个样本并行计算，一次性更新梯度，加速训练过程并提高模型稳定性。</p>
                                            <div class="mt-3 bg-gray-50 dark:bg-gray-800 rounded p-2 text-xs">
                                                <code
                                                    class="text-indigo-600 dark:text-indigo-400">batch_size = 256</code>
                                            </div>
                                        </div>

                                        <!-- 技巧卡片 2：混合精度训练 -->
                                        <div
                                            class="bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]">
                                            <div
                                                class="w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center mb-3">
                                                <i class="fas fa-microchip text-blue-600 dark:text-blue-400"></i>
                                            </div>
                                            <h5 class="font-bold text-gray-800 dark:text-white mb-2">混合精度训练</h5>
                                            <p class="text-sm text-gray-600 dark:text-gray-300">
                                                使用FP16/FP8代替全FP32，大幅减少显存占用，同时保持数值稳定性。</p>
                                            <div class="mt-3 flex space-x-2">
                                                <span
                                                    class="px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded text-xs">更低显存占用</span>
                                                <span
                                                    class="px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 rounded text-xs">更快运算速度</span>
                                            </div>
                                        </div>

                                        <!-- 技巧卡片 3：可学习位置编码 -->
                                        <div
                                            class="bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]">
                                            <div
                                                class="w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/40 flex items-center justify-center mb-3">
                                                <i class="fas fa-map-pin text-emerald-600 dark:text-emerald-400"></i>
                                            </div>
                                            <h5 class="font-bold text-gray-800 dark:text-white mb-2">可学习位置编码</h5>
                                            <p class="text-sm text-gray-600 dark:text-gray-300">
                                                不同于原始Transformer的固定正余弦编码，GPT使用可学习的位置嵌入，更加灵活。</p>
                                            <div
                                                class="mt-3 bg-gray-50 dark:bg-gray-800 p-2 rounded text-xs text-center">
                                                <span class="font-mono">position_embeddings</span>
                                                <div
                                                    class="h-2 mt-1 bg-gradient-to-r from-indigo-400 to-emerald-400 rounded-full">
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 技巧卡片 4：权重共享 -->
                                        <div
                                            class="bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]">
                                            <div
                                                class="w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/40 flex items-center justify-center mb-3">
                                                <i class="fas fa-link text-purple-600 dark:text-purple-400"></i>
                                            </div>
                                            <h5 class="font-bold text-gray-800 dark:text-white mb-2">权重共享</h5>
                                            <p class="text-sm text-gray-600 dark:text-gray-300">
                                                Embedding层和输出层共享相同的权重矩阵，有效减少模型参数量，同时提高训练效率。</p>
                                            <div class="mt-3 flex items-center justify-center">
                                                <div
                                                    class="w-8 h-8 bg-indigo-100 dark:bg-indigo-900/40 flex items-center justify-center rounded-lg mr-2">
                                                    <span class="text-xs font-bold">E</span>
                                                </div>
                                                <div class="w-5 flex justify-center">
                                                    <i class="fas fa-equals text-gray-500"></i>
                                                </div>
                                                <div
                                                    class="w-8 h-8 bg-purple-100 dark:bg-purple-900/40 flex items-center justify-center rounded-lg ml-2">
                                                    <span class="text-xs font-bold">W</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 额外技巧和优化策略 -->
                                    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <!-- 梯度累积 -->
                                        <div
                                            class="flex bg-white dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                            <div class="mr-4 flex-shrink-0">
                                                <div
                                                    class="w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/40 flex items-center justify-center">
                                                    <i class="fas fa-chart-line text-amber-600 dark:text-amber-400"></i>
                                                </div>
                                            </div>
                                            <div>
                                                <h5 class="font-bold text-gray-800 dark:text-white mb-1">梯度累积</h5>
                                                <p class="text-sm text-gray-600 dark:text-gray-300">
                                                    处理多个小批量数据后才执行一次参数更新，以模拟大批量训练的效果，同时减少显存占用。</p>
                                            </div>
                                        </div>

                                        <!-- 渐进式学习率调整 -->
                                        <div
                                            class="flex bg-white dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                            <div class="mr-4 flex-shrink-0">
                                                <div
                                                    class="w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center">
                                                    <i class="fas fa-sliders-h text-blue-600 dark:text-blue-400"></i>
                                                </div>
                                            </div>
                                            <div>
                                                <h5 class="font-bold text-gray-800 dark:text-white mb-1">学习率预热与衰减</h5>
                                                <p class="text-sm text-gray-600 dark:text-gray-300">
                                                    训练初期使用较小学习率，逐渐增大（预热），然后再逐渐减小，提高模型训练稳定性。</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 可视化学习曲线 -->
                                    <div
                                        class="mt-6 bg-white dark:bg-gray-700 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                        <h5 class="font-bold text-gray-800 dark:text-white mb-3">GPT训练损失曲线</h5>
                                        <div class="h-64 relative">
                                            <!-- 这里将使用Canvas/Chart.js，暂时用静态图演示 -->
                                            <div class="absolute inset-0 flex items-center justify-center">
                                                <canvas id="gptTrainingChart" width="100%" height="100%"></canvas>
                                            </div>
                                        </div>
                                        <div class="mt-3 flex justify-center space-x-6 text-sm">
                                            <div class="flex items-center">
                                                <div class="w-3 h-3 bg-indigo-500 rounded-full mr-1"></div>
                                                <span>训练损失</span>
                                            </div>
                                            <div class="flex items-center">
                                                <div class="w-3 h-3 bg-emerald-500 rounded-full mr-1"></div>
                                                <span>验证损失</span>
                                            </div>
                                        </div>
                                        <!-- 图表初始化脚本 -->
                                        <script>
                                            document.addEventListener('DOMContentLoaded', function () {
                                                const ctx = document.getElementById('gptTrainingChart').getContext('2d');

                                                // 制造一些训练数据
                                                const epochs = Array.from({ length: 20 }, (_, i) => i + 1);
                                                const trainingLoss = [4.2, 3.8, 3.3, 2.9, 2.6, 2.3, 2.1, 1.9, 1.7, 1.6, 1.5, 1.4, 1.35, 1.3, 1.25, 1.2, 1.18, 1.15, 1.12, 1.1];
                                                const validationLoss = [4.3, 3.9, 3.5, 3.2, 2.9, 2.7, 2.5, 2.3, 2.1, 2.0, 1.9, 1.8, 1.75, 1.7, 1.65, 1.62, 1.6, 1.59, 1.58, 1.57];

                                                new Chart(ctx, {
                                                    type: 'line',
                                                    data: {
                                                        labels: epochs,
                                                        datasets: [
                                                            {
                                                                label: '训练损失',
                                                                data: trainingLoss,
                                                                borderColor: 'rgba(79, 70, 229, 0.8)',
                                                                backgroundColor: 'rgba(79, 70, 229, 0.1)',
                                                                tension: 0.3,
                                                                fill: true
                                                            },
                                                            {
                                                                label: '验证损失',
                                                                data: validationLoss,
                                                                borderColor: 'rgba(16, 185, 129, 0.8)',
                                                                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                                                                tension: 0.3,
                                                                fill: true
                                                            }
                                                        ]
                                                    },
                                                    options: {
                                                        responsive: true,
                                                        maintainAspectRatio: false,
                                                        scales: {
                                                            y: {
                                                                beginAtZero: false,
                                                                grid: {
                                                                    color: document.documentElement.classList.contains('dark') ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                                                                }
                                                            },
                                                            x: {
                                                                grid: {
                                                                    color: document.documentElement.classList.contains('dark') ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                                                                }
                                                            }
                                                        },
                                                        plugins: {
                                                            legend: {
                                                                display: false
                                                            },
                                                            tooltip: {
                                                                mode: 'index',
                                                                intersect: false
                                                            }
                                                        }
                                                    }
                                                });
                                            });
                                        </script>
                                    </div>
                                </div>

                                <!-- 互动实验：GPT文本生成模拟器 -->
                                <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-5 shadow-sm mt-8 border border-gray-200 dark:border-gray-700"
                                    data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i class="fas fa-flask mr-3 text-emerald-500 dark:text-emerald-400"></i>
                                        互动实验：GPT生成模拟器
                                    </h4>

                                    <p class="mb-4">体验GPT是如何逐词生成文本的，并了解温度参数如何影响生成结果。</p>

                                    <div class="bg-white dark:bg-gray-700 rounded-lg p-4">
                                        <div class="mb-4">
                                            <label for="promptInput"
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">输入提示词：</label>
                                            <textarea id="promptInput" rows="2"
                                                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-800 dark:text-white"
                                                placeholder="输入一个简短的提示，例如：'人工智能将会'" readonly>人工智能将会</textarea>
                                        </div>

                                        <div class="mb-4">
                                            <label for="temperatureSlider"
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">温度
                                                (Temperature)：<span id="tempValue">0.7</span></label>
                                            <input type="range" id="temperatureSlider" min="0.1" max="1.5" step="0.1"
                                                value="0.7"
                                                class="w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer">
                                            <div
                                                class="flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1">
                                                <span>更确定 (0.1)</span>
                                                <span>更随机 (1.5)</span>
                                            </div>
                                        </div>

                                        <button id="generateBtn"
                                            class="w-full py-2 px-4 bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 text-white font-medium rounded-md shadow-sm transition-colors duration-300 flex items-center justify-center">
                                            <i class="fas fa-magic mr-2"></i>
                                            开始生成
                                        </button>

                                        <div id="generationResult"
                                            class="mt-4 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md min-h-[100px]">
                                            <div id="generatedText" class="text-gray-800 dark:text-gray-200"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 能力与限制 -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 md:p-8 transform transition duration-300 hover:shadow-lg"
                            data-aos="fade-up">
                            <h3 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                <i class="fas fa-balance-scale mr-3 text-emerald-500 dark:text-emerald-400"></i>
                                能力与限制
                            </h3>
                            <div class="text-gray-600 dark:text-gray-300 space-y-5">
                                <!-- 能力与限制卡片组 -->
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
                                    <!-- 能力卡片 -->
                                    <div
                                        class="bg-gradient-to-br from-green-50 to-emerald-50 dark:from-gray-700 dark:to-emerald-900 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]">
                                        <div class="flex items-center mb-4">
                                            <div
                                                class="w-10 h-10 rounded-full bg-green-500 flex items-center justify-center mr-3">
                                                <i class="fas fa-check text-white"></i>
                                            </div>
                                            <h4 class="text-xl font-bold text-green-700 dark:text-green-300">
                                                能力（Strengths）</h4>
                                        </div>

                                        <div class="space-y-4">
                                            <!-- 能力列表 -->
                                            <div class="flex items-start">
                                                <div
                                                    class="mt-1 w-6 h-6 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-300 mr-3 flex-shrink-0">
                                                    <i class="fas fa-crown text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">通才能力</p>
                                                    <p class="text-sm">对写作、编程、翻译、答题都能应对</p>
                                                </div>
                                            </div>

                                            <div class="flex items-start">
                                                <div
                                                    class="mt-1 w-6 h-6 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-300 mr-3 flex-shrink-0">
                                                    <i class="fas fa-bolt text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">零样本学习（Zero-shot）</p>
                                                    <p class="text-sm">只需描述任务，无需训练即可完成</p>
                                                </div>
                                            </div>

                                            <div class="flex items-start">
                                                <div
                                                    class="mt-1 w-6 h-6 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-300 mr-3 flex-shrink-0">
                                                    <i class="fas fa-sitemap text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">上下文理解</p>
                                                    <p class="text-sm">能理解输入的语境并生成相关内容</p>
                                                </div>
                                            </div>

                                            <div class="flex items-start">
                                                <div
                                                    class="mt-1 w-6 h-6 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-300 mr-3 flex-shrink-0">
                                                    <i class="fas fa-comments text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">多轮对话能力</p>
                                                    <p class="text-sm">可用于构建对话型AI、客服助手、教学系统等</p>
                                                </div>
                                            </div>

                                            <!-- 能力比喻 -->
                                            <div
                                                class="p-4 bg-white dark:bg-gray-800 rounded-lg border-l-4 border-green-500 dark:border-green-400 mt-3">
                                                <div class="flex items-center mb-2">
                                                    <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                                                    <span class="font-medium">比喻</span>
                                                </div>
                                                <p>GPT就像一位见多识广、能言善辩的通才，虽然不完美，但几乎什么话题都能聊上几句。</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 限制卡片 -->
                                    <div
                                        class="bg-gradient-to-br from-amber-50 to-orange-50 dark:from-gray-700 dark:to-amber-900 rounded-xl p-5 shadow-sm transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]">
                                        <div class="flex items-center mb-4">
                                            <div
                                                class="w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center mr-3">
                                                <i class="fas fa-exclamation-triangle text-white"></i>
                                            </div>
                                            <h4 class="text-xl font-bold text-amber-700 dark:text-amber-300">
                                                限制（Limitations）</h4>
                                        </div>

                                        <div class="space-y-4">
                                            <!-- 限制列表 -->
                                            <div class="flex items-start">
                                                <div
                                                    class="mt-1 w-6 h-6 rounded-full bg-amber-100 dark:bg-amber-800 flex items-center justify-center text-amber-600 dark:text-amber-300 mr-3 flex-shrink-0">
                                                    <i class="fas fa-ghost text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">事实不准确</p>
                                                    <p class="text-sm">有时会"一本正经地胡说八道"（幻觉Hallucination）</p>
                                                </div>
                                            </div>

                                            <div class="flex items-start">
                                                <div
                                                    class="mt-1 w-6 h-6 rounded-full bg-amber-100 dark:bg-amber-800 flex items-center justify-center text-amber-600 dark:text-amber-300 mr-3 flex-shrink-0">
                                                    <i class="fas fa-crop-alt text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">上下文窗口有限</p>
                                                    <p class="text-sm">不能处理过长的输入</p>
                                                </div>
                                            </div>

                                            <div class="flex items-start">
                                                <div
                                                    class="mt-1 w-6 h-6 rounded-full bg-amber-100 dark:bg-amber-800 flex items-center justify-center text-amber-600 dark:text-amber-300 mr-3 flex-shrink-0">
                                                    <i class="fas fa-chart-bar text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">对图表、数字逻辑较弱</p>
                                                    <p class="text-sm">特别是在GPT-3时代更为明显</p>
                                                </div>
                                            </div>

                                            <div class="flex items-start">
                                                <div
                                                    class="mt-1 w-6 h-6 rounded-full bg-amber-100 dark:bg-amber-800 flex items-center justify-center text-amber-600 dark:text-amber-300 mr-3 flex-shrink-0">
                                                    <i class="fas fa-brain text-xs"></i>
                                                </div>
                                                <div>
                                                    <p class="font-medium">不具备"理解"能力</p>
                                                    <p class="text-sm">只是预测最可能出现的词</p>
                                                </div>
                                            </div>

                                            <!-- 限制比喻 -->
                                            <div
                                                class="p-4 bg-white dark:bg-gray-800 rounded-lg border-l-4 border-amber-500 dark:border-amber-400 mt-3">
                                                <div class="flex items-center mb-2">
                                                    <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                                                    <span class="font-medium">比喻</span>
                                                </div>
                                                <p>GPT更像是一个"语言预测引擎"，它并不真正"理解"话题，而是靠庞大的语料库和统计规律来完成预测。</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 能力与限制的可视化对比 -->
                                <div class="mt-8 bg-white dark:bg-gray-700 rounded-lg p-5 shadow-sm" data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i class="fas fa-chart-bar mr-3 text-emerald-500 dark:text-emerald-400"></i>
                                        GPT能力剖析
                                    </h4>

                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- 能力雷达图 -->
                                        <div>
                                            <div class="text-center mb-3">
                                                <span
                                                    class="inline-block px-3 py-1 bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 rounded-full text-sm font-medium">能力雷达图</span>
                                            </div>
                                            <div class="h-64 relative flex justify-center">
                                                <canvas id="gptCapabilityChart" width="100%" height="100%"></canvas>
                                            </div>
                                            <script>
                                                document.addEventListener('DOMContentLoaded', function () {
                                                    const ctx = document.getElementById('gptCapabilityChart').getContext('2d');

                                                    const radarChart = new Chart(ctx, {
                                                        type: 'radar',
                                                        data: {
                                                            labels: [
                                                                '文本生成',
                                                                '语言理解',
                                                                '编程能力',
                                                                '数学逻辑',
                                                                '创意思维',
                                                                '视觉理解'
                                                            ],
                                                            datasets: [{
                                                                label: 'GPT-3',
                                                                data: [85, 80, 70, 60, 75, 30],
                                                                backgroundColor: 'rgba(99, 102, 241, 0.2)',
                                                                borderColor: 'rgba(99, 102, 241, 0.8)',
                                                                pointBackgroundColor: 'rgba(99, 102, 241, 1)',
                                                            }, {
                                                                label: 'GPT-4',
                                                                data: [95, 90, 85, 80, 85, 60],
                                                                backgroundColor: 'rgba(16, 185, 129, 0.2)',
                                                                borderColor: 'rgba(16, 185, 129, 0.8)',
                                                                pointBackgroundColor: 'rgba(16, 185, 129, 1)',
                                                            }]
                                                        },
                                                        options: {
                                                            scales: {
                                                                r: {
                                                                    angleLines: {
                                                                        color: document.documentElement.classList.contains('dark') ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                                                                    },
                                                                    grid: {
                                                                        color: document.documentElement.classList.contains('dark') ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                                                                    },
                                                                    pointLabels: {
                                                                        color: document.documentElement.classList.contains('dark') ? 'rgba(255, 255, 255, 0.7)' : 'rgba(0, 0, 0, 0.7)'
                                                                    },
                                                                    ticks: {
                                                                        backdropColor: 'transparent',
                                                                        color: document.documentElement.classList.contains('dark') ? 'rgba(255, 255, 255, 0.7)' : 'rgba(0, 0, 0, 0.7)'
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    });
                                                });
                                            </script>
                                        </div>

                                        <!-- 能力与限制对比表 -->
                                        <div>
                                            <div class="text-center mb-3">
                                                <span
                                                    class="inline-block px-3 py-1 bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 rounded-full text-sm font-medium">应用场景适用性</span>
                                            </div>
                                            <div class="overflow-x-auto">
                                                <table
                                                    class="min-w-full bg-white dark:bg-gray-800 rounded-lg overflow-hidden">
                                                    <thead class="bg-gray-50 dark:bg-gray-700">
                                                        <tr>
                                                            <th
                                                                class="py-2 px-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                                                应用场景</th>
                                                            <th
                                                                class="py-2 px-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                                                适用性</th>
                                                            <th
                                                                class="py-2 px-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider">
                                                                限制</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                                                        <tr>
                                                            <td class="py-3 px-4 text-sm">内容创作</td>
                                                            <td class="py-3 px-4">
                                                                <div class="flex items-center">
                                                                    <div
                                                                        class="w-16 bg-gray-200 dark:bg-gray-600 rounded-full h-2.5">
                                                                        <div class="bg-green-500 h-2.5 rounded-full"
                                                                            style="width: 90%"></div>
                                                                    </div>
                                                                    <span
                                                                        class="ml-2 text-sm text-gray-600 dark:text-gray-300">极佳</span>
                                                                </div>
                                                            </td>
                                                            <td class="py-3 px-4 text-sm">可能生成不准确信息</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="py-3 px-4 text-sm">代码辅助</td>
                                                            <td class="py-3 px-4">
                                                                <div class="flex items-center">
                                                                    <div
                                                                        class="w-16 bg-gray-200 dark:bg-gray-600 rounded-full h-2.5">
                                                                        <div class="bg-green-500 h-2.5 rounded-full"
                                                                            style="width: 80%"></div>
                                                                    </div>
                                                                    <span
                                                                        class="ml-2 text-sm text-gray-600 dark:text-gray-300">良好</span>
                                                                </div>
                                                            </td>
                                                            <td class="py-3 px-4 text-sm">复杂逻辑理解有限</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="py-3 px-4 text-sm">教育辅导</td>
                                                            <td class="py-3 px-4">
                                                                <div class="flex items-center">
                                                                    <div
                                                                        class="w-16 bg-gray-200 dark:bg-gray-600 rounded-full h-2.5">
                                                                        <div class="bg-green-500 h-2.5 rounded-full"
                                                                            style="width: 85%"></div>
                                                                    </div>
                                                                    <span
                                                                        class="ml-2 text-sm text-gray-600 dark:text-gray-300">良好</span>
                                                                </div>
                                                            </td>
                                                            <td class="py-3 px-4 text-sm">需人工验证事实准确性</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="py-3 px-4 text-sm">数据分析</td>
                                                            <td class="py-3 px-4">
                                                                <div class="flex items-center">
                                                                    <div
                                                                        class="w-16 bg-gray-200 dark:bg-gray-600 rounded-full h-2.5">
                                                                        <div class="bg-yellow-500 h-2.5 rounded-full"
                                                                            style="width: 60%"></div>
                                                                    </div>
                                                                    <span
                                                                        class="ml-2 text-sm text-gray-600 dark:text-gray-300">中等</span>
                                                                </div>
                                                            </td>
                                                            <td class="py-3 px-4 text-sm">数学计算容易出错</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="py-3 px-4 text-sm">图像理解</td>
                                                            <td class="py-3 px-4">
                                                                <div class="flex items-center">
                                                                    <div
                                                                        class="w-16 bg-gray-200 dark:bg-gray-600 rounded-full h-2.5">
                                                                        <div class="bg-red-500 h-2.5 rounded-full"
                                                                            style="width: 40%"></div>
                                                                    </div>
                                                                    <span
                                                                        class="ml-2 text-sm text-gray-600 dark:text-gray-300">有限</span>
                                                                </div>
                                                            </td>
                                                            <td class="py-3 px-4 text-sm">需与视觉模型集成</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 案例分析：GPT成功与失败案例 -->
                                <div class="mt-8 bg-white dark:bg-gray-700 rounded-lg p-5 shadow-sm" data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i
                                            class="fas fa-clipboard-check mr-3 text-emerald-500 dark:text-emerald-400"></i>
                                        案例分析
                                    </h4>

                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- 成功案例 -->
                                        <div
                                            class="bg-gradient-to-br from-emerald-50 to-emerald-50 dark:from-emerald-800 dark:to-emerald-900/30 rounded-lg p-4">
                                            <div class="flex items-center mb-3">
                                                <div
                                                    class="w-8 h-8 rounded-full bg-emerald-100 dark:bg-emerald-800 flex items-center justify-center text-emerald-600 dark:text-emerald-300 mr-3">
                                                    <i class="fas fa-thumbs-up"></i>
                                                </div>
                                                <h5 class="font-bold text-emerald-700 dark:text-emerald-300">
                                                    擅长任务</h5>
                                            </div>

                                            <div class="space-y-3">
                                                <div
                                                    class="bg-white dark:bg-gray-800 rounded-lg p-3 border border-emerald-100 dark:border-emerald-800">
                                                    <div
                                                        class="font-medium text-sm mb-1 text-emerald-600 dark:text-emerald-400">
                                                        文本摘要</div>
                                                    <p class="text-sm">GPT能够从长文本中提取关键信息，生成准确简洁的摘要。</p>
                                                </div>

                                                <div
                                                    class="bg-white dark:bg-gray-800 rounded-lg p-3 border border-emerald-100 dark:border-emerald-800">
                                                    <div
                                                        class="font-medium text-sm mb-1 text-emerald-600 dark:text-emerald-400">
                                                        创意写作</div>
                                                    <p class="text-sm">根据提示生成诗歌、故事、脚本等创意内容，风格多样。</p>
                                                </div>

                                                <div
                                                    class="bg-white dark:bg-gray-800 rounded-lg p-3 border border-emerald-100 dark:border-emerald-800">
                                                    <div
                                                        class="font-medium text-sm mb-1 text-emerald-600 dark:text-emerald-400">
                                                        代码解释与生成</div>
                                                    <p class="text-sm">解释代码功能、生成简单算法、辅助编程调试。</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 失败案例 -->
                                        <div
                                            class="bg-gradient-to-br from-red-50 to-orange-50 dark:from-gray-800 dark:to-red-900/30 rounded-lg p-4">
                                            <div class="flex items-center mb-3">
                                                <div
                                                    class="w-8 h-8 rounded-full bg-red-100 dark:bg-red-800 flex items-center justify-center text-red-600 dark:text-red-300 mr-3">
                                                    <i class="fas fa-thumbs-down"></i>
                                                </div>
                                                <h5 class="font-bold text-red-700 dark:text-red-300">挑战任务
                                                </h5>
                                            </div>

                                            <div class="space-y-3">
                                                <div
                                                    class="bg-white dark:bg-gray-800 rounded-lg p-3 border border-red-100 dark:border-red-800">
                                                    <div
                                                        class="font-medium text-sm mb-1 text-red-600 dark:text-red-400">
                                                        复杂数学推理</div>
                                                    <p class="text-sm">在多步骤数学问题上容易出错，尤其是涉及复杂公式的计算。</p>
                                                </div>

                                                <div
                                                    class="bg-white dark:bg-gray-800 rounded-lg p-3 border border-red-100 dark:border-red-800">
                                                    <div
                                                        class="font-medium text-sm mb-1 text-red-600 dark:text-red-400">
                                                        实时信息</div>
                                                    <p class="text-sm">无法获取训练数据之后的最新信息，对当前事件认知有限。</p>
                                                </div>

                                                <div
                                                    class="bg-white dark:bg-gray-800 rounded-lg p-3 border border-red-100 dark:border-red-800">
                                                    <div
                                                        class="font-medium text-sm mb-1 text-red-600 dark:text-red-400">
                                                        细粒度图像理解</div>
                                                    <p class="text-sm">无法处理或分析图像内容（纯文本模型的限制）。</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 模型能力扩展的未来趋势 -->
                                    <div
                                        class="mt-6 p-4 bg-gradient-to-r from-gray-50 to-gray-50 dark:from-gray-800 dark:to-gray-900/30 rounded-lg">
                                        <div class="flex items-center mb-3">
                                            <div
                                                class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-600 dark:text-gray-300 mr-3">
                                                <i class="fas fa-rocket"></i>
                                            </div>
                                            <h5 class="font-bold text-gray-700 dark:text-gray-300">
                                                未来发展方向</h5>
                                        </div>

                                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm">
                                                <div class="flex items-center mb-2">
                                                    <i class="fas fa-plug text-gray-500 dark:text-gray-400 mr-2"></i>
                                                    <span class="font-medium">工具使用能力</span>
                                                </div>
                                                <p class="text-sm">通过插件与外部工具集成，扩展模型功能边界</p>
                                            </div>

                                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm">
                                                <div class="flex items-center mb-2">
                                                    <i class="fas fa-image text-gray-500 dark:text-gray-400 mr-2"></i>
                                                    <span class="font-medium">多模态能力</span>
                                                </div>
                                                <p class="text-sm">整合文本、图像、音频等多种输入输出模式</p>
                                            </div>

                                            <div class="bg-white dark:bg-gray-800 rounded-lg p-3 shadow-sm">
                                                <div class="flex items-center mb-2">
                                                    <i class="fas fa-memory text-gray-500 dark:text-gray-400 mr-2"></i>
                                                    <span class="font-medium">长上下文理解</span>
                                                </div>
                                                <p class="text-sm">更长的上下文窗口，增强对长文档的理解与处理</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 互动模块：GPT典型错误类型测验 -->
                                <div class="mt-8 bg-white dark:bg-gray-700 rounded-lg p-5 shadow-sm" data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i class="fas fa-puzzle-piece mr-3 text-emerald-500 dark:text-emerald-400"></i>
                                        互动测验：认识GPT的典型错误
                                    </h4>

                                    <p class="mb-4">测试你对GPT模型局限性的理解！尝试判断下面哪些陈述可能来自GPT的"幻觉"。</p>

                                    <div class="space-y-4" id="gptQuizContainer">
                                        <!-- 问题1 -->
                                        <div class="p-4 border border-gray-200 dark:border-gray-600 rounded-lg">
                                            <p class="font-medium mb-2">1. 以下哪个陈述最可能是GPT的"幻觉"？</p>
                                            <div class="space-y-2">
                                                <label
                                                    class="flex items-center p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer">
                                                    <input type="radio" name="q1" value="a" class="mr-2">
                                                    <span>水的化学式是H₂O</span>
                                                </label>
                                                <label
                                                    class="flex items-center p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer">
                                                    <input type="radio" name="q1" value="b" class="mr-2">
                                                    <span>埃菲尔铁塔建于1889年</span>
                                                </label>
                                                <label
                                                    class="flex items-center p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer">
                                                    <input type="radio" name="q1" value="c" class="mr-2">
                                                    <span>论文《深度学习中的注意力限制》由张明和李华发表于2019年</span>
                                                </label>
                                            </div>
                                            <div class="mt-3 hidden answer">
                                                <div class="p-3 bg-green-50 dark:bg-green-900/30 rounded-lg">
                                                    <p class="text-sm"><span class="font-bold">正确答案：C</span>
                                                        - 这篇论文是虚构的，GPT常常会生成看似专业但实际不存在的学术引用。</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 问题2 -->
                                        <div class="p-4 border border-gray-200 dark:border-gray-600 rounded-lg">
                                            <p class="font-medium mb-2">2. GPT在处理以下哪类任务时最可能出错？</p>
                                            <div class="space-y-2">
                                                <label
                                                    class="flex items-center p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer">
                                                    <input type="radio" name="q2" value="a" class="mr-2">
                                                    <span>写一首简单的诗</span>
                                                </label>
                                                <label
                                                    class="flex items-center p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer">
                                                    <input type="radio" name="q2" value="b" class="mr-2">
                                                    <span>解释一个物理概念</span>
                                                </label>
                                                <label
                                                    class="flex items-center p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer">
                                                    <input type="radio" name="q2" value="c" class="mr-2">
                                                    <span>计算一组大数字的精确乘积</span>
                                                </label>
                                            </div>
                                            <div class="mt-3 hidden answer">
                                                <div class="p-3 bg-green-50 dark:bg-green-900/30 rounded-lg">
                                                    <p class="text-sm"><span class="font-bold">正确答案：C</span>
                                                        - GPT不擅长精确的数学计算，尤其是涉及大数字时容易出错。</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 问题3 -->
                                        <div class="p-4 border border-gray-200 dark:border-gray-600 rounded-lg">
                                            <p class="font-medium mb-2">3. 以下关于GPT的说法哪个是错误的？</p>
                                            <div class="space-y-2">
                                                <label
                                                    class="flex items-center p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer">
                                                    <input type="radio" name="q3" value="a" class="mr-2">
                                                    <span>GPT能够理解自己生成的内容的含义</span>
                                                </label>
                                                <label
                                                    class="flex items-center p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer">
                                                    <input type="radio" name="q3" value="b" class="mr-2">
                                                    <span>GPT通过预测下一个词来生成文本</span>
                                                </label>
                                                <label
                                                    class="flex items-center p-2 rounded hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer">
                                                    <input type="radio" name="q3" value="c" class="mr-2">
                                                    <span>GPT可以使用掩码自注意力机制</span>
                                                </label>
                                            </div>
                                            <div class="mt-3 hidden answer">
                                                <div class="p-3 bg-green-50 dark:bg-green-900/30 rounded-lg">
                                                    <p class="text-sm"><span class="font-bold">正确答案：A</span>
                                                        - GPT并不真正"理解"内容，它只是基于统计模式预测词序列，没有真正的理解能力。</p>
                                                </div>
                                            </div>
                                        </div>

                                        <button id="checkAnswersBtn"
                                            class="mt-4 w-full py-2 px-4 bg-emerald-600 hover:bg-emerald-700 text-white font-medium rounded-md shadow-sm transition-colors duration-300">
                                            检查答案
                                        </button>
                                    </div>

                                    <script>
                                        document.addEventListener('DOMContentLoaded', function () {
                                            const checkBtn = document.getElementById('checkAnswersBtn');
                                            if (checkBtn) {
                                                checkBtn.addEventListener('click', function () {
                                                    const answers = document.querySelectorAll('.answer');
                                                    answers.forEach(answer => {
                                                        answer.classList.remove('hidden');
                                                    });

                                                    // 检查答案并高亮
                                                    const correctAnswers = {
                                                        q1: 'c',
                                                        q2: 'c',
                                                        q3: 'a'
                                                    };

                                                    for (const [question, answer] of Object.entries(correctAnswers)) {
                                                        const selectedOption = document.querySelector(`input[name="${question}"]:checked`);
                                                        if (selectedOption) {
                                                            const optionContainer = selectedOption.closest('label');

                                                            if (selectedOption.value === answer) {
                                                                optionContainer.classList.add('bg-green-100');
                                                                optionContainer.classList.add('dark:bg-green-900/30');
                                                            } else {
                                                                optionContainer.classList.add('bg-red-100');
                                                                optionContainer.classList.add('dark:bg-red-900/30');

                                                                // 高亮正确答案
                                                                const correctOption = document.querySelector(`input[name="${question}"][value="${answer}"]`);
                                                                if (correctOption) {
                                                                    const correctContainer = correctOption.closest('label');
                                                                    correctContainer.classList.add('bg-green-100');
                                                                    correctContainer.classList.add('dark:bg-green-900/30');
                                                                }
                                                            }
                                                        }
                                                    }

                                                    this.textContent = '已显示答案';
                                                    this.disabled = true;
                                                });
                                            }
                                        });
                                    </script>
                                </div>
                            </div>
                        </div>

                        <!-- Prompt工程 -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 md:p-8 transform transition duration-300 hover:shadow-lg"
                            data-aos="fade-up">
                            <h3 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                <i class="fas fa-magic mr-3 text-emerald-500 dark:text-emerald-400"></i>
                                Prompt工程
                            </h3>
                            <div class="text-gray-600 dark:text-gray-300 space-y-5">
                                <p>Prompt是与GPT对话的"咒语"，掌握Prompt工程技巧是有效利用大语言模型的关键。</p>

                                <!-- 什么是Prompt工程 - 可视化说明 -->
                                <div class="bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-gray-800 dark:to-emerald-900/20 p-5 rounded-xl shadow-sm"
                                    data-aos="fade-up">
                                    <div class="flex flex-col md:flex-row items-center gap-6">
                                        <div class="md:w-1/3 flex justify-center">
                                            <div class="relative w-48 h-48">
                                                <!-- 魔法师/咒语视觉隐喻 -->
                                                <div
                                                    class="absolute inset-0 flex items-center justify-center bg-emerald-100 dark:bg-emerald-900/50 rounded-full animate-pulse-slow">
                                                    <i
                                                        class="fas fa-hat-wizard text-6xl text-emerald-600 dark:text-emerald-400"></i>
                                                </div>
                                                <div
                                                    class="absolute -top-2 -right-2 w-12 h-12 bg-teal-100 dark:bg-teal-900/80 rounded-full flex items-center justify-center">
                                                    <i
                                                        class="fas fa-bolt text-2xl text-teal-500 dark:text-teal-400"></i>
                                                </div>
                                                <div
                                                    class="absolute -bottom-2 -left-2 w-10 h-10 bg-green-100 dark:bg-green-900/80 rounded-full flex items-center justify-center">
                                                    <i
                                                        class="fas fa-wand-sparkles text-xl text-green-600 dark:text-green-400"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="md:w-2/3">
                                            <h4 class="text-xl font-bold mb-3 text-emerald-700 dark:text-emerald-300">
                                                Prompt工程的本质</h4>
                                            <p class="mb-3">Prompt工程是与大语言模型交互的核心技术，它的本质是：用自然语言设计输入，以引导模型输出你想要的内容。</p>
                                            <div
                                                class="p-3 bg-white dark:bg-gray-700 rounded-lg border-l-4 border-emerald-500 dark:border-emerald-400 mt-3">
                                                <div class="flex items-center mb-2">
                                                    <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                                                    <span class="font-medium">比喻</span>
                                                </div>
                                                <p>想象你是一位魔法师，Prompt就是你的"咒语"。你咏得清晰、精准，AI就会施展出你想要的魔法。</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 核心技巧卡片组 -->
                                <div class="mt-6">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i class="fas fa-key mr-2 text-emerald-500 dark:text-emerald-400"></i>
                                        核心技巧
                                    </h4>

                                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                        <!-- 技巧卡片1 -->
                                        <div
                                            class="bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 shadow-sm hover:shadow-md transition-all duration-300 hover:translate-y-[-2px]">
                                            <div
                                                class="w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center mb-3">
                                                <i class="fas fa-bullseye text-blue-600 dark:text-blue-400"></i>
                                            </div>
                                            <h5 class="font-bold text-gray-900 dark:text-white mb-2">明确具体任务</h5>
                                            <p class="text-sm">任务描述越清晰具体，模型回应越准确</p>
                                            <div class="mt-3 space-y-2">
                                                <div class="p-2 bg-red-50 dark:bg-red-900/20 rounded-md text-xs">
                                                    <i class="fas fa-times-circle text-red-500 mr-1"></i>
                                                    <span class="text-red-600 dark:text-red-400">模糊：请帮我写个报告</span>
                                                </div>
                                                <div class="p-2 bg-green-50 dark:bg-green-900/20 rounded-md text-xs">
                                                    <i class="fas fa-check-circle text-green-500 mr-1"></i>
                                                    <span
                                                        class="text-green-600 dark:text-green-400">清晰：请写一份关于中国新能源汽车发展趋势的市场研究报告，1500字，包含图表说明</span>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 技巧卡片2 -->
                                        <div
                                            class="bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 shadow-sm hover:shadow-md transition-all duration-300 hover:translate-y-[-2px]">
                                            <div
                                                class="w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center mb-3">
                                                <i class="fas fa-clipboard-list text-green-600 dark:text-green-400"></i>
                                            </div>
                                            <h5 class="font-bold text-gray-900 dark:text-white mb-2">加示例 (Few-shot)</h5>
                                            <p class="text-sm">通过实例展示期望的格式和风格</p>
                                            <div
                                                class="mt-3 p-2 bg-gray-50 dark:bg-gray-800 rounded-md text-xs font-mono">
                                                问题: 苹果的营养价值?<br>
                                                回答: 苹果富含维生素C和膳食纤维...<br><br>
                                                问题: 橙子的功效?<br>
                                                回答: [模型将遵循类似格式回答]
                                            </div>
                                        </div>

                                        <!-- 技巧卡片3 -->
                                        <div
                                            class="bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 shadow-sm hover:shadow-md transition-all duration-300 hover:translate-y-[-2px]">
                                            <div
                                                class="w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mb-3">
                                                <i class="fas fa-sitemap text-purple-600 dark:text-purple-400"></i>
                                            </div>
                                            <h5 class="font-bold text-gray-900 dark:text-white mb-2">引导思路</h5>
                                            <p class="text-sm">指导模型按步骤思考或分条罗列结果</p>
                                            <div class="mt-3 p-2 bg-gray-50 dark:bg-gray-800 rounded-md text-xs">
                                                "请先分析问题本质，然后列出可能的解决方案，最后给出最佳建议。每一步请用标题标明。"
                                            </div>
                                        </div>

                                        <!-- 技巧卡片4 -->
                                        <div
                                            class="bg-white dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600 shadow-sm hover:shadow-md transition-all duration-300 hover:translate-y-[-2px]">
                                            <div
                                                class="w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center mb-3">
                                                <i class="fas fa-theater-masks text-amber-600 dark:text-amber-400"></i>
                                            </div>
                                            <h5 class="font-bold text-gray-900 dark:text-white mb-2">角色扮演</h5>
                                            <p class="text-sm">设定身份以获得特定专业领域的回应</p>
                                            <div class="mt-3 p-2 bg-gray-50 dark:bg-gray-800 rounded-md text-xs">
                                                "你是一位拥有20年经验的金融分析师，请评估这家公司的财务状况..."
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Prompt类型可视化对比 -->
                                <div class="mt-8 bg-white dark:bg-gray-700 rounded-lg p-5 shadow-sm" data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i class="fas fa-layer-group mr-2 text-emerald-500 dark:text-emerald-400"></i>
                                        Prompt类型分类
                                    </h4>

                                    <div class="relative">
                                        <!-- 卡片容器，使用scroll-snap确保每个卡片与视窗对齐 -->
                                        <div class="flex snap-x snap-mandatory overflow-x-auto" id="cardsContainer">
                                            <!-- Zero-shot Prompt 卡片 -->
                                            <div
                                                class="min-w-full bg-gradient-to-b from-green-50 to-green-100 dark:from-gray-800 dark:to-green-900/20 rounded-lg p-6 shadow-sm flex-shrink-0 snap-start">
                                                <div class="flex items-center mb-4">
                                                    <div
                                                        class="w-8 h-8 rounded-full bg-green-200 dark:bg-green-800 flex items-center justify-center mr-2">
                                                        <span
                                                            class="font-bold text-green-700 dark:text-green-300">0</span>
                                                    </div>
                                                    <h5 class="font-bold  text-green-700 dark:text-green-300">Zero-shot
                                                        Prompt</h5>
                                                </div>
                                                <p class="text-sm mb-3">直接描述任务，不提供任何例子。</p>
                                                <div
                                                    class="bg-white dark:bg-gray-800 p-3 rounded-md text-xs font-mono mb-4 shadow-inner">
                                                    请将下面的英文句子翻译成中文：<br>
                                                    I am learning to use large language models.
                                                </div>

                                                <!-- 互动选择题 -->
                                                <div class="mt-4">
                                                    <p class="font-medium text-gray-700 dark:text-gray-300">选择正确的翻译：</p>
                                                    <div class="flex space-x-4 mt-2">
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question1" value="A" class="mr-2"
                                                                data-correct="true"> 我正在学习使用大型语言模型。
                                                        </label>
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question1" value="B" class="mr-2"
                                                                data-correct="false"> 我在阅读大语言模型的书。
                                                        </label>
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question1" value="C" class="mr-2"
                                                                data-correct="false"> 我喜欢大型语言模型。
                                                        </label>
                                                    </div>
                                                </div>

                                                <!-- 答案显示 -->
                                                <div class="mt-4 hidden" id="answer1">
                                                    <p class="font-bold text-green-600">正确答案：我正在学习使用大型语言模型。</p>
                                                </div>
                                            </div>

                                            <!-- One-shot Prompt 卡片 -->
                                            <div
                                                class="min-w-full bg-gradient-to-b from-blue-50 to-blue-100 dark:from-gray-800 dark:to-blue-900/20 rounded-lg p-6 shadow-sm flex-shrink-0 snap-start">
                                                <div class="flex items-center mb-4">
                                                    <div
                                                        class="w-8 h-8 rounded-full bg-blue-200 dark:bg-blue-800 flex items-center justify-center mr-2">
                                                        <span
                                                            class="font-bold text-blue-700 dark:text-blue-300">1</span>
                                                    </div>
                                                    <h5 class="font-bold text-blue-700 dark:text-blue-300">One-shot
                                                        Prompt</h5>
                                                </div>
                                                <p class="text-sm mb-3">提供一个明确的例子，指导模型如何完成任务。</p>
                                                <div
                                                    class="bg-white dark:bg-gray-800 p-3 rounded-md text-xs font-mono mb-4 shadow-inner">
                                                    英文：I love you.<br>
                                                    中文：我爱你。<br><br>
                                                    英文：You are amazing.<br>
                                                    中文：
                                                </div>

                                                <!-- 互动选择题 -->
                                                <div class="mt-4">
                                                    <p class="font-medium text-gray-700 dark:text-gray-300">选择正确的翻译：</p>
                                                    <div class="flex space-x-4 mt-2">
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question2" value="A" class="mr-2"
                                                                data-correct="true"> 你是令人惊叹的。
                                                        </label>
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question2" value="B" class="mr-2"
                                                                data-correct="false"> 你是很棒的。
                                                        </label>
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question2" value="C" class="mr-2"
                                                                data-correct="false"> 你很美。
                                                        </label>
                                                    </div>
                                                </div>

                                                <!-- 答案显示 -->
                                                <div class="mt-4 hidden" id="answer2">
                                                    <p class="font-bold text-green-600">正确答案：你是令人惊叹的。</p>
                                                </div>
                                            </div>

                                            <!-- Few-shot Prompt 卡片 -->
                                            <div
                                                class="min-w-full bg-gradient-to-b from-purple-50 to-purple-100 dark:from-gray-800 dark:to-purple-900/20 rounded-lg p-6 shadow-sm flex-shrink-0 snap-start">
                                                <div class="flex items-center mb-4">
                                                    <div
                                                        class="w-8 h-8 rounded-full bg-purple-200 dark:bg-purple-800 flex items-center justify-center mr-2">
                                                        <span
                                                            class="font-bold text-purple-700 dark:text-purple-300">n</span>
                                                    </div>
                                                    <h5 class="font-bold text-purple-700 dark:text-purple-300">Few-shot
                                                        Prompt</h5>
                                                </div>
                                                <p class="text-sm mb-3">提供多个例子，引导模型学习任务模式。</p>
                                                <div
                                                    class="bg-white dark:bg-gray-800 p-3 rounded-md text-xs font-mono mb-4 shadow-inner">
                                                    英文：Good morning.<br>
                                                    中文：早上好。<br><br>
                                                    英文：Thank you very much.<br>
                                                    中文：非常感谢。<br><br>
                                                    英文：Where is the restroom?<br>
                                                    中文：
                                                </div>

                                                <!-- 互动选择题 -->
                                                <div class="mt-4">
                                                    <p class="font-medium text-gray-700 dark:text-gray-300">选择正确的翻译：</p>
                                                    <div class="flex space-x-4 mt-2">
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question3" value="A" class="mr-2"
                                                                data-correct="true"> 早上好。
                                                        </label>
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question3" value="B" class="mr-2"
                                                                data-correct="false"> 你好吗？
                                                        </label>
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question3" value="C" class="mr-2"
                                                                data-correct="false"> 你是我的朋友。
                                                        </label>
                                                    </div>
                                                </div>

                                                <!-- 答案显示 -->
                                                <div class="mt-4 hidden" id="answer3">
                                                    <p class="font-bold text-green-600">正确答案：早上好。</p>
                                                </div>
                                            </div>

                                            <!-- Chain-of-Thought Prompt 卡片 -->
                                            <div
                                                class="min-w-full bg-gradient-to-b from-amber-50 to-amber-100 dark:from-gray-800 dark:to-amber-900/20 rounded-lg p-6 shadow-sm flex-shrink-0 snap-start">
                                                <div class="flex items-center mb-4">
                                                    <div
                                                        class="w-8 h-8 rounded-full bg-amber-200 dark:bg-amber-800 flex items-center justify-center mr-2">
                                                        <i
                                                            class="fas fa-brain text-amber-700 dark:text-amber-300 text-xs"></i>
                                                    </div>
                                                    <h5 class="font-bold text-amber-700 dark:text-amber-300">
                                                        Chain-of-Thought</h5>
                                                </div>
                                                <p class="text-sm mb-3">引导模型逐步推理，尤其适用于数学、逻辑问题。</p>
                                                <div
                                                    class="bg-white dark:bg-gray-800 p-3 rounded-md text-xs font-mono mb-4 shadow-inner">
                                                    问题：一辆汽车以每小时60公里的速度行驶，行驶了2小时。它行驶了多少公里？<br>
                                                    请一步步思考并给出答案。
                                                </div>

                                                <!-- 互动选择题 -->
                                                <div class="mt-4">
                                                    <p class="font-medium text-gray-700 dark:text-gray-300">选择正确的答案：</p>
                                                    <div class="flex space-x-4 mt-2">
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question4" value="A" class="mr-2"
                                                                data-correct="true"> 120公里
                                                        </label>
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question4" value="B" class="mr-2"
                                                                data-correct="false"> 100公里
                                                        </label>
                                                        <label class="bg-gray-200 dark:bg-gray-700 p-2 rounded-md">
                                                            <input type="radio" name="question4" value="C" class="mr-2"
                                                                data-correct="false"> 80公里
                                                        </label>
                                                    </div>
                                                </div>

                                                <!-- 答案显示 -->
                                                <div class="mt-4 hidden" id="answer4">
                                                    <p class="font-bold text-green-600">正确答案：120公里。</p>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 滑动指示器 -->
                                        <div
                                            class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-1">
                                            <div class="w-10 h-1 bg-emerald-500 rounded-full" data-indicator="0"></div>
                                            <div class="w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"
                                                data-indicator="1"></div>
                                            <div class="w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"
                                                data-indicator="2"></div>
                                            <div class="w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"
                                                data-indicator="3"></div>
                                        </div>
                                    </div>

                                    <p class="text-center text-xs text-gray-500 dark:text-gray-400 mt-2">滑动查看更多类型</p>
                                </div>


                                <!-- 实用技巧与最佳实践 -->
                                <div class="mt-8 bg-white dark:bg-gray-700 rounded-lg p-5 shadow-sm" data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i class="fas fa-tools mr-2 text-emerald-500 dark:text-emerald-400"></i>
                                        实用技巧 (Best Practices)
                                    </h4>

                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- 左侧列 -->
                                        <div class="space-y-4">
                                            <!-- 技巧1 -->
                                            <div
                                                class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                                <div class="flex items-start mb-2">
                                                    <div
                                                        class="w-7 h-7 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-400 mr-3 flex-shrink-0">
                                                        <i class="fas fa-check"></i>
                                                    </div>
                                                    <h5 class="font-bold text-gray-900 dark:text-white">清晰说明任务</h5>
                                                </div>
                                                <div class="ml-10 space-y-2">
                                                    <div class="p-2 bg-red-50 dark:bg-red-900/20 rounded-md text-xs">
                                                        <span class="text-red-600 dark:text-red-400">❌ 模糊：帮我写个介绍</span>
                                                    </div>
                                                    <div
                                                        class="p-2 bg-green-50 dark:bg-green-900/20 rounded-md text-xs">
                                                        <span class="text-green-600 dark:text-green-400">✅
                                                            明确：请用100字介绍一款面向青少年用户的英语学习App，语气轻松、有趣。</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 技巧2 -->
                                            <div
                                                class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                                <div class="flex items-start mb-2">
                                                    <div
                                                        class="w-7 h-7 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-400 mr-3 flex-shrink-0">
                                                        <i class="fas fa-check"></i>
                                                    </div>
                                                    <h5 class="font-bold text-gray-900 dark:text-white">指定格式或风格</h5>
                                                </div>
                                                <div class="ml-10">
                                                    <div class="p-3 bg-gray-50 dark:bg-gray-900 rounded-md text-xs">
                                                        <code class="text-emerald-600 dark:text-emerald-400 font-mono">请以Markdown格式输出内容，包含如下结构：<br>
                                            - 标题<br>
                                            - 简介<br>
                                            - 主要内容（分条）<br>
                                            - 总结</code>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 技巧3 -->
                                            <div
                                                class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                                <div class="flex items-start mb-2">
                                                    <div
                                                        class="w-7 h-7 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-400 mr-3 flex-shrink-0">
                                                        <i class="fas fa-check"></i>
                                                    </div>
                                                    <h5 class="font-bold text-gray-900 dark:text-white">限制语气/角色/输出方式
                                                    </h5>
                                                </div>
                                                <div class="ml-10 space-y-2">
                                                    <div class="p-3 bg-gray-50 dark:bg-gray-900 rounded-md text-xs">
                                                        <code
                                                            class="text-emerald-600 dark:text-emerald-400 font-mono">你现在是一位简历导师。请用HR喜欢的语气，重写这段经历。</code>
                                                    </div>
                                                    <div class="p-3 bg-gray-50 dark:bg-gray-900 rounded-md text-xs">
                                                        <code
                                                            class="text-emerald-600 dark:text-emerald-400 font-mono">你是一位中小学科学老师，请用10岁小朋友能听懂的语言解释"重力"是什么。</code>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 右侧列 -->
                                        <div class="space-y-4">
                                            <!-- 技巧4 -->
                                            <div
                                                class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                                <div class="flex items-start mb-2">
                                                    <div
                                                        class="w-7 h-7 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-400 mr-3 flex-shrink-0">
                                                        <i class="fas fa-check"></i>
                                                    </div>
                                                    <h5 class="font-bold text-gray-900 dark:text-white">嵌入上下文</h5>
                                                </div>
                                                <div class="ml-10">
                                                    <div class="p-3 bg-gray-50 dark:bg-gray-900 rounded-md text-xs">
                                                        <code class="text-emerald-600 dark:text-emerald-400 font-mono">以下是产品原型说明，请基于这些信息撰写一段用户使用流程描述：<br>
                                            （接上下文文本）</code>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 技巧5 -->
                                            <div
                                                class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                                <div class="flex items-start mb-2">
                                                    <div
                                                        class="w-7 h-7 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-400 mr-3 flex-shrink-0">
                                                        <i class="fas fa-check"></i>
                                                    </div>
                                                    <h5 class="font-bold text-gray-900 dark:text-white">提示模型先"思考"，再"输出"
                                                    </h5>
                                                </div>
                                                <div class="ml-10">
                                                    <div class="p-3 bg-gray-50 dark:bg-gray-900 rounded-md text-xs">
                                                        <code
                                                            class="text-emerald-600 dark:text-emerald-400 font-mono">请先分析用户需求，再列出可行的解决方案，最后总结推荐策略。</code>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 技巧6 -->
                                            <div
                                                class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600">
                                                <div class="flex items-start mb-2">
                                                    <div
                                                        class="w-7 h-7 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-600 dark:text-green-400 mr-3 flex-shrink-0">
                                                        <i class="fas fa-check"></i>
                                                    </div>
                                                    <h5 class="font-bold text-gray-900 dark:text-white">引导结构化输出</h5>
                                                </div>
                                                <div class="ml-10">
                                                    <div class="p-3 bg-gray-50 dark:bg-gray-900 rounded-md text-xs">
                                                        <code
                                                            class="text-emerald-600 dark:text-emerald-400 font-mono">请将以下文本总结成JSON格式，字段包括："事件"、"时间"、"影响"、"建议"。</code>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- 技巧总结 -->
                                            <div
                                                class="bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-900/20 dark:to-blue-900/20 p-4 rounded-lg">
                                                <div class="flex items-center mb-2">
                                                    <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                                                    <h5 class="font-bold text-gray-900 dark:text-white">Prompt工程口诀</h5>
                                                </div>
                                                <p
                                                    class="text-center italic font-medium text-emerald-700 dark:text-emerald-300 p-2 bg-white dark:bg-gray-800 rounded-md">
                                                    "任务清、例子全，格式准、角色明；<br>
                                                    结构化、思路链，引导模型出精品。"
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Prompt工程常见误区 -->
                                <div class="mt-8 bg-white dark:bg-gray-700 rounded-lg p-5 shadow-sm" data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i
                                            class="fas fa-exclamation-triangle mr-2 text-amber-500 dark:text-amber-400"></i>
                                        常见误区
                                    </h4>

                                    <div class="relative overflow-x-auto rounded-lg shadow-sm">
                                        <table class="w-full text-sm text-left">
                                            <thead
                                                class="text-xs text-gray-700 dark:text-gray-300 uppercase bg-gray-100 dark:bg-gray-800">
                                                <tr>
                                                    <th scope="col" class="px-6 py-3">误区</th>
                                                    <th scope="col" class="px-6 py-3">原因说明</th>
                                                    <th scope="col" class="px-6 py-3">解决方案</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr
                                                    class="bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700">
                                                    <td class="px-6 py-4 font-medium">直接让模型做任务</td>
                                                    <td class="px-6 py-4">模型不知道你想要的格式或重点</td>
                                                    <td class="px-6 py-4">提供明确的指令和期望输出格式</td>
                                                </tr>
                                                <tr
                                                    class="bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
                                                    <td class="px-6 py-4 font-medium">指令太短或太泛泛</td>
                                                    <td class="px-6 py-4">容易导致输出无关、太泛</td>
                                                    <td class="px-6 py-4">使用详细具体的指令，说明期望长度</td>
                                                </tr>
                                                <tr
                                                    class="bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700">
                                                    <td class="px-6 py-4 font-medium">没设定角色或身份</td>
                                                    <td class="px-6 py-4">模型无法模仿语气或知识背景</td>
                                                    <td class="px-6 py-4">明确设定模型应扮演的角色</td>
                                                </tr>
                                                <tr
                                                    class="bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
                                                    <td class="px-6 py-4 font-medium">不限制输出范围</td>
                                                    <td class="px-6 py-4">输出可能太长、太短或偏离任务</td>
                                                    <td class="px-6 py-4">明确指定字数、段落数或格式要求</td>
                                                </tr>
                                                <tr class="bg-white dark:bg-gray-900">
                                                    <td class="px-6 py-4 font-medium">多任务混写</td>
                                                    <td class="px-6 py-4">容易导致模型混淆目标，输出变乱</td>
                                                    <td class="px-6 py-4">拆分为多个小任务，逐步引导</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <!-- 互动练习：Prompt优化器 -->
                                <div class="mt-8 bg-white dark:bg-gray-700 rounded-lg p-5 shadow-sm" data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i
                                            class="fas fa-graduation-cap mr-2 text-emerald-500 dark:text-emerald-400"></i>
                                        互动练习：Prompt优化器
                                    </h4>

                                    <p class="mb-4">尝试将左侧基础Prompt优化为右侧更高效的版本。拖动滑块查看变化。</p>

                                    <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg shadow-inner">
                                        <div class="mb-4">
                                            <label for="promptSlider"
                                                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">优化级别：<span
                                                    id="optimizeValue">基础</span></label>
                                            <input type="range" id="promptSlider" min="1" max="3" step="1" value="1"
                                                class="w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer">
                                            <div
                                                class="flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1">
                                                <span>基础</span>
                                                <span>进阶</span>
                                                <span>专业</span>
                                            </div>
                                        </div>

                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <!-- 基础Prompt -->
                                            <div class="p-4 bg-red-50 dark:bg-red-900/20 rounded-lg shadow-inner">
                                                <h5
                                                    class="font-medium text-red-700 dark:text-red-400 mb-2 flex items-center">
                                                    <i class="fas fa-level-down-alt mr-2"></i>
                                                    基础Prompt
                                                </h5>
                                                <div id="basicPrompt"
                                                    class="font-mono text-sm bg-white dark:bg-gray-900 p-3 rounded-md">
                                                    写一篇关于人工智能的文章
                                                </div>
                                            </div>

                                            <!-- 优化后Prompt -->
                                            <div class="p-4 bg-green-50 dark:bg-green-900/20 rounded-lg shadow-inner">
                                                <h5
                                                    class="font-medium text-green-700 dark:text-green-400 mb-2 flex items-center">
                                                    <i class="fas fa-level-up-alt mr-2"></i>
                                                    优化后Prompt
                                                </h5>
                                                <div id="optimizedPrompt"
                                                    class="font-mono text-sm bg-white dark:bg-gray-900 p-3 rounded-md">
                                                    请撰写一篇1000字的人工智能发展现状分析文章，重点讨论大语言模型的应用与挑战。包含以下内容：1）发展背景，2）主要技术突破，3）行业应用，4）伦理考量。使用客观专业的语气。请在文章最后总结未来三年可能的发展趋势。
                                                </div>
                                            </div>
                                        </div>

                                        <div class="mt-4 p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg">
                                            <h5
                                                class="font-medium text-emerald-700 dark:text-emerald-400 mb-2 flex items-center">
                                                <i class="fas fa-lightbulb mr-2"></i>
                                                优化要点
                                            </h5>
                                            <ul id="optimizationPoints" class="list-disc list-inside text-sm">
                                                <li>指定文章长度（1000字）</li>
                                                <li>明确主题范围（大语言模型的应用与挑战）</li>
                                                <li>提供内容结构（发展背景、技术突破、应用、伦理）</li>
                                                <li>设定语气风格（客观专业）</li>
                                                <li>要求特定总结（未来三年发展趋势）</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <!-- Prompt工程资源链接 -->
                                <div class="mt-8 bg-white dark:bg-gray-700 rounded-lg p-5 shadow-sm" data-aos="fade-up">
                                    <h4 class="text-xl font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                                        <i class="fas fa-book mr-2 text-emerald-500 dark:text-emerald-400"></i>
                                        学习资源
                                    </h4>

                                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                                        <!-- 资源卡片1 -->
                                        <a href="https://www.promptingguide.ai/zh" target="_blank"
                                            class="block bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4 hover:shadow-md transition-all duration-300">
                                            <div class="flex items-center mb-3">
                                                <div
                                                    class="w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center mr-3">
                                                    <i class="fas fa-file-alt text-blue-600 dark:text-blue-400"></i>
                                                </div>
                                                <h5 class="font-bold text-gray-900 dark:text-white">Prompt工程指南</h5>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-300">
                                                全面的入门指南，包含从基础技巧到高级策略的详细说明
                                            </p>
                                        </a>

                                        <!-- 资源卡片2 -->
                                        <a href="https://www.promptlayer.com/" target="_blank"
                                            class="block bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4 hover:shadow-md transition-all duration-300">
                                            <div class="flex items-center mb-3">
                                                <div
                                                    class="w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/50 flex items-center justify-center mr-3">
                                                    <i class="fas fa-code text-green-600 dark:text-green-400"></i>
                                                </div>
                                                <h5 class="font-bold text-gray-900 dark:text-white">Prompt模板库</h5>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-300">
                                                管理各种场景的高效Prompt模板</p>
                                        </a>

                                        <!-- 资源卡片3 -->
                                        <a href="https://chat.sankuai.com/assistant/chat" target="_blank"
                                            class="block bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4 hover:shadow-md transition-all duration-300">
                                            <div class="flex items-center mb-3">
                                                <div
                                                    class="w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/50 flex items-center justify-center mr-3">
                                                    <i
                                                        class="fas fa-laptop-code text-purple-600 dark:text-purple-400"></i>
                                                </div>
                                                <h5 class="font-bold text-gray-900 dark:text-white">交互式练习</h5>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-300">
                                                通过实战练习提升Prompt编写能力，快来和AI对话吧</p>
                                        </a>

                                        <!-- 资源卡片4 -->
                                        <a href="https://github.com/f/awesome-chatgpt-prompts" target="_blank"
                                            class="block bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600 p-4 hover:shadow-md transition-all duration-300">
                                            <div class="flex items-center mb-3">
                                                <div
                                                    class="w-10 h-10 rounded-lg bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center mr-3">
                                                    <i class="fas fa-users text-amber-600 dark:text-amber-400"></i>
                                                </div>
                                                <h5 class="font-bold text-gray-900 dark:text-white">社区案例分享</h5>
                                            </div>
                                            <p class="text-sm text-gray-600 dark:text-gray-300">
                                                用户分享的创意Prompt案例，展示各领域实际应用效果
                                            </p>
                                        </a>
                                    </div>

                                    <div class="mt-4 p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg text-center">
                                        <p class="text-sm text-gray-700 dark:text-gray-300">
                                            不断学习和实践是掌握Prompt工程的关键。尝试不同方法，记录效果，持续优化。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-white dark:bg-secondary-800 border-t border-secondary-200 dark:border-secondary-700 pt-12 pb-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-10 mb-10">
                <div>
                    <div class="flex items-center space-x-3 mb-6">
                        <div
                            class="w-10 h-10 flex items-center justify-center bg-gradient-to-br from-primary-500 to-accent-500 text-white rounded-lg shadow-md">
                            <i class="fas fa-brain text-xl"></i>
                        </div>
                        <span class="text-xl font-bold">神经网络与GPT教学</span>
                    </div>
                    <p class="text-secondary-600 dark:text-secondary-300 leading-relaxed">
                        本教学网站旨在帮助学习者理解神经网络、Transformer和GPT的基本原理和工作机制，通过可视化和互动示例，让复杂的概念变得易于理解。
                    </p>
                </div>

                <div>
                    <h3 class="text-lg font-bold mb-6">内容导航</h3>
                    <ul class="space-y-3">
                        <li>
                            <a href="#neural-networks"
                                class="text-secondary-600 hover:text-primary-600 dark:text-secondary-300 dark:hover:text-primary-400 transition-colors duration-200">
                                <i class="fas fa-angle-right mr-2 text-primary-500"></i>神经网络
                            </a>
                        </li>
                        <li>
                            <a href="#transformers"
                                class="text-secondary-600 hover:text-primary-600 dark:text-secondary-300 dark:hover:text-primary-400 transition-colors duration-200">
                                <i class="fas fa-angle-right mr-2 text-primary-500"></i>Transformer
                            </a>
                        </li>
                        <li>
                            <a href="#gpt"
                                class="text-secondary-600 hover:text-primary-600 dark:text-secondary-300 dark:hover:text-primary-400 transition-colors duration-200">
                                <i class="fas fa-angle-right mr-2 text-primary-500"></i>GPT
                            </a>
                        </li>
                    </ul>
                </div>

                <div>
                    <h3 class="text-lg font-bold mb-6">关于作者</h3>
                    <div
                        class="bg-secondary-50 dark:bg-secondary-800/70 p-4 rounded-lg border border-secondary-200 dark:border-secondary-700">
                        <div class="flex items-center gap-4 mb-3">
                            <div
                                class="w-12 h-12 bg-primary-100 dark:bg-primary-900/50 rounded-full flex items-center justify-center text-primary-600 dark:text-primary-400 text-xl">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-secondary-900 dark:text-white">Sunny</h4>
                                <p class="text-sm text-secondary-500 dark:text-secondary-400">美团医药健康-赋能终端组</p>
                            </div>
                        </div>
                        <p class="text-secondary-600 dark:text-secondary-300 text-sm">
                            致力于将复杂的人工智能概念转化为通俗易懂的教学内容，帮助更多同学了解和应用AI技术。
                        </p>
                    </div>
                </div>
            </div>

            <div
                class="pt-8 border-t border-secondary-200 dark:border-secondary-700 flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p class="text-secondary-600 dark:text-secondary-400">© 2025 <span class="font-medium">Sunny</span>.
                        保留所有权利。</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 初始化AOS动画库
            AOS.init({
                duration: 800,
                once: true,
                offset: 50
            });

            // 初始化变量和元素
            const themeToggle = document.getElementById('theme-toggle');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const sectionContents = document.querySelectorAll('.section-content');
            const htmlElement = document.documentElement;

            // 神经网络演示画布
            const nnCanvas = document.getElementById('neural-network-canvas');
            const inputNodesSlider = document.getElementById('input-nodes');
            const hiddenLayersSlider = document.getElementById('hidden-layers');
            const hiddenNodesSlider = document.getElementById('hidden-nodes');
            const outputNodesSlider = document.getElementById('output-nodes');

            // 神经网络推荐
            const dataTypeSelect = document.getElementById('data-type');
            const taskTypeSelect = document.getElementById('task-type');
            const recommendButton = document.getElementById('recommend-nn');
            const recommendationDiv = document.getElementById('nn-recommendation');
            const recommendedTitle = document.getElementById('recommended-nn-title');
            const recommendedDesc = document.getElementById('recommended-nn-desc');
            const recommendedImg = document.getElementById('recommended-nn-img');

            // 检查用户首选主题
            function initTheme() {
                // 检查本地存储中的主题偏好
                const savedTheme = localStorage.getItem('theme');

                // 如果有保存的主题设置则使用，否则使用系统偏好
                if (savedTheme === 'dark') {
                    htmlElement.classList.add('dark');
                } else if (savedTheme === 'light') {
                    htmlElement.classList.remove('dark');
                } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    htmlElement.classList.add('dark');
                }
            }

            // 切换主题
            function toggleTheme() {
                if (htmlElement.classList.contains('dark')) {
                    htmlElement.classList.remove('dark');
                    localStorage.setItem('theme', 'light');
                } else {
                    htmlElement.classList.add('dark');
                    localStorage.setItem('theme', 'dark');
                }
            }

            // 移动端菜单切换
            function toggleMobileMenu() {
                mobileMenu.classList.toggle('hidden');
            }

            // 当元素进入视口时添加动画
            function handleIntersection(entries, observer) {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target); // 只触发一次
                    }
                });
            }

            // 图片加载处理
            function handleImageLoad() {
                const images = document.querySelectorAll('img');
                images.forEach(img => {
                    // 如果图片已加载完成，添加loaded类
                    if (img.complete) {
                        img.classList.add('loaded');
                    } else {
                        // 否则等待加载完成
                        img.addEventListener('load', function () {
                            img.classList.add('loaded');
                        });
                    }
                });
            }

            // 平滑滚动到指定锚点
            function setupSmoothScrolling() {
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();

                        // 隐藏移动端菜单
                        if (!mobileMenu.classList.contains('hidden')) {
                            mobileMenu.classList.add('hidden');
                        }

                        const targetId = this.getAttribute('href');
                        if (targetId === '#') return;

                        const targetElement = document.querySelector(targetId);
                        if (targetElement) {
                            targetElement.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    });
                });
            }

            // 神经网络可视化
            function drawNeuralNetwork() {
                if (!nnCanvas) return;

                const ctx = nnCanvas.getContext('2d');
                const width = nnCanvas.width;
                const height = nnCanvas.height;

                // 获取值
                const inputNodes = parseInt(inputNodesSlider.value);
                const hiddenLayers = parseInt(hiddenLayersSlider.value);
                const hiddenNodes = parseInt(hiddenNodesSlider.value);
                const outputNodes = parseInt(outputNodesSlider.value);

                // 清空画布
                ctx.clearRect(0, 0, width, height);

                // 设置节点大小和间距
                const nodeRadius = 12;
                const layerSpacing = width / (hiddenLayers + 3); // +3 for input, output, and margins

                // 设置颜色
                const inputColor = '#38bdf8';
                const hiddenColor = '#6366f1';
                const outputColor = '#d946ef';
                const edgeColor = '#94a3b8';
                const isDarkMode = htmlElement.classList.contains('dark');

                // 绘制网络
                // 输入层
                const inputPositions = [];
                const inputLayerHeight = Math.min(height - 40, inputNodes * 40);
                const inputLayerTop = (height - inputLayerHeight) / 2;

                for (let i = 0; i < inputNodes; i++) {
                    const x = layerSpacing;
                    const y = inputLayerTop + (i * inputLayerHeight / (inputNodes - 1 || 1));
                    inputPositions.push({ x, y });

                    // 绘制节点
                    ctx.beginPath();
                    ctx.arc(x, y, nodeRadius, 0, Math.PI * 2);
                    ctx.fillStyle = inputColor;
                    ctx.fill();
                }

                // 隐藏层
                const hiddenLayersPositions = [];

                for (let layer = 0; layer < hiddenLayers; layer++) {
                    const layerPositions = [];
                    const hiddenLayerHeight = Math.min(height - 40, hiddenNodes * 40);
                    const hiddenLayerTop = (height - hiddenLayerHeight) / 2;

                    for (let i = 0; i < hiddenNodes; i++) {
                        const x = layerSpacing * (layer + 2);
                        const y = hiddenLayerTop + (i * hiddenLayerHeight / (hiddenNodes - 1 || 1));
                        layerPositions.push({ x, y });

                        // 绘制节点
                        ctx.beginPath();
                        ctx.arc(x, y, nodeRadius, 0, Math.PI * 2);
                        ctx.fillStyle = hiddenColor;
                        ctx.fill();
                    }

                    hiddenLayersPositions.push(layerPositions);
                }

                // 输出层
                const outputPositions = [];
                const outputLayerHeight = Math.min(height - 40, outputNodes * 40);
                const outputLayerTop = (height - outputLayerHeight) / 2;

                for (let i = 0; i < outputNodes; i++) {
                    const x = layerSpacing * (hiddenLayers + 2);
                    const y = outputLayerTop + (i * outputLayerHeight / (outputNodes - 1 || 1));
                    outputPositions.push({ x, y });

                    // 绘制节点
                    ctx.beginPath();
                    ctx.arc(x, y, nodeRadius, 0, Math.PI * 2);
                    ctx.fillStyle = outputColor;
                    ctx.fill();
                }

                // 绘制连接线 - 输入到第一个隐藏层
                ctx.globalAlpha = 0.3;
                ctx.strokeStyle = edgeColor;
                ctx.lineWidth = 1;

                if (hiddenLayers > 0) {
                    for (const inputPos of inputPositions) {
                        for (const hiddenPos of hiddenLayersPositions[0]) {
                            ctx.beginPath();
                            ctx.moveTo(inputPos.x, inputPos.y);
                            ctx.lineTo(hiddenPos.x, hiddenPos.y);
                            ctx.stroke();
                        }
                    }

                    // 隐藏层之间的连接
                    for (let i = 0; i < hiddenLayers - 1; i++) {
                        for (const pos1 of hiddenLayersPositions[i]) {
                            for (const pos2 of hiddenLayersPositions[i + 1]) {
                                ctx.beginPath();
                                ctx.moveTo(pos1.x, pos1.y);
                                ctx.lineTo(pos2.x, pos2.y);
                                ctx.stroke();
                            }
                        }
                    }

                    // 最后隐藏层到输出层
                    for (const hiddenPos of hiddenLayersPositions[hiddenLayers - 1]) {
                        for (const outputPos of outputPositions) {
                            ctx.beginPath();
                            ctx.moveTo(hiddenPos.x, hiddenPos.y);
                            ctx.lineTo(outputPos.x, outputPos.y);
                            ctx.stroke();
                        }
                    }
                } else {
                    // 直接从输入到输出的连接
                    for (const inputPos of inputPositions) {
                        for (const outputPos of outputPositions) {
                            ctx.beginPath();
                            ctx.moveTo(inputPos.x, inputPos.y);
                            ctx.lineTo(outputPos.x, outputPos.y);
                            ctx.stroke();
                        }
                    }
                }

                ctx.globalAlpha = 1;

                // 添加标签
                ctx.fillStyle = isDarkMode ? '#e2e8f0' : '#1e293b';
                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('输入层', layerSpacing, height - 10);

                if (hiddenLayers > 0) {
                    ctx.fillText('隐藏层', layerSpacing * (1 + hiddenLayers) / 2 + layerSpacing, height - 10);
                }

                ctx.fillText('输出层', layerSpacing * (hiddenLayers + 2), height - 10);
            }

            // 设置神经网络推荐
            function setupNNRecommendation() {
                if (!recommendButton) return;

                recommendButton.addEventListener('click', function () {
                    const dataType = dataTypeSelect.value;
                    const taskType = taskTypeSelect.value;

                    // 根据选择推荐网络
                    let recommendation = {
                        network: '',
                        description: '',
                        image: ''
                    };

                    if (dataType === 'image') {
                        recommendation.network = '卷积神经网络 (CNN)';
                        recommendation.description = '卷积神经网络非常适合处理图像数据。它使用卷积层来提取局部特征，池化层减少维度，能有效识别图像中的模式。';
                        recommendation.image = 'svg/cnn-architecture.svg';
                    } else if (dataType === 'text' || dataType === 'sequence') {
                        if (taskType === 'generation') {
                            recommendation.network = '长短期记忆网络 (LSTM) 或 Transformer';
                            recommendation.description = '对于文本生成任务，LSTM或Transformer是很好的选择。Transformer特别适合长文本和复杂依赖关系的处理。';
                            recommendation.image = 'svg/transformer-architecture.svg';
                        } else {
                            recommendation.network = '长短期记忆网络 (LSTM/GRU)';
                            recommendation.description = 'LSTM或GRU适合处理文本和序列数据，它们能有效捕获长期依赖关系。';
                            recommendation.image = 'svg/lstm-architecture.svg';
                        }
                    } else if (dataType === 'time-series') {
                        recommendation.network = '长短期记忆网络 (LSTM) 或 GRU';
                        recommendation.description = '对于时间序列数据，LSTM或GRU是理想选择，它们能学习序列中的时间模式和长期依赖。';
                        recommendation.image = 'svg/lstm-architecture.svg';
                    } else if (taskType === 'anomaly') {
                        recommendation.network = '自编码器 (Autoencoder)';
                        recommendation.description = '自编码器通过学习重建输入数据，非常适合异常检测任务。异常样本通常会有较高的重建误差。';
                        recommendation.image = 'svg/autoencoder-architecture.svg';
                    } else if (taskType === 'generation') {
                        recommendation.network = '生成对抗网络 (GAN)';
                        recommendation.description = 'GAN由生成器和判别器组成，非常适合生成任务。它能学习数据分布并生成逼真的新样本。';
                        recommendation.image = 'svg/gan-architecture.svg';
                    } else {
                        recommendation.network = '前馈神经网络 (FNN / MLP)';
                        recommendation.description = '对于简单的分类或回归任务，尤其是表格数据，前馈神经网络是一个可靠的选择。';
                        recommendation.image = 'svg/fnn-architecture.svg';
                    }

                    // 更新UI
                    recommendedTitle.innerHTML = '推荐网络: <span class="text-primary-600">' + recommendation.network + '</span>';
                    recommendedDesc.textContent = recommendation.description;
                    recommendedImg.src = recommendation.image;
                    recommendedImg.alt = recommendation.network;

                    // 显示推荐
                    recommendationDiv.classList.remove('hidden');
                });
            }

            // 使用Intersection Observer来监测元素是否进入视口
            const observer = new IntersectionObserver(handleIntersection, {
                root: null, // 使用视口作为观察根
                threshold: 0.1, // 当目标元素的10%进入视口时触发
                rootMargin: '0px 0px -50px 0px' // 底部偏移，提前触发
            });

            // 初始化神经网络可视化
            if (nnCanvas) {
                // 初次绘制
                drawNeuralNetwork();

                // 添加滑块事件监听
                inputNodesSlider.addEventListener('input', drawNeuralNetwork);
                hiddenLayersSlider.addEventListener('input', drawNeuralNetwork);
                hiddenNodesSlider.addEventListener('input', drawNeuralNetwork);
                outputNodesSlider.addEventListener('input', drawNeuralNetwork);

                // 主题切换时重新绘制
                themeToggle.addEventListener('click', function () {
                    // 延迟调用以确保主题已切换
                    setTimeout(drawNeuralNetwork, 50);
                });
            }

            // 添加事件监听器
            themeToggle.addEventListener('click', toggleTheme);
            mobileMenuButton.addEventListener('click', toggleMobileMenu);

            // 初始化推荐系统
            setupNNRecommendation();

            // 为每个内容块添加观察者
            sectionContents.forEach(section => {
                observer.observe(section);
            });

            // 初始化
            initTheme();
            handleImageLoad();
            setupSmoothScrolling();

            // 关闭移动端菜单的点击事件（点击页面其他部分时关闭）
            document.addEventListener('click', function (e) {
                if (!mobileMenu.classList.contains('hidden') &&
                    !mobileMenuButton.contains(e.target) &&
                    !mobileMenu.contains(e.target)) {
                    mobileMenu.classList.add('hidden');
                }
            });
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 获取滑块元素
            const temperatureSlider = document.getElementById('temperatureSlider');
            const tempValue = document.getElementById('tempValue');
            const generateBtn = document.getElementById('generateBtn');
            const generationResult = document.getElementById('generationResult');
            const generatedText = document.getElementById('generatedText');

            // 确保元素存在
            if (!temperatureSlider || !tempValue || !generateBtn || !generationResult || !generatedText) {
                console.error("找不到必要的DOM元素");
                return;
            }

            // 设置初始值
            tempValue.textContent = temperatureSlider.value;

            // 滑块事件监听
            temperatureSlider.addEventListener('input', function () {
                tempValue.textContent = this.value;
            });

            // 模拟的生成结果（根据不同温度）
            const simulatedResponses = {
                low: [
                    "发展迅速，为各行各业带来重大变革。人工智能技术的应用将提高生产效率，优化资源分配，创造新的就业机会。同时，我们也需要关注人工智能发展带来的伦理问题和社会影响。",
                    "成为未来科技发展的核心驱动力。它将在医疗、教育、交通等领域发挥关键作用，提高人类生活质量，解决许多当前面临的挑战。"
                ],
                medium: [
                    "在未来十年内快速发展并融入我们的日常生活。智能助手将变得更加智能，自动驾驶汽车可能成为常态，个性化医疗方案将更加精准。不过，我们也需要思考如何平衡技术进步与人文关怀。",
                    "改变我们工作和生活的方式。它可能带来新的就业机会，也可能取代一些传统工作。AI艺术创作将与人类艺术家并存，形成独特的表达方式。"
                ],
                high: [
                    "像一场静悄悄的革命，潜移默化地改变我们的思考方式。机器不仅会学习，还会创造；不仅会模仿，还会超越。或许有一天，AI与人类的界限将变得模糊，我们可能需要重新定义'智能'与'意识'。",
                    "既是光明的使者，也是暗夜中的迷雾。它可能帮助我们克服疾病、探索宇宙，也可能带来前所未有的伦理挑战。在这个AI与人类共舞的新时代，我们需要智慧、勇气和远见。"
                ]
            };

            // 生成文本按钮点击事件
            generateBtn.addEventListener('click', function () {
                const promptInput = document.getElementById('promptInput');
                if (!promptInput) {
                    console.error("找不到提示词输入框");
                    return;
                }

                const prompt = promptInput.value.trim();
                if (!prompt) {
                    alert('请输入提示词');
                    return;
                }

                // 显示生成结果区域 - 确保移除hidden类
                generationResult.style.display = 'block';
                generatedText.textContent = '';

                // 获取当前温度
                const temp = parseFloat(temperatureSlider.value);

                // 根据温度选择不同的生成结果
                let responseSet;
                if (temp < 0.5) {
                    responseSet = simulatedResponses.low;
                } else if (temp < 1.0) {
                    responseSet = simulatedResponses.medium;
                } else {
                    responseSet = simulatedResponses.high;
                }

                // 随机选择一个响应
                const response = responseSet[Math.floor(Math.random() * responseSet.length)];

                // 模拟逐词生成效果
                let i = 0;
                const typingSpeed = 50; // 基础打字速度

                function typeText() {
                    if (i < response.length) {
                        generatedText.textContent += response.charAt(i);
                        i++;
                        // 随机变化打字速度，模拟真实生成
                        setTimeout(typeText, typingSpeed + Math.random() * 20);
                    }
                }

                typeText();
            });
        });
    </script>

    <script>
        const cardsContainer = document.getElementById('cardsContainer');
        const indicators = document.querySelectorAll('[data-indicator]');
        const cards = document.querySelectorAll('.min-w-full');

        // 监听滚动事件，更新指示器状态
        cardsContainer.addEventListener('scroll', () => {
            const cardWidth = cardsContainer.querySelector('.min-w-full').offsetWidth;
            const scrollPosition = cardsContainer.scrollLeft;
            const activeIndex = Math.round(scrollPosition / cardWidth);

            // 动态更新指示器的小条亮起
            indicators.forEach((indicator, index) => {
                if (index === activeIndex) {
                    indicator.classList.add('bg-emerald-500');
                    indicator.classList.remove('bg-gray-300', 'dark:bg-gray-600');
                } else {
                    indicator.classList.add('bg-gray-300', 'dark:bg-gray-600');
                    indicator.classList.remove('bg-emerald-500');
                }
            });
        });

        // 点击指示器时，滚动到对应的卡片
        indicators.forEach((indicator, index) => {
            indicator.addEventListener('click', () => {
                cards[index].scrollIntoView({
                    behavior: 'smooth',
                    block: 'nearest',
                    inline: 'center'
                });
            });
        });

        // 初始化时，确保第一个指示器亮起
        window.onload = () => {
            indicators[0].classList.add('bg-emerald-500');
        };

        // 答案显示逻辑
        document.querySelectorAll('input[type="radio"]').forEach(input => {
            input.addEventListener('change', () => {
                const cardIndex = Array.from(input.closest('.min-w-full').parentElement.children).indexOf(input.closest('.min-w-full'));
                const correct = input.dataset.correct === 'true';
                const answerDiv = document.getElementById(`answer${cardIndex + 1}`);
                if (correct) {
                    answerDiv.querySelector('p').classList.add('text-green-600');
                } else {
                    answerDiv.querySelector('p').classList.add('text-red-600');
                }
                answerDiv.classList.remove('hidden');
            });
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const slider = document.getElementById('promptSlider');
            const optimizeValue = document.getElementById('optimizeValue');
            const optimizedPrompt = document.getElementById('optimizedPrompt');
            const optimizationPoints = document.getElementById('optimizationPoints');

            // 不同级别的优化模
            const promptLevels = {
                1: {
                    prompt: "请撰写一篇1000字的人工智能发展现状分析文章，重点讨论大语言模型的应用与挑战。",
                    level: "基础",
                    points: [
                        "指定文章长度（1000字）",
                        "明确主题范围（大语言模型的应用与挑战）"
                    ]
                },
                2: {
                    prompt: "请以人工智能专家的角色，撰写一篇1000字的人工智能发展现状分析文章，重点讨论大语言模型的应用与挑战。包含以下小标题：发展背景、主要技术突破、行业应用、伦理考量。",
                    level: "进阶",
                    points: [
                        "指定文章长度（1000字）",
                        "明确主题范围（大语言模型的应用与挑战）",
                        "设定角色（人工智能专家）",
                        "提供内容结构（发展背景、技术突破、应用、伦理）"
                    ]
                },
                3: {
                    prompt: "你是一位科技杂志资深编辑，请撰写一篇面向高科技行业人士的人工智能分析文章。长度约1000字，主题为'大语言模型的当前应用与未来挑战'。包含以下内容：1）发展背景与历史，2）主要技术突破（尤其是Transformer架构），3）行业应用案例，4）伦理与安全考量。使用客观专业的语气，避免炒作。请在文章最后总结未来三年可能的发展趋势，并使用Markdown格式保证易读性。",
                    level: "专业",
                    points: [
                        "指定文章长度（1000字）",
                        "明确主题范围（大语言模型的应用与挑战）",
                        "设定明确角色（科技杂志资深编辑）",
                        "指定目标受众（高科技行业人士）",
                        "提供详细内容结构（包括具体技术细节）",
                        "设定语气风格（客观专业，避免炒作）",
                        "要求特定总结（未来三年发展趋势）",
                        "指定输出格式（Markdown）"
                    ]
                }
            };

            // 更新滑块值事件
            slider.addEventListener('input', function () {
                const level = parseInt(this.value);
                optimizeValue.textContent = promptLevels[level].level;
                optimizedPrompt.textContent = promptLevels[level].prompt;

                // 更新优化要点
                optimizationPoints.innerHTML = '';
                promptLevels[level].points.forEach(point => {
                    optimizationPoints.innerHTML += `<li>${point}</li>`;
                });
            });
        });
    </script>
</body>

</html>
